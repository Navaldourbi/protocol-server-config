BAP:
  flows:
    - summary: Metro - Station Code Based Flow
      id: metro-flow-1
      domain: ONDC:TRV11
      shouldDispaly: true
      sessionData:
        version: 2.0.0
        collectedBy: BAP
        bankAccountNumber: '123456789'
        virtualPaymentAddress: adasd@okiciic
        bankCode: fj3jf9ij3f02
      protocol:
        search_route:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.intent.fulfillment.vehicle.category
              value: data.vehicleCategaory || session.vehicleCategaory
            - beckn_key: message.intent.payment.tags
              value: data.paymentTagsSearch
              compute: buildTags(data.paymentTagsSearch)
        search_trip:
          sessionData:
            - beckn_key: currentTransactionId
              value: newTranscationId
            - beckn_key: transactionIds
              value: '[...session.transactionIds, newTranscationId]'
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: data.bpp_id
            - beckn_key: context.bpp_uri
              value: data.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.intent.fulfillment.stops[0].type
              value: startPoint
              check: data?.startStop
            - beckn_key: message.intent.fulfillment.stops[0].location.descriptor.code
              value: data?.startStop
            - beckn_key: message.intent.fulfillment.stops[1].type
              value: endPoint
              check: data?.endStop
            - beckn_key: message.intent.fulfillment.stops[1].location.descriptor.code
              value: data?.endStop
            - beckn_key: message.intent.fulfillment.vehicle.category
              value: data.vehicleCategaory || session.vehicleCategaory
            - beckn_key: message.intent.payment.tags
              value: data.paymentTags || session.paymentTagsSearch
              compute: buildTags(data.paymentTags || session.paymentTagsSearch)
        select:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: data.itemId
            - beckn_key: message.order.items[0].quantity.selected.count
              value: parseInt(data.quantity)
            - beckn_key: message.order.provider.id
              value: data.providerId
        init:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: session.itemId
            - beckn_key: message.order.items[0].quantity.selected.count
              value: session.quantitySelected
            - beckn_key: message.order.provider.id
              value: session.providerId
            - beckn_key: message.order.billing.name
              value: data.name
            - beckn_key: message.order.billing.email
              value: data.email
            - beckn_key: message.order.billing.phone
              value: data.phone
            - beckn_key: message.order.payments[0].collected_by
              value: session.collectedBy
            - beckn_key: message.order.payments[0].status
              value: data.paymentStatus
            - beckn_key: message.order.payments[0].type
              value: data.paymentType
            - beckn_key: message.order.payments[0].params.bank_code
              value: session.bankCode
            - beckn_key: message.order.payments[0].params.bank_account_number
              value: session.bankAccountNumber
            - beckn_key: message.order.payments[0].params.virtual_payment_address
              value: session.virtualPaymentAddress
            - beckn_key: message.order.payments[0].tags
              value: data.paymentTagsInit
              compute: buildTags(data.paymentTagsInit)
        confirm:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: session.itemId
            - beckn_key: message.order.items[0].quantity.selected.count
              value: session.quantitySelected
            - beckn_key: message.order.provider.id
              value: session.providerId
            - beckn_key: message.order.billing.name
              value: session.name
            - beckn_key: message.order.billing.email
              value: session.email
            - beckn_key: message.order.billing.phone
              value: session.phone
            - beckn_key: message.order.payments[0].id
              value: data.paymentId
            - beckn_key: message.order.payments[0].collected_by
              value: session.collectedBy
            - beckn_key: message.order.payments[0].status
              value: data.paymentStatusConfirm
            - beckn_key: message.order.payments[0].type
              value: data.paymentTypeConfirm
            - beckn_key: message.order.payments[0].params.transaction_id
              value: data.paymentTranscationId
            - beckn_key: message.order.payments[0].params.currency
              value: data.currency
            - beckn_key: message.order.payments[0].params.amount
              value: data.amount
            - beckn_key: message.order.payments[0].tags
              value: data.paymentTagsConfirm
              compute: buildTags(data.paymentTagsConfirm)
        status:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order_id
              value: data.orderId
        on_search_route:
          mapping:
            - business_key: name
              extractionPath: message.catalog.descriptor.name
            - business_key: bpp_id
              extractionPath: context.bpp_id
            - business_key: bpp_uri
              extractionPath: context.bpp_uri
            - business_key: location
              extractionPath: >-
                message.catalog.providers[].fulfillments[].stops[]{locationName:
                location.descriptor.code}
            - business_key: error
              extractionPath: error
        on_search_trip:
          mapping:
            - business_key: name
              extractionPath: message.catalog.descriptor.name
            - business_key: bpp_id
              extractionPath: context.bpp_id
            - business_key: bpp_uri
              extractionPath: context.bpp_uri
            - business_key: items
              extractionPath: >-
                message.catalog.providers[]{providerId: id}.items[]{id: id,
                name: descriptor.name}
            - business_key: error
              extractionPath: error
        on_select:
          mapping:
            - business_key: breakup
              extractionPath: >-
                message.order.quote.breakup[]{type: title, totalPrice:
                price.value, UOP: price.currency}
            - business_key: error
              extractionPath: error
        on_init:
          sessionData:
            - business_key: paymentID
              extractionPath: 'message.order.payments[]{id: id}'
            - business_key: totalPrice
              extractionPath: message.order.quote.price
          mapping:
            - business_key: paymentDetails
              extractionPath: 'message.order.payments[]{id: id, type: type, status: status}'
            - business_key: totalPrice
              extractionPath: message.order.quote.price
            - business_key: error
              extractionPath: error
        on_confirm:
          mapping:
            - business_key: orderId
              extractionPath: message.order.id
            - business_key: status
              extractionPath: message.order.status
            - business_key: QR code
              extractionPath: >-
                message.order.fulfillments[]{providerId: id}.stops[?(type ===
                "START")]{token: authorization.token, status:
                authorization.status}
            - business_key: error
              extractionPath: error
        on_status:
          mapping:
            - business_key: status
              extractionPath: message.order.status
            - business_key: error
              extractionPath: error
      calls:
        - config: search_route
          mode: ASYNC
        - config: search_trip
          mode: SYNC
        - config: select
          mode: ASYNC
        - config: init
          mode: SYNC
        - config: confirm
          mode: ASYNC
        - config: status
          mode: SYNC
        - config: on_search_route
          endpoint: mapper/ondc
          mode: ASYNC
        - config: on_search_trip
          endpoint: mapper/ondc
          mode: SYNC
        - config: on_select
          endpoint: mapper/ondc
          mode: ASYNC
        - config: on_init
          endpoint: mapper/ondc
          mode: SYNC
        - config: on_confirm
          endpoint: mapper/ondc
          mode: ASYNC
        - config: on_status
          endpoint: mapper/ondc
          mode: SYNC
    - summary: IntraCity - Code Based Flow
      id: intracity-flow-1
      domain: ONDC:TRV11
      shouldDispaly: true
      sessionData:
        version: 2.0.0
        collectedBy: BAP
        bankAccountNumber: '123456789'
        virtualPaymentAddress: adasd@okiciic
        bankCode: fj3jf9ij3f02
      protocol:
        search_route:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.intent.fulfillment.vehicle.category
              value: data.vehicleCategaory || session.vehicleCategaory
            - beckn_key: message.intent.payment.tags
              value: data.paymentTagsSearch
              compute: buildTags(data.paymentTagsSearch)
        search_trip:
          sessionData:
            - beckn_key: currentTransactionId
              value: newTranscationId
            - beckn_key: transactionIds
              value: '[...session.transactionIds, newTranscationId]'
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: data.bpp_id
            - beckn_key: context.bpp_uri
              value: data.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.intent.fulfillment.stops[0].type
              value: startPoint
              check: data?.startStop
            - beckn_key: message.intent.fulfillment.stops[0].location.descriptor.code
              value: data?.startStop
            - beckn_key: message.intent.fulfillment.stops[1].type
              value: endPoint
              check: data?.endStop
            - beckn_key: message.intent.fulfillment.stops[1].location.descriptor.code
              value: data?.endStop
            - beckn_key: message.intent.fulfillment.vehicle.category
              value: data.vehicleCategaory || session.vehicleCategaory
            - beckn_key: message.intent.payment.tags
              value: data.paymentTags || session.paymentTagsSearch
              compute: buildTags(data.paymentTags || session.paymentTagsSearch)
        select:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: data.itemId
            - beckn_key: message.order.items[0].quantity.selected.count
              value: parseInt(data.quantity)
            - beckn_key: message.order.provider.id
              value: data.providerId
        init:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: session.itemId
            - beckn_key: message.order.items[0].quantity.selected.count
              value: session.quantitySelected
            - beckn_key: message.order.provider.id
              value: session.providerId
            - beckn_key: message.order.billing.name
              value: data.name
            - beckn_key: message.order.billing.email
              value: data.email
            - beckn_key: message.order.billing.phone
              value: data.phone
            - beckn_key: message.order.payments[0].collected_by
              value: session.collectedBy
            - beckn_key: message.order.payments[0].status
              value: data.paymentStatus
            - beckn_key: message.order.payments[0].type
              value: data.paymentType
            - beckn_key: message.order.payments[0].params.bank_code
              value: session.bankCode
            - beckn_key: message.order.payments[0].params.bank_account_number
              value: session.bankAccountNumber
            - beckn_key: message.order.payments[0].params.virtual_payment_address
              value: session.virtualPaymentAddress
            - beckn_key: message.order.payments[0].tags
              value: data.paymentTagsInit
              compute: buildTags(data.paymentTagsInit)
        confirm:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: session.itemId
            - beckn_key: message.order.items[0].quantity.selected.count
              value: session.quantitySelected
            - beckn_key: message.order.provider.id
              value: session.providerId
            - beckn_key: message.order.billing.name
              value: session.name
            - beckn_key: message.order.billing.email
              value: session.email
            - beckn_key: message.order.billing.phone
              value: session.phone
            - beckn_key: message.order.payments[0].id
              value: data.paymentId
            - beckn_key: message.order.payments[0].collected_by
              value: session.collectedBy
            - beckn_key: message.order.payments[0].status
              value: data.paymentStatusConfirm
            - beckn_key: message.order.payments[0].type
              value: data.paymentTypeConfirm
            - beckn_key: message.order.payments[0].params.transaction_id
              value: data.paymentTranscationId
            - beckn_key: message.order.payments[0].params.currency
              value: data.currency
            - beckn_key: message.order.payments[0].params.amount
              value: data.amount
            - beckn_key: message.order.payments[0].tags
              value: data.paymentTagsConfirm
              compute: buildTags(data.paymentTagsConfirm)
        status:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order_id
              value: data.orderId
        on_search_route:
          mapping:
            - business_key: name
              extractionPath: message.catalog.descriptor.name
            - business_key: bpp_id
              extractionPath: context.bpp_id
            - business_key: bpp_uri
              extractionPath: context.bpp_uri
            - business_key: location
              extractionPath: >-
                message.catalog.providers[].fulfillments[].stops[]{locationName:
                location.descriptor.code}
            - business_key: error
              extractionPath: error
        on_search_trip:
          mapping:
            - business_key: name
              extractionPath: message.catalog.descriptor.name
            - business_key: bpp_id
              extractionPath: context.bpp_id
            - business_key: bpp_uri
              extractionPath: context.bpp_uri
            - business_key: items
              extractionPath: >-
                message.catalog.providers[]{providerId: id}.items[]{id: id,
                name: descriptor.name}
            - business_key: error
              extractionPath: error
        on_select:
          mapping:
            - business_key: breakup
              extractionPath: >-
                message.order.quote.breakup[]{type: title, totalPrice:
                price.value, UOP: price.currency}
            - business_key: error
              extractionPath: error
        on_init:
          sessionData:
            - business_key: paymentID
              extractionPath: 'message.order.payments[]{id: id}'
            - business_key: totalPrice
              extractionPath: message.order.quote.price
          mapping:
            - business_key: paymentDetails
              extractionPath: 'message.order.payments[]{id: id, type: type, status: status}'
            - business_key: totalPrice
              extractionPath: message.order.quote.price
            - business_key: error
              extractionPath: error
        on_confirm:
          mapping:
            - business_key: orderId
              extractionPath: message.order.id
            - business_key: status
              extractionPath: message.order.status
            - business_key: QR code
              extractionPath: >-
                message.order.fulfillments[]{providerId: id}.stops[?(type ===
                "START")]{token: authorization.token, status:
                authorization.status}
            - business_key: error
              extractionPath: error
        on_status:
          mapping:
            - business_key: status
              extractionPath: message.order.status
            - business_key: error
              extractionPath: error
      calls:
        - config: search_route
          mode: ASYNC
        - config: search_trip
          mode: SYNC
        - config: select
          mode: ASYNC
        - config: init
          mode: SYNC
        - config: confirm
          mode: ASYNC
        - config: status
          mode: SYNC
        - config: on_search_route
          endpoint: mapper/ondc
          mode: ASYNC
        - config: on_search_trip
          endpoint: mapper/ondc
          mode: SYNC
        - config: on_select
          endpoint: mapper/ondc
          mode: ASYNC
        - config: on_init
          endpoint: mapper/ondc
          mode: SYNC
        - config: on_confirm
          endpoint: mapper/ondc
          mode: ASYNC
        - config: on_status
          endpoint: mapper/ondc
          mode: SYNC
    - summary: InterCity(Bus) - Station Code Based Flow
      id: intercity-flow-1
      shouldDispaly: false
      domain: ONDC:TRV12
      sessionData:
        version: 2.0.0
        tax_id: GSTIN:22AAAAA0000A1Z5
        collected_by: BAP
        name: Joe Adams
        phone: +91-9988776655
        age: '30'
        gender": MALE
        time:
          label: DATE_OF_JOURNEY
          timestamp: '2023-09-06T00:00:00.000Z'
      protocol:
        search_bus:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.intent.fulfillment.stops[0].type
              value: startPoint
            - beckn_key: message.intent.fulfillment.stops[0].location.descriptor.code
              value: session.cityCode
            - beckn_key: message.intent.fulfillment.vehicle.category
              value: data.vehicleCategaory || session.vehicleCategaory
            - beckn_key: message.intent.payment.tags
              value: data.paymentTagsSearch
              compute: buildTags(data.paymentTagsSearch)
        search_station:
          sessionData:
            - beckn_key: currentTransactionId
              value: newTranscationId
            - beckn_key: transactionIds
              value: '[...session.transactionIds, newTranscationId]'
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.intent.fulfillment.stops[0].type
              value: startPoint
              check: data?.startStop
            - beckn_key: message.intent.fulfillment.stops[0].location.descriptor.code
              value: data?.startStop
            - beckn_key: message.intent.fulfillment.stops[0].time
              value: session.time
            - beckn_key: message.intent.fulfillment.stops[1].type
              value: endPoint
              check: data?.endStop
            - beckn_key: message.intent.fulfillment.stops[1].location.descriptor.code
              value: data?.endStop
            - beckn_key: message.intent.fulfillment.vehicle.category
              value: data.vehicleCategaory || session.vehicleCategaory
            - beckn_key: message.intent.payment.tags
              value: data.paymentTags || session.paymentTagsSearch
              compute: buildTags(data.paymentTags || session.paymentTagsSearch)
        search_service:
          sessionData:
            - beckn_key: currentTransactionId
              value: newTranscationId
            - beckn_key: transactionIds
              value: '[...session.transactionIds, newTranscationId]'
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.intent.fulfillment.id
              value: data.fulfillmentId
            - beckn_key: message.intent.fulfillment.stops[0].type
              value: data.startStopType
            - beckn_key: message.intent.fulfillment.stops[0].id
              value: data?.startStop
            - beckn_key: message.intent.fulfillment.stops[1].type
              value: data.endStopType
            - beckn_key: message.intent.fulfillment.stops[1].id
              value: data?.endStop
            - beckn_key: message.intent.provider.id
              value: data.providerId
            - beckn_key: message.intent.fulfillment.vehicle.category
              value: data.vehicleCategaory || session.vehicleCategaory
            - beckn_key: message.intent.payment.tags
              value: data.paymentTagsSearchService || session.paymentTagsSearch
              compute: >-
                buildTags(data.paymentTagsSearchService ||
                session.paymentTagsSearch)
        select:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: data.itemId
            - beckn_key: message.order.items[0].quantity.selected.count
              value: parseInt(data.quantity)
            - beckn_key: message.order.fulfillments[0].id
              value: data.fulfillmentId
            - beckn_key: message.order.fulfillments[0].stops[0].type
              value: data.startStopType
            - beckn_key: message.order.fulfillments[0].stops[0].id
              value: data?.startStop
            - beckn_key: message.order.fulfillments[0].stops[1].type
              value: data.endStopType
            - beckn_key: message.order.fulfillments[0].stops[1].id
              value: data?.endStop
            - beckn_key: message.order.provider.id
              value: data.providerId
            - beckn_key: message.order.fulfillments[0].tags
              value: data.paymentTagsSearchService || session.paymentTagsSearch
              compute: >-
                buildTags(data.paymentTagsSearchService ||
                session.paymentTagsSearch)
        init:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: data.itemId
            - beckn_key: message.order.items[0].quantity.selected.count
              value: parseInt(data.quantity)
            - beckn_key: message.order.provider.id
              value: data.providerId
            - beckn_key: message.order.fulfillments[0].id
              value: data.fulfillmentId
            - beckn_key: message.order.fulfillments[0].stops[0].type
              value: data.startStopType
            - beckn_key: message.order.fulfillments[0].stops[0].id
              value: data?.startStop
            - beckn_key: message.order.fulfillments[0].stops[1].type
              value: data.endStopType
            - beckn_key: message.order.fulfillments[0].stops[1].id
              value: data?.endStop
            - beckn_key: message.order.fulfillments[0].customer.person.name
              value: session.name
            - beckn_key: message.order.fulfillments[0].customer.person.age
              value: session.age
            - beckn_key: message.order.fulfillments[0].customer.person.gender
              value: session.gender
            - beckn_key: message.order.fulfillments[0].customer.contact.phone
              value: session.phone
            - beckn_key: message.order.billing.name
              value: session.name
            - beckn_key: message.order.billing.phone
              value: session.phone
            - beckn_key: message.order.billing.tax_id
              value: session.tax_id
            - beckn_key: message.order.provider.id
              value: data.providerId
            - beckn_key: message.order.payments[0].collected_by
              value: session.collected_by
            - beckn_key: message.order.payments[0].status
              value: data.paymentStatusInit
            - beckn_key: message.order.payments[0].type
              value: data.paymentTypeInit
            - beckn_key: message.order.payments[0].tags
              value: data.paymentTagsInit
              compute: buildTags(data.paymentTagsInit)
        confirm:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: session.itemId
            - beckn_key: message.order.items[0].quantity.selected.count
              value: session.quantitySelected
            - beckn_key: message.order.provider.id
              value: session.providerId
            - beckn_key: message.order.billing.name
              value: session.name
            - beckn_key: message.order.billing.email
              value: session.email
            - beckn_key: message.order.billing.phone
              value: session.phone
            - beckn_key: message.order.payments[0].collected_by
              value: session.collected_by
            - beckn_key: message.order.payments[0].status
              value: data.paymentStatusConfirm
            - beckn_key: message.order.payments[0].type
              value: data.paymentTypeConfirm
            - beckn_key: message.order.payments[0].params.transaction_id
              value: session.paymentID[0].id
            - beckn_key: message.order.payments[0].params.currency
              value: session.quoteCurrency
            - beckn_key: message.order.payments[0].params.amount
              value: session.quoteValue
            - beckn_key: message.order.payments[0].tags
              value: data.paymentTagsConfirm
              compute: buildTags(data.paymentTagsConfirm)
        on_search_bus:
          mapping:
            - business_key: name
              extractionPath: message.catalog.descriptor.name
            - business_key: bpp_id
              extractionPath: context.bpp_id
            - business_key: bpp_uri
              extractionPath: context.bpp_uri
            - business_key: location
              extractionPath: >-
                message.catalog.providers[].fulfillments[].stops[]{locationName:
                location.descriptor.code}
            - business_key: error
              extractionPath: error
        on_search_station:
          mapping:
            - business_key: name
              extractionPath: message.catalog.descriptor.name
            - business_key: bpp_id
              extractionPath: context.bpp_id
            - business_key: bpp_uri
              extractionPath: context.bpp_uri
            - business_key: items
              extractionPath: >-
                message.catalog.providers[]{providerId:
                id}.fulfillments[]{fulfillmentId: id}.stops[]{stopId: id, type:
                type, locationName: location.descriptor.code}
            - business_key: error
              extractionPath: error
        on_search_service:
          mapping:
            - business_key: items
              extractionPath: >-
                message.catalog.providers[].items[]{id: id, price: price, name:
                descriptor.name}
        on_select:
          mapping:
            - business_key: breakup
              extractionPath: >-
                message.order.quote.breakup[]{type: title, totalPrice:
                price.value, UOP: price.currency}
            - business_key: error
              extractionPath: error
        on_init:
          sessionData:
            - business_key: paymentID
              extractionPath: 'message.order.payments[]{id: id}'
            - business_key: quoteCurrency
              extractionPath: message.order.quote.price.currency
            - business_key: quoteValue
              extractionPath: message.order.quote.price.value
          mapping:
            - business_key: paymentDetails
              extractionPath: 'message.order.payments[]{id: id, type: type, status: status}'
            - business_key: error
              extractionPath: error
        on_confirm:
          mapping:
            - business_key: orderId
              extractionPath: message.order.id
            - business_key: status
              extractionPath: message.order.status
            - business_key: QR code
              extractionPath: >-
                message.order.fulfillments[]{providerId:
                id}.stops[?(authorization)]{token: authorization.token, status:
                authorization.status}
            - business_key: error
              extractionPath: error
      calls:
        - config: search_bus
          mode: ASYNC
        - config: search_station
          mode: SYNC
        - config: search_service
          mode: ASYNC
        - config: select
          mode: ASYNC
        - config: init
          mode: SYNC
        - config: confirm
          mode: ASYNC
        - config: on_search_bus
          endpoint: mapper/ondc
          mode: ASYNC
        - config: on_search_station
          endpoint: mapper/ondc
          mode: SYNC
        - config: on_search_service
          endpoint: mapper/ondc
          mode: ASYNC
        - config: on_select
          endpoint: mapper/ondc
          mode: ASYNC
        - config: on_init
          endpoint: mapper/ondc
          mode: SYNC
        - config: on_confirm
          endpoint: mapper/ondc
          mode: ASYNC
BPP:
  flows:
    - summary: Metro - Station Code Based Flow
      id: metro-flow-1
      domain: ONDC:TRV11
      sessionData:
        bpp_uri: http://localhost:5500/ondc
        bpp_id: mobility-staging.ondc.org
        collectedBy: BAP
        bankAccountNumber: xxxxxxxxxxxxxx
        virtualPaymentAddress: 9988199772@okicic
        bankCode: XXXXXXXX
        metro_id: '1'
        categories:
          - descriptor:
              name: Ticket
              code: TICKET
            id: C1
          - descriptor:
              name: Pass
              code: PASS
            id: C2
        metro_starttime: '2023-09-14T05:30:00.000Z'
        metro_endtime: '2023-09-14T23:30:00.000Z'
        metro_images:
          - url: https://delhimetrorail.com/logos/logo.ico
        metro_name: Delhi Metro Rail Limited
        currency: INR
        payment_tags:
          BUYER_FINDER_FEES:
            display: false
            BUYER_FINDER_FEES_PERCENTAGE: '1'
          SETTLEMENT_TERMS:
            display: false
            SETTLEMENT_WINDOW: PT30D
            SETTLEMENT_BASIS: INVOICE_RECEIPT
            MANDATORY_ARBITRATION: 'TRUE'
            COURT_JURISDICTION: New Delhi
            STATIC_TERMS: https://api.example-bpp.com/booking/term
          SETTLEMENT_DETAILS:
            display: false
            SETTLEMENT_TYPE: UPI
        tags:
          SCHEDULED_INFO:
            display: false
            GTFS: https://metro-transit/gtfs-realtime
        cancellation_terms:
          - external_ref:
              mimetype: text/html
              url: https://transitsolutions.com/mf/tnc.html
        payment_type: PRE-ORDER
      protocol:
        search:
          sessionData:
            - beckn_key: bap_id
              value: data.context.bap_id
            - beckn_key: bap_uri
              value: data.context.bap_uri
            - beckn_key: cityCode
              value: data.context.location.city.code || session.cityCode
            - beckn_key: countryCode
              value: data.context.location.country.code || session.countryCode
          mapping:
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.transaction_id
              value: session.transaction_id
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.action
              value: data.context.action
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.location.country.code
              value: session.countryCode
            - beckn_key: context.ttl
              value: data.context.ttl
            - beckn_key: message.intent.fulfillment
              value: data.message.intent.fulfillment
        on_search:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.catalog.descriptor.name
              value: data.name
            - beckn_key: message.catalog.descriptor.images
              value: data.images
            - beckn_key: message.catalog.providers[0].id
              value: data.metro_id            ||  session.metro_id
            - beckn_key: message.catalog.providers[0].descriptor.images
              value: data.metro_images        ||  session.metro_images
            - beckn_key: message.catalog.providers[0].descriptor.name
              value: data.metro_name          ||  session.metro_name
            - beckn_key: message.catalog.providers[0].categories
              value: data.categories          ||  session.categories
            - beckn_key: message.catalog.providers[0].items
              value: data.metro_items
            - beckn_key: message.catalog.providers[0].fulfillments
              value: data.trips
            - beckn_key: message.catalog.providers[0].time.range.start
              value: data.metro_starttime     || session.metro_starttime
            - beckn_key: message.catalog.providers[0].time.range.end
              value: data.metro_endtime       || session.metro_endtime
            - beckn_key: message.catalog.providers[0].payments[0].tags
              value: data.payments_tags       || session.payment_tags
              compute: buildTags(data.payments_tags || session.payment_tags)
            - beckn_key: message.catalog.providers[0].tags
              value: data.tags                || session.tags
              compute: buildTags(data.tags    || session.tags)
            - beckn_key: message.catalog.providers[0].payments[0].collected_by
              value: data.payment_collectedby || session.collectedBy
        select:
          sessionData:
            - beckn_key: itemId
              value: data.message.order.items[0].id
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: data.message.order.items[0].id
        on_select:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items
              value: data.metro_items
            - beckn_key: message.order.provider.id
              value: data.metro_id            ||session.metro_id
            - beckn_key: message.order.provider.descriptor.name
              value: data.metro_name          || session.metro_name
            - beckn_key: message.order.provider.descriptor.images
              value: data.metro_images        ||session.metro_images
            - beckn_key: message.order.provider.time.range.start
              value: data.metro_starttime     || session.metro_starttime
            - beckn_key: message.order.provider.time.range.end
              value: data.metro_endtime       || session.metro_endtime
            - beckn_key: message.order.fulfillments
              value: data.trips
            - beckn_key: message.order.quote.price.value
              value: data.price
            - beckn_key: message.order.quote.price.currency
              value: session.currency
            - beckn_key: message.order.cancellation_terms
              value: data.cancellation_terms || session.cancellation_terms
            - beckn_key: message.order.tags
              value: data.tags || session.tags
              compute: buildTags(data.tags    || session.tags)
            - beckn_key: message.order.quote.breakup
              value: data.breakup
        init:
          sessionData:
            - beckn_key: bankCode
              value: >-
                data.message.order.payments[0].collected_by === 'BAP' &&
                data.message.order.payments[0].params.bank_code ||
                session.bankCode
            - beckn_key: bankAccountNumber
              value: >-
                data.message.order.payments[0].collected_by === 'BAP' &&
                data.message.order.payments[0].params.bank_account_number ||
                session.bankAccountNumber
            - beckn_key: virtualPaymentAddress
              value: >-
                data.message.order.payments[0].collected_by === 'BAP' &&
                data.message.order.payments[0].params.virtual_payment_address ||
                session.virtualPaymentAddress
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: data.message.order.items[0].id
        on_init:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items
              value: data.metro_items
            - beckn_key: message.order.provider.id
              value: data.metro_id            ||session.metro_id
            - beckn_key: message.order.provider.descriptor.name
              value: data.metro_name          || session.metro_name
            - beckn_key: message.order.provider.descriptor.images
              value: data.metro_images        ||session.metro_images
            - beckn_key: message.order.provider.time.range.start
              value: data.metro_starttime     || session.metro_starttime
            - beckn_key: message.order.provider.time.range.end
              value: data.metro_endtime       || session.metro_endtime
            - beckn_key: message.order.fulfillments
              value: data.trips
            - beckn_key: message.order.cancellation_terms
              value: data.cancellation_terms || session.cancellation_terms
            - beckn_key: message.order.tags
              value: data.tags || session.tags
              compute: buildTags(data.tags    || session.tags)
            - beckn_key: message.order.billing.name
              value: data.billing_name
            - beckn_key: message.order.billing.phone
              value: data.billing_phone
            - beckn_key: message.order.billing.email
              value: data.billing_email
            - beckn_key: message.order.quote.price.value
              value: data.price
            - beckn_key: message.order.quote.price.currency
              value: session.currency
            - beckn_key: message.order.quote.breakup
              value: data.breakup
            - beckn_key: message.order.payments[0].id
              value: data.payment_id
            - beckn_key: message.order.payments[0].status
              value: data.payment_status
            - beckn_key: message.order.payments[0].collected_by
              value: data.payment_collectedby || session.collectedBy
            - beckn_key: message.order.payments[0].type
              value: data.payment_type || session.payment_type
            - beckn_key: message.order.payments[0].params.bank_code
              value: data.bankCode || session.bankCode
            - beckn_key: message.order.payments[0].params.bank_account_number
              value: data.bankAccountNumber || session.bankAccountNumber
            - beckn_key: message.order.payments[0].params.virtual_payment_address
              value: data.virtualPaymentAddress || session.virtualPaymentAddress
            - beckn_key: message.order.payments[0].tags
              value: data.payments_tags || session.payment_tags
              compute: buildTags({ ...session.payment_tags,  ...data.payment_tags })
        confirm:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: data.message.order.items[0].id
        on_confirm:
          sessionData:
            - beckn_key: billing_name
              value: data.billing_name
            - beckn_key: billing_phone
              value: data.billing_phone
            - beckn_key: billing_email
              value: data.billing_email
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items
              value: data.metro_items
            - beckn_key: message.order.id
              value: data.order_id
            - beckn_key: message.order.created_at
              value: data.order_created_at
            - beckn_key: message.order.updated_at
              value: data.order_updated_at
            - beckn_key: message.order.status
              value: data.order_status
            - beckn_key: message.order.provider.id
              value: data.metro_id            ||session.metro_id
            - beckn_key: message.order.provider.descriptor.name
              value: data.metro_name          || session.metro_name
            - beckn_key: message.order.provider.descriptor.images
              value: data.metro_images        ||session.metro_images
            - beckn_key: message.order.provider.time.range.start
              value: data.metro_starttime     || session.metro_starttime
            - beckn_key: message.order.provider.time.range.end
              value: data.metro_endtime       || session.metro_endtime
            - beckn_key: message.order.fulfillments
              value: data.trips
            - beckn_key: message.order.billing.name
              value: data.billing_name
            - beckn_key: message.order.billing.phone
              value: data.billing_phone
            - beckn_key: message.order.billing.email
              value: data.billing_email
            - beckn_key: message.order.quote.price.value
              value: data.price
            - beckn_key: message.order.quote.price.currency
              value: session.currency
            - beckn_key: message.order.quote.breakup
              value: data.breakup
            - beckn_key: message.order.payments[0].id
              value: data.payment_id
            - beckn_key: message.order.payments[0].status
              value: data.payment_status
            - beckn_key: message.order.payments[0].collected_by
              value: data.payment_collectedby || session.collectedBy
            - beckn_key: message.order.payments[0].type
              value: data.payment_type || session.payment_type
            - beckn_key: message.order.payments[0].params.bank_code
              value: data.bankCode || session.bankCode
            - beckn_key: message.order.payments[0].params.currency
              value: data.currency || session.currency
            - beckn_key: message.order.payments[0].params.amount
              value: data.amount
            - beckn_key: message.order.payments[0].params.transaction_id
              value: session.currentTransactionId
            - beckn_key: message.order.payments[0].params.bank_account_number
              value: data.bankAccountNumber || session.bankAccountNumber
            - beckn_key: message.order.payments[0].params.virtual_payment_address
              value: data.virtualPaymentAddress || session.virtualPaymentAddress
            - beckn_key: message.order.payments[0].tags
              value: data.payments_tags || session.payment_tags
              compute: buildTags({ ...session.payment_tags,  ...data.payment_tags })
            - beckn_key: message.order.tags
              value: data.tags || session.tags
              compute: buildTags(data.tags    || session.tags)
        status:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order_id
              value: data.message.order_id
        on_status:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.id
              value: data.order_id
            - beckn_key: message.order.billing.name
              value: session.billing_name
            - beckn_key: message.order.billing.phone
              value: session.billing_phone
            - beckn_key: message.order.billing.email
              value: session.billing_email
            - beckn_key: message.order.cancellation_terms
              value: data.cancellation_terms || session.cancellation_terms
            - beckn_key: message.order.fulfillments
              value: data.trips
            - beckn_key: message.order.payments[0].id
              value: data.payment_id
            - beckn_key: message.order.payments[0].status
              value: data.payment_status
            - beckn_key: message.order.payments[0].collected_by
              value: data.payment_collectedby || session.collectedBy
            - beckn_key: message.order.payments[0].type
              value: data.payment_type || session.payment_type
            - beckn_key: message.order.payments[0].params.bank_code
              value: data.bankCode || session.bankCode
            - beckn_key: message.order.payments[0].params.currency
              value: data.currency || session.currency
            - beckn_key: message.order.payments[0].params.amount
              value: data.amount
            - beckn_key: message.order.payments[0].params.transaction_id
              value: session.currentTransactionId
            - beckn_key: message.order.payments[0].params.bank_account_number
              value: data.bankAccountNumber || session.bankAccountNumber
            - beckn_key: message.order.payments[0].params.virtual_payment_address
              value: data.virtualPaymentAddress || session.virtualPaymentAddress
            - beckn_key: message.order.payments[0].tags
              value: data.payments_tags || session.payment_tags
              compute: buildTags({ ...session.payment_tags,  ...data.payment_tags })
            - beckn_key: message.order.tags
              value: data.tags || session.tags
              compute: buildTags(data.tags    || session.tags)
            - beckn_key: message.order.updated_at
              value: data.order_updated_at
            - beckn_key: message.order.items
              value: data.metro_items
            - beckn_key: message.order.id
              value: data.order_id
            - beckn_key: message.order.quote.price.value
              value: data.price
            - beckn_key: message.order.quote.price.currency
              value: session.currency
            - beckn_key: message.order.quote.breakup
              value: data.breakup
            - beckn_key: message.order.provider.id
              value: data.metro_id            ||session.metro_id
            - beckn_key: message.order.provider.descriptor.name
              value: data.metro_name          || session.metro_name
            - beckn_key: message.order.provider.descriptor.images
              value: data.metro_images        ||session.metro_images
            - beckn_key: message.order.provider.time.range.start
              value: data.metro_starttime     || session.metro_starttime
            - beckn_key: message.order.provider.time.range.end
              value: data.metro_endtime       || session.metro_endtime
            - beckn_key: message.order.status
              value: data.order_status
        search_route:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.intent.fulfillment.vehicle.category
              value: data.vehicleCategaory || session.vehicleCategaory
            - beckn_key: message.intent.payment.tags
              value: data.paymentTagsSearch
              compute: buildTags(data.paymentTagsSearch)
        on_search_route:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
        search_trip:
          sessionData:
            - beckn_key: currentTransactionId
              value: newTranscationId
            - beckn_key: transactionIds
              value: '[...session.transactionIds, newTranscationId]'
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.intent.fulfillment.stops[0].type
              value: startPoint
              check: data?.startStop
            - beckn_key: message.intent.fulfillment.stops[0].location.descriptor.code
              value: data?.startStop
            - beckn_key: message.intent.fulfillment.stops[1].type
              value: endPoint
              check: data?.endStop
            - beckn_key: message.intent.fulfillment.stops[1].location.descriptor.code
              value: data?.endStop
            - beckn_key: message.intent.fulfillment.vehicle.category
              value: data.vehicleCategaory || session.vehicleCategaory
            - beckn_key: message.intent.payment.tags
              value: data.paymentTags || session.paymentTagsSearch
              compute: buildTags(data.paymentTags || session.paymentTagsSearch)
        on_search_trip:
          mapping:
            - business_key: name
              extractionPath: message.catalog.descriptor.name
            - business_key: bpp_id
              extractionPath: context.bpp_id
            - business_key: bpp_uri
              extractionPath: context.bpp_uri
            - business_key: items
              extractionPath: >-
                message.catalog.providers[]{providerId: id}.items[]{id: id,
                name: descriptor.name}
      api:
        search:
          default:
            callback: on_search
          get_all_station_codes:
            condition:
              operation:
                type: AND
                input:
                  value:
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.context.action
                            - search
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.message.intent.fulfillment.stops
                            - undefined
            service_url: http://localhost:5502/getallstationcode
            sync: false
          getonestationcodetrips:
            condition:
              operation:
                type: AND
                input:
                  value:
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.context.action
                            - search
            service_url: http://localhost:5502/getonestationcodetrips
            sync: false
        select:
          default:
            callback: on_select
          get_all_station_codes:
            condition:
              operation:
                type: AND
                input:
                  value:
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.context.action
                            - select
            service_url: http://localhost:5502/getfare
            sync: false
        init:
          default:
            callback: on_init
          get_all_station_codes:
            condition:
              operation:
                type: AND
                input:
                  value:
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.context.action
                            - init
            service_url: http://localhost:5502/getfare
            sync: false
        confirm:
          default:
            callback: on_confirm
          get_all_station_codes:
            condition:
              operation:
                type: AND
                input:
                  value:
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.context.action
                            - confirm
            service_url: http://localhost:5502/confirmticket
            sync: false
        status:
          default:
            callback: on_status
          get_all_station_codes:
            condition:
              operation:
                type: AND
                input:
                  value:
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.context.action
                            - status
            service_url: http://localhost:5502/status
            sync: false
    - summary: IntraCity - Code Based Flow
      id: intracity-flow-1
      domain: ONDC:TRV11
      sessionData:
        bpp_uri: http://localhost:5500/ondc
        bpp_id: mobility-staging.ondc.org
        collectedBy: BAP
        bankAccountNumber: xxxxxxxxxxxxxx
        virtualPaymentAddress: 9988199772@okicic
        bankCode: XXXXXXXX
        metro_id: '1'
        categories:
          - descriptor:
              name: Ticket
              code: TICKET
            id: C1
          - descriptor:
              name: Pass
              code: PASS
            id: C2
        metro_starttime: '2023-09-14T05:30:00.000Z'
        metro_endtime: '2023-09-14T23:30:00.000Z'
        metro_images:
          - url: https://delhimetrorail.com/logos/logo.ico
        metro_name: Delhi Metro Rail Limited
        currency: INR
        payment_tags:
          BUYER_FINDER_FEES:
            display: false
            BUYER_FINDER_FEES_PERCENTAGE: '1'
          SETTLEMENT_TERMS:
            display: false
            SETTLEMENT_WINDOW: PT30D
            SETTLEMENT_BASIS: INVOICE_RECEIPT
            MANDATORY_ARBITRATION: 'TRUE'
            COURT_JURISDICTION: New Delhi
            STATIC_TERMS: https://api.example-bpp.com/booking/term
          SETTLEMENT_DETAILS:
            display: false
            SETTLEMENT_TYPE: UPI
        tags:
          SCHEDULED_INFO:
            display: false
            GTFS: https://metro-transit/gtfs-realtime
        cancellation_terms:
          - external_ref:
              mimetype: text/html
              url: https://transitsolutions.com/mf/tnc.html
        payment_type: PRE-ORDER
      protocol:
        search:
          sessionData:
            - beckn_key: bap_id
              value: data.context.bap_id
            - beckn_key: bap_uri
              value: data.context.bap_uri
            - beckn_key: cityCode
              value: data.context.location.city.code || session.cityCode
            - beckn_key: countryCode
              value: data.context.location.country.code || session.countryCode
          mapping:
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.transaction_id
              value: session.transaction_id
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.action
              value: data.context.action
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.location.country.code
              value: session.countryCode
            - beckn_key: context.ttl
              value: data.context.ttl
            - beckn_key: message.intent.fulfillment
              value: data.message.intent.fulfillment
        on_search:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.catalog.descriptor.name
              value: data.name
            - beckn_key: message.catalog.descriptor.images
              value: data.images
            - beckn_key: message.catalog.providers[0].id
              value: data.metro_id            ||  session.metro_id
            - beckn_key: message.catalog.providers[0].descriptor.images
              value: data.metro_images        ||  session.metro_images
            - beckn_key: message.catalog.providers[0].descriptor.name
              value: data.metro_name          ||  session.metro_name
            - beckn_key: message.catalog.providers[0].categories
              value: data.categories          ||  session.categories
            - beckn_key: message.catalog.providers[0].items
              value: data.metro_items
            - beckn_key: message.catalog.providers[0].fulfillments
              value: data.trips
            - beckn_key: message.catalog.providers[0].time.range.start
              value: data.metro_starttime     || session.metro_starttime
            - beckn_key: message.catalog.providers[0].time.range.end
              value: data.metro_endtime       || session.metro_endtime
            - beckn_key: message.catalog.providers[0].payments[0].tags
              value: data.payments_tags       || session.payment_tags
              compute: buildTags(data.payments_tags || session.payment_tags)
            - beckn_key: message.catalog.providers[0].tags
              value: data.tags                || session.tags
              compute: buildTags(data.tags    || session.tags)
            - beckn_key: message.catalog.providers[0].payments[0].collected_by
              value: data.payment_collectedby || session.collectedBy
        select:
          sessionData:
            - beckn_key: itemId
              value: data.message.order.items[0].id
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: data.message.order.items[0].id
        on_select:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items
              value: data.metro_items
            - beckn_key: message.order.provider.id
              value: data.metro_id            ||session.metro_id
            - beckn_key: message.order.provider.descriptor.name
              value: data.metro_name          || session.metro_name
            - beckn_key: message.order.provider.descriptor.images
              value: data.metro_images        ||session.metro_images
            - beckn_key: message.order.provider.time.range.start
              value: data.metro_starttime     || session.metro_starttime
            - beckn_key: message.order.provider.time.range.end
              value: data.metro_endtime       || session.metro_endtime
            - beckn_key: message.order.fulfillments
              value: data.trips
            - beckn_key: message.order.quote.price.value
              value: data.price
            - beckn_key: message.order.quote.price.currency
              value: session.currency
            - beckn_key: message.order.cancellation_terms
              value: data.cancellation_terms || session.cancellation_terms
            - beckn_key: message.order.tags
              value: data.tags || session.tags
              compute: buildTags(data.tags    || session.tags)
            - beckn_key: message.order.quote.breakup
              value: data.breakup
        init:
          sessionData:
            - beckn_key: bankCode
              value: >-
                data.message.order.payments[0].collected_by === 'BAP' &&
                data.message.order.payments[0].params.bank_code ||
                session.bankCode
            - beckn_key: bankAccountNumber
              value: >-
                data.message.order.payments[0].collected_by === 'BAP' &&
                data.message.order.payments[0].params.bank_account_number ||
                session.bankAccountNumber
            - beckn_key: virtualPaymentAddress
              value: >-
                data.message.order.payments[0].collected_by === 'BAP' &&
                data.message.order.payments[0].params.virtual_payment_address ||
                session.virtualPaymentAddress
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: data.message.order.items[0].id
        on_init:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items
              value: data.metro_items
            - beckn_key: message.order.provider.id
              value: data.metro_id            ||session.metro_id
            - beckn_key: message.order.provider.descriptor.name
              value: data.metro_name          || session.metro_name
            - beckn_key: message.order.provider.descriptor.images
              value: data.metro_images        ||session.metro_images
            - beckn_key: message.order.provider.time.range.start
              value: data.metro_starttime     || session.metro_starttime
            - beckn_key: message.order.provider.time.range.end
              value: data.metro_endtime       || session.metro_endtime
            - beckn_key: message.order.fulfillments
              value: data.trips
            - beckn_key: message.order.cancellation_terms
              value: data.cancellation_terms || session.cancellation_terms
            - beckn_key: message.order.tags
              value: data.tags || session.tags
              compute: buildTags(data.tags    || session.tags)
            - beckn_key: message.order.billing.name
              value: data.billing_name
            - beckn_key: message.order.billing.phone
              value: data.billing_phone
            - beckn_key: message.order.billing.email
              value: data.billing_email
            - beckn_key: message.order.quote.price.value
              value: data.price
            - beckn_key: message.order.quote.price.currency
              value: session.currency
            - beckn_key: message.order.quote.breakup
              value: data.breakup
            - beckn_key: message.order.payments[0].id
              value: data.payment_id
            - beckn_key: message.order.payments[0].status
              value: data.payment_status
            - beckn_key: message.order.payments[0].collected_by
              value: data.payment_collectedby || session.collectedBy
            - beckn_key: message.order.payments[0].type
              value: data.payment_type || session.payment_type
            - beckn_key: message.order.payments[0].params.bank_code
              value: data.bankCode || session.bankCode
            - beckn_key: message.order.payments[0].params.bank_account_number
              value: data.bankAccountNumber || session.bankAccountNumber
            - beckn_key: message.order.payments[0].params.virtual_payment_address
              value: data.virtualPaymentAddress || session.virtualPaymentAddress
            - beckn_key: message.order.payments[0].tags
              value: data.payments_tags || session.payment_tags
              compute: buildTags({ ...session.payment_tags,  ...data.payment_tags })
        confirm:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: data.message.order.items[0].id
        on_confirm:
          sessionData:
            - beckn_key: billing_name
              value: data.billing_name
            - beckn_key: billing_phone
              value: data.billing_phone
            - beckn_key: billing_email
              value: data.billing_email
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items
              value: data.metro_items
            - beckn_key: message.order.id
              value: data.order_id
            - beckn_key: message.order.created_at
              value: data.order_created_at
            - beckn_key: message.order.updated_at
              value: data.order_updated_at
            - beckn_key: message.order.status
              value: data.order_status
            - beckn_key: message.order.provider.id
              value: data.metro_id            ||session.metro_id
            - beckn_key: message.order.provider.descriptor.name
              value: data.metro_name          || session.metro_name
            - beckn_key: message.order.provider.descriptor.images
              value: data.metro_images        ||session.metro_images
            - beckn_key: message.order.provider.time.range.start
              value: data.metro_starttime     || session.metro_starttime
            - beckn_key: message.order.provider.time.range.end
              value: data.metro_endtime       || session.metro_endtime
            - beckn_key: message.order.fulfillments
              value: data.trips
            - beckn_key: message.order.billing.name
              value: data.billing_name
            - beckn_key: message.order.billing.phone
              value: data.billing_phone
            - beckn_key: message.order.billing.email
              value: data.billing_email
            - beckn_key: message.order.quote.price.value
              value: data.price
            - beckn_key: message.order.quote.price.currency
              value: session.currency
            - beckn_key: message.order.quote.breakup
              value: data.breakup
            - beckn_key: message.order.payments[0].id
              value: data.payment_id
            - beckn_key: message.order.payments[0].status
              value: data.payment_status
            - beckn_key: message.order.payments[0].collected_by
              value: data.payment_collectedby || session.collectedBy
            - beckn_key: message.order.payments[0].type
              value: data.payment_type || session.payment_type
            - beckn_key: message.order.payments[0].params.bank_code
              value: data.bankCode || session.bankCode
            - beckn_key: message.order.payments[0].params.currency
              value: data.currency || session.currency
            - beckn_key: message.order.payments[0].params.amount
              value: data.amount
            - beckn_key: message.order.payments[0].params.transaction_id
              value: session.currentTransactionId
            - beckn_key: message.order.payments[0].params.bank_account_number
              value: data.bankAccountNumber || session.bankAccountNumber
            - beckn_key: message.order.payments[0].params.virtual_payment_address
              value: data.virtualPaymentAddress || session.virtualPaymentAddress
            - beckn_key: message.order.payments[0].tags
              value: data.payments_tags || session.payment_tags
              compute: buildTags({ ...session.payment_tags,  ...data.payment_tags })
            - beckn_key: message.order.tags
              value: data.tags || session.tags
              compute: buildTags(data.tags    || session.tags)
        status:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order_id
              value: data.message.order_id
        on_status:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.id
              value: data.order_id
            - beckn_key: message.order.billing.name
              value: session.billing_name
            - beckn_key: message.order.billing.phone
              value: session.billing_phone
            - beckn_key: message.order.billing.email
              value: session.billing_email
            - beckn_key: message.order.cancellation_terms
              value: data.cancellation_terms || session.cancellation_terms
            - beckn_key: message.order.fulfillments
              value: data.trips
            - beckn_key: message.order.payments[0].id
              value: data.payment_id
            - beckn_key: message.order.payments[0].status
              value: data.payment_status
            - beckn_key: message.order.payments[0].collected_by
              value: data.payment_collectedby || session.collectedBy
            - beckn_key: message.order.payments[0].type
              value: data.payment_type || session.payment_type
            - beckn_key: message.order.payments[0].params.bank_code
              value: data.bankCode || session.bankCode
            - beckn_key: message.order.payments[0].params.currency
              value: data.currency || session.currency
            - beckn_key: message.order.payments[0].params.amount
              value: data.amount
            - beckn_key: message.order.payments[0].params.transaction_id
              value: session.currentTransactionId
            - beckn_key: message.order.payments[0].params.bank_account_number
              value: data.bankAccountNumber || session.bankAccountNumber
            - beckn_key: message.order.payments[0].params.virtual_payment_address
              value: data.virtualPaymentAddress || session.virtualPaymentAddress
            - beckn_key: message.order.payments[0].tags
              value: data.payments_tags || session.payment_tags
              compute: buildTags({ ...session.payment_tags,  ...data.payment_tags })
            - beckn_key: message.order.tags
              value: data.tags || session.tags
              compute: buildTags(data.tags    || session.tags)
            - beckn_key: message.order.updated_at
              value: data.order_updated_at
            - beckn_key: message.order.items
              value: data.metro_items
            - beckn_key: message.order.id
              value: data.order_id
            - beckn_key: message.order.quote.price.value
              value: data.price
            - beckn_key: message.order.quote.price.currency
              value: session.currency
            - beckn_key: message.order.quote.breakup
              value: data.breakup
            - beckn_key: message.order.provider.id
              value: data.metro_id            ||session.metro_id
            - beckn_key: message.order.provider.descriptor.name
              value: data.metro_name          || session.metro_name
            - beckn_key: message.order.provider.descriptor.images
              value: data.metro_images        ||session.metro_images
            - beckn_key: message.order.provider.time.range.start
              value: data.metro_starttime     || session.metro_starttime
            - beckn_key: message.order.provider.time.range.end
              value: data.metro_endtime       || session.metro_endtime
            - beckn_key: message.order.status
              value: data.order_status
        search_route:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.intent.fulfillment.vehicle.category
              value: data.vehicleCategaory || session.vehicleCategaory
            - beckn_key: message.intent.payment.tags
              value: data.paymentTagsSearch
              compute: buildTags(data.paymentTagsSearch)
        on_search_route:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
        search_trip:
          sessionData:
            - beckn_key: currentTransactionId
              value: newTranscationId
            - beckn_key: transactionIds
              value: '[...session.transactionIds, newTranscationId]'
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.intent.fulfillment.stops[0].type
              value: startPoint
              check: data?.startStop
            - beckn_key: message.intent.fulfillment.stops[0].location.descriptor.code
              value: data?.startStop
            - beckn_key: message.intent.fulfillment.stops[1].type
              value: endPoint
              check: data?.endStop
            - beckn_key: message.intent.fulfillment.stops[1].location.descriptor.code
              value: data?.endStop
            - beckn_key: message.intent.fulfillment.vehicle.category
              value: data.vehicleCategaory || session.vehicleCategaory
            - beckn_key: message.intent.payment.tags
              value: data.paymentTags || session.paymentTagsSearch
              compute: buildTags(data.paymentTags || session.paymentTagsSearch)
        on_search_trip:
          mapping:
            - business_key: name
              extractionPath: message.catalog.descriptor.name
            - business_key: bpp_id
              extractionPath: context.bpp_id
            - business_key: bpp_uri
              extractionPath: context.bpp_uri
            - business_key: items
              extractionPath: >-
                message.catalog.providers[]{providerId: id}.items[]{id: id,
                name: descriptor.name}
      api:
        search:
          default:
            service_url: http://localhost:5502/search
            sync: false
          get_all_station_codes:
            condition:
              operation:
                type: AND
                input:
                  value:
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.context.action
                            - search
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.message.intent.fulfillment.stops
                            - undefined
            service_url: http://localhost:5502/getallstationcode
            sync: false
          getonestationcodetrips:
            condition:
              operation:
                type: AND
                input:
                  value:
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.context.action
                            - search
            service_url: http://localhost:5502/getonestationcodetrips
            sync: false
        select:
          default:
            service_url: http://localhost:5502/search
            sync: false
          get_all_station_codes:
            condition:
              operation:
                type: AND
                input:
                  value:
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.context.action
                            - select
            service_url: http://localhost:5502/getfare
            sync: false
        init:
          default:
            service_url: http://localhost:5502/search
            sync: false
          get_all_station_codes:
            condition:
              operation:
                type: AND
                input:
                  value:
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.context.action
                            - init
            service_url: http://localhost:5502/getfare
            sync: false
        confirm:
          default:
            service_url: http://localhost:5502/search
            sync: false
          get_all_station_codes:
            condition:
              operation:
                type: AND
                input:
                  value:
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.context.action
                            - confirm
            service_url: http://localhost:5502/confirmticket
            sync: false
        status:
          default:
            service_url: http://localhost:5502/search
            sync: false
          get_all_station_codes:
            condition:
              operation:
                type: AND
                input:
                  value:
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.context.action
                            - status
            service_url: http://localhost:5502/status
            sync: false
    - summary: Intercity - Code Based Flow
      id: intercity-flow-1
      domain: ONDC:TRV12
      sessionData:
        bpp_uri: http://localhost:5500/ondc
        bpp_id: mobility-staging.ondc.org
        collectedBy: BAP
        bankAccountNumber: xxxxxxxxxxxxxx
        virtualPaymentAddress: 9988199772@okicic
        bankCode: XXXXXXXX
        provider_id: INTERCITY_PROVIDER_ID
        categories:
          - descriptor:
              name: Seater
              code: SEATER
            id: C1
          - descriptor:
              name: Sleeper
              code: SLEEPER
            id: C2
          - descriptor:
              name: Semi Sleeper
              code: SEMI_SLEEPER
            id: C3
        metro_starttime: '2023-09-14T05:30:00.000Z'
        metro_endtime: '2023-09-14T23:30:00.000Z'
        provider_image:
          - url: https://operator1.com/logos/logo.ico
        provider_name: ABC Operator 1 Bus Services
        currency: INR
        payment_tags:
          BUYER_FINDER_FEES:
            display: false
            BUYER_FINDER_FEES_PERCENTAGE: '1'
          SETTLEMENT_TERMS:
            display: false
            SETTLEMENT_WINDOW: PT30D
            SETTLEMENT_BASIS: INVOICE_RECEIPT
            MANDATORY_ARBITRATION: 'TRUE'
            COURT_JURISDICTION: New Delhi
            STATIC_TERMS: https://api.example-bpp.com/booking/term
          SETTLEMENT_DETAILS:
            display: false
            SETTLEMENT_TYPE: UPI
        tags:
          SCHEDULED_INFO:
            display: false
            GTFS: https://metro-transit/gtfs-realtime
        cancellation_terms:
          - cancel_by:
              duration: PT60M
            cancellation_fee:
              percentage: '0'
        payment_type: PRE-ORDER
      protocol:
        search:
          sessionData:
            - beckn_key: bap_id
              value: data.context.bap_id
            - beckn_key: bap_uri
              value: data.context.bap_uri
            - beckn_key: cityCode
              value: data.context.location.city.code || session.cityCode
            - beckn_key: countryCode
              value: data.context.location.country.code || session.countryCode
          mapping:
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.transaction_id
              value: session.transaction_id
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.action
              value: data.context.action
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.location.country.code
              value: session.countryCode
            - beckn_key: context.ttl
              value: data.context.ttl
            - beckn_key: message.intent.fulfillment
              value: data.message.intent.fulfillment
        on_search:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.catalog.descriptor.name
              value: data.name
            - beckn_key: message.catalog.descriptor.images
              value: data.images
            - beckn_key: message.catalog.providers[0].id
              value: data.provider_id            ||  session.provider_id
            - beckn_key: message.catalog.providers[0].descriptor.images
              value: data.provider_image        ||  session.provider_image
            - beckn_key: message.catalog.providers[0].descriptor.name
              value: data.provider_name          ||  session.provider_name
            - beckn_key: message.catalog.providers[0].categories
              value: data.categories
            - beckn_key: message.catalog.providers[0].items
              value: data.intercity_items
            - beckn_key: message.catalog.providers[0].fulfillments
              value: data.trips
        select:
          sessionData:
            - beckn_key: itemId
              value: data.message.order.items[0].id
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: data.message.order.items[0].id
        on_select:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items
              value: data.intercity_items
            - beckn_key: message.order.provider.id
              value: data.provider_id            ||session.provider_id
            - beckn_key: message.order.provider.descriptor.name
              value: data.provider_name          || session.provider_name
            - beckn_key: message.order.provider.descriptor.images
              value: data.provider_image        ||session.provider_image
            - beckn_key: message.order.fulfillments
              value: data.trips
            - beckn_key: message.order.quote.price.value
              value: data.price
            - beckn_key: message.order.quote.price.currency
              value: session.currency
            - beckn_key: message.order.quote.breakup
              value: data.breakup
        init:
          sessionData:
            - beckn_key: bankCode
              value: >-
                data.message.order.payments[0].collected_by === 'BAP' &&
                data.message.order.payments[0].params.bank_code ||
                session.bankCode
            - beckn_key: bankAccountNumber
              value: >-
                data.message.order.payments[0].collected_by === 'BAP' &&
                data.message.order.payments[0].params.bank_account_number ||
                session.bankAccountNumber
            - beckn_key: virtualPaymentAddress
              value: >-
                data.message.order.payments[0].collected_by === 'BAP' &&
                data.message.order.payments[0].params.virtual_payment_address ||
                session.virtualPaymentAddress
            - beckn_key: customer
              value: data.message.order.fulfillments[0].customer
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: data.message.order.items[0].id
        on_init:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items
              value: data.intercity_items
            - beckn_key: message.order.provider.id
              value: data.provider_id            ||session.provider_id
            - beckn_key: message.order.provider.descriptor.name
              value: data.provider_name          || session.provider_name
            - beckn_key: message.order.provider.descriptor.images
              value: data.provider_image        ||session.provider_image
            - beckn_key: message.order.fulfillments
              value: data.trips
            - beckn_key: message.order.fulfillments[0].customer
              value: session.customer
            - beckn_key: message.order.cancellation_terms
              value: session.cancellation_terms
            - beckn_key: message.order.quote.price.value
              value: data.price
            - beckn_key: message.order.quote.price.currency
              value: session.currency
            - beckn_key: message.order.quote.breakup
              value: data.breakup
            - beckn_key: message.order.payments[0].id
              value: data.payment_id
            - beckn_key: message.order.payments[0].status
              value: data.payment_status
            - beckn_key: message.order.payments[0].collected_by
              value: data.payment_collectedby || session.collectedBy
            - beckn_key: message.order.payments[0].type
              value: data.payment_type || session.payment_type
            - beckn_key: message.order.payments[0].params.bank_code
              value: data.bankCode || session.bankCode
            - beckn_key: message.order.payments[0].params.bank_account_number
              value: data.bankAccountNumber || session.bankAccountNumber
            - beckn_key: message.order.payments[0].params.virtual_payment_address
              value: data.virtualPaymentAddress || session.virtualPaymentAddress
            - beckn_key: message.order.payments[0].tags
              value: data.payments_tags || session.payment_tags
              compute: buildTags({ ...session.payment_tags,  ...data.payment_tags })
        confirm:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: data.message.order.items[0].id
        on_confirm:
          sessionData:
            - beckn_key: billing_name
              value: data.billing_name
            - beckn_key: billing_phone
              value: data.billing_phone
            - beckn_key: billing_email
              value: data.billing_email
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items
              value: data.intercity_items
            - beckn_key: message.order.id
              value: data.order_id
            - beckn_key: message.order.status
              value: data.order_status
            - beckn_key: message.order.provider.id
              value: data.provider_id            ||session.provider_id
            - beckn_key: message.order.provider.descriptor.name
              value: data.provider_name          || session.provider_name
            - beckn_key: message.order.provider.descriptor.images
              value: data.provider_image        ||session.provider_image
            - beckn_key: message.order.fulfillments
              value: data.trips
            - beckn_key: message.order.quote.price.value
              value: data.price
            - beckn_key: message.order.quote.price.currency
              value: session.currency
            - beckn_key: message.order.quote.breakup
              value: data.breakup
            - beckn_key: message.order.payments[0].id
              value: data.payment_id
            - beckn_key: message.order.payments[0].status
              value: data.payment_status
            - beckn_key: message.order.payments[0].collected_by
              value: data.payment_collectedby || session.collectedBy
            - beckn_key: message.order.payments[0].type
              value: data.payment_type || session.payment_type
            - beckn_key: message.order.payments[0].params.bank_code
              value: data.bankCode || session.bankCode
            - beckn_key: message.order.payments[0].params.currency
              value: data.currency || session.currency
            - beckn_key: message.order.payments[0].params.amount
              value: data.amount
            - beckn_key: message.order.payments[0].params.transaction_id
              value: session.currentTransactionId
            - beckn_key: message.order.payments[0].params.bank_account_number
              value: data.bankAccountNumber || session.bankAccountNumber
            - beckn_key: message.order.payments[0].params.virtual_payment_address
              value: data.virtualPaymentAddress || session.virtualPaymentAddress
            - beckn_key: message.order.payments[0].tags
              value: data.payments_tags || session.payment_tags
              compute: buildTags({ ...session.payment_tags,  ...data.payment_tags })
            - beckn_key: message.order.tags
              value: data.tags || session.tags
              compute: buildTags(data.tags    || session.tags)
        status:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order_id
              value: data.message.order_id
        on_status:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.id
              value: data.order_id
            - beckn_key: message.order.billing.name
              value: session.billing_name
            - beckn_key: message.order.billing.phone
              value: session.billing_phone
            - beckn_key: message.order.billing.email
              value: session.billing_email
            - beckn_key: message.order.cancellation_terms
              value: data.cancellation_terms || session.cancellation_terms
            - beckn_key: message.order.fulfillments
              value: data.trips
            - beckn_key: message.order.payments[0].id
              value: data.payment_id
            - beckn_key: message.order.payments[0].status
              value: data.payment_status
            - beckn_key: message.order.payments[0].collected_by
              value: data.payment_collectedby || session.collectedBy
            - beckn_key: message.order.payments[0].type
              value: data.payment_type || session.payment_type
            - beckn_key: message.order.payments[0].params.bank_code
              value: data.bankCode || session.bankCode
            - beckn_key: message.order.payments[0].params.currency
              value: data.currency || session.currency
            - beckn_key: message.order.payments[0].params.amount
              value: data.amount
            - beckn_key: message.order.payments[0].params.transaction_id
              value: session.currentTransactionId
            - beckn_key: message.order.payments[0].params.bank_account_number
              value: data.bankAccountNumber || session.bankAccountNumber
            - beckn_key: message.order.payments[0].params.virtual_payment_address
              value: data.virtualPaymentAddress || session.virtualPaymentAddress
            - beckn_key: message.order.payments[0].tags
              value: data.payments_tags || session.payment_tags
              compute: buildTags({ ...session.payment_tags,  ...data.payment_tags })
            - beckn_key: message.order.tags
              value: data.tags || session.tags
              compute: buildTags(data.tags    || session.tags)
            - beckn_key: message.order.updated_at
              value: data.order_updated_at
            - beckn_key: message.order.items
              value: data.metro_items
            - beckn_key: message.order.id
              value: data.order_id
            - beckn_key: message.order.quote.price.value
              value: data.price
            - beckn_key: message.order.quote.price.currency
              value: session.currency
            - beckn_key: message.order.quote.breakup
              value: data.breakup
            - beckn_key: message.order.provider.id
              value: data.metro_id            ||session.metro_id
            - beckn_key: message.order.provider.descriptor.name
              value: data.metro_name          || session.metro_name
            - beckn_key: message.order.provider.descriptor.images
              value: data.metro_images        ||session.metro_images
            - beckn_key: message.order.provider.time.range.start
              value: data.metro_starttime     || session.metro_starttime
            - beckn_key: message.order.provider.time.range.end
              value: data.metro_endtime       || session.metro_endtime
            - beckn_key: message.order.status
              value: data.order_status
      api:
        search:
          default:
            callback: on_search
          get_all_station_codes:
            condition:
              operation:
                type: AND
                input:
                  value:
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.context.action
                            - search
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: >-
                                    req_body.message.intent.fulfillment.stops.0.type
                            - START
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: >-
                                    req_body.message.intent.fulfillment.stops.0.time
                            - undefined
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.message.intent.fulfillment.id
                            - undefined
            service_url: http://localhost:5502/getallstationcode
            sync: false
          getonestationcodetrips:
            condition:
              operation:
                type: AND
                input:
                  value:
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.context.action
                            - search
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: >-
                                    req_body.message.intent.fulfillment.stops.0.time.label
                            - DATE_OF_JOURNEY
            service_url: http://localhost:5502/getonestationcodetrips
            sync: false
          get_bus_service:
            condition:
              operation:
                type: AND
                input:
                  value:
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.context.action
                            - search
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.message.intent.provider.id
                            - INTERCITY_PROVIDER_ID
            service_url: http://localhost:5502/getbusservice
            sync: false
        select:
          default:
            callback: on_select
          get_all_station_codes:
            condition:
              operation:
                type: AND
                input:
                  value:
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.context.action
                            - select
            service_url: http://localhost:5502/getfare
            sync: false
        init:
          default:
            callback: on_init
          get_all_station_codes:
            condition:
              operation:
                type: AND
                input:
                  value:
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.context.action
                            - init
            service_url: http://localhost:5502/getfare
            sync: false
        confirm:
          default:
            callback: on_confirm
          get_all_station_codes:
            condition:
              operation:
                type: AND
                input:
                  value:
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.context.action
                            - confirm
            service_url: http://localhost:5502/confirmticket
            sync: false
        status:
          default:
            callback: on_status
          get_all_station_codes:
            condition:
              operation:
                type: AND
                input:
                  value:
                    - operation:
                        type: EQUAL
                        title: Check search message code
                        input:
                          value:
                            - operation:
                                type: READ
                                input:
                                  value: req_body.context.action
                            - status
            service_url: http://localhost:5502/status
            sync: false
    - summary: Default -  Flow
      id: default-flow
      domain: ONDC:TRV11
      protocol: &ref_1
        search: &ref_0
          mapping:
            - beckn_key: context
              value: data.context
            - beckn_key: message
              value: data.message
        on_search: *ref_0
        select: *ref_0
        on_select: *ref_0
        init: *ref_0
        on_init: *ref_0
        confirm: *ref_0
        on_confirm: *ref_0
        update: *ref_0
        on_update: *ref_0
        status: *ref_0
        on_status: *ref_0
      api:
        search:
          default:
            service_url: http://localhost:5501/search
            sync: false
        select:
          default:
            service_url: http://localhost:5501/select
            sync: false
        init:
          default:
            service_url: http://localhost:5501/init
            sync: false
        confirm:
          default:
            service_url: http://localhost:5501/confirm
            sync: false
        update:
          default:
            service_url: http://localhost:5501/update
            sync: false
    - summary: Default -  Flow
      id: default-flow
      domain: ONDC:FIS12
      protocol: *ref_1
      api:
        search:
          default:
            service_url: http://localhost:5501/search
            sync: false
        select:
          default:
            service_url: http://localhost:5501/select
            sync: false
        init:
          default:
            service_url: http://localhost:5501/init
            sync: false
        confirm:
          default:
            service_url: http://localhost:5501/confirm
            sync: false
        update:
          default:
            service_url: http://localhost:5501/update
            sync: false
        status:
          default:
            service_url: http://localhost:5501/status
            sync: false
  flow_selector:
    search:
      default:
        config_id: default-flow
      metro:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: >-
                                req_body.message.intent.fulfillment.vehicle.category
                        - METRO
        config_id: metro-flow-1
      intracity_bus:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: >-
                                req_body.message.intent.fulfillment.vehicle.category
                        - BUS
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.context.domain
                        - ONDC:TRV11
        config_id: intracity-flow-1
      intercity-flow-1:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: >-
                                req_body.message.intent.fulfillment.vehicle.category
                        - BUS
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.context.domain
                        - ONDC:TRV12
        config_id: intercity-flow-1
    select:
      default:
        config_id: default-flow
      metro:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - ITEM_ID_1_METRO
        config_id: metro-flow-1
      intracity_bus:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - ITEM_ID_1_INTERCITY_BUS
        config_id: intracity-flow-1
      intercity_bus:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - INTERCITY_BUS_ITEM_ID
        config_id: intercity-flow-1
    init:
      default:
        config_id: default-flow
      metro:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - ITEM_ID_1_METRO
        config_id: metro-flow-1
      intracity_bus:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - ITEM_ID_1_INTERCITY_BUS
        config_id: intracity-flow-1
      intercity_bus:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - INTERCITY_BUS_ITEM_ID
        config_id: intercity-flow-1
    confirm:
      default:
        config_id: default-flow
      metro:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - ITEM_ID_1_METRO
        config_id: metro-flow-1
      intracity_bus:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - ITEM_ID_1_INTERCITY_BUS
        config_id: intracity-flow-1
      intercity_bus:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - INTERCITY_BUS_ITEM_ID
        config_id: intercity-flow-1
    update:
      default:
        config_id: default-flow
      metro:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - ITEM_ID_1_METRO
        config_id: metro-flow-1
      intracity_bus:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - ITEM_ID_1_INTERCITY_BUS
        config_id: intracity-flow-1
      intercity_bus:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - INTERCITY_BUS_ITEM_ID
        config_id: intercity-flow-1
    status:
      default:
        config_id: default-flow
      metro:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - ITEM_ID_1_METRO
        config_id: metro-flow-1
      intracity_bus:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - ITEM_ID_1_INTERCITY_BUS
        config_id: intracity-flow-1
      intercity_bus:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - INTERCITY_BUS_ITEM_ID
        config_id: intercity-flow-1
schema:
  search:
    type: object
    properties:
      context:
        allOf:
          - description: >-
              Every API call in beckn protocol has a context. It provides a
              high-level overview to the receiver about the nature of the
              intended transaction. Typically, it is the BAP that sets the
              transaction context based on the consumer's location and action on
              their UI. But sometimes, during unsolicited callbacks, the BPP
              also sets the transaction context but it is usually the same as
              the context of a previous full-cycle, request-callback interaction
              between the BAP and the BPP. The context object contains four
              types of fields. <ol><li>Demographic information about the
              transaction using fields like `domain`, `country`, and
              `region`.</li><li>Addressing details like the sending and
              receiving platform's ID and API URL.</li><li>Interoperability
              information like the protocol version that implemented by the
              sender and,</li><li>Transaction details like the method being
              called at the receiver's endpoint, the transaction_id that
              represents an end-to-end user session at the BAP, a message ID to
              pair requests with callbacks, a timestamp to capture sending
              times, a ttl to specifiy the validity of the request, and a key to
              encrypt information if necessary.</li></ol> This object must be
              passed in every interaction between a BAP and a BPP. In HTTP/S
              implementations, it is not necessary to send the context during
              the synchronous response. However, in asynchronous protocols, the
              context must be sent during all interactions,
            type: object
            additionalProperties: false
            properties:
              domain:
                description: Domain code that is relevant to this transaction context
                allOf:
                  - type: string
                    description: >-
                      Standard code representing the domain. The standard is
                      usually published as part of the network policy.
                      Furthermore, the network facilitator should also provide a
                      mechanism to provide the supported domains of a network.
              location:
                description: >-
                  The location where the transaction is intended to be
                  fulfilled.
                allOf:
                  - &ref_18
                    description: The physical location of something
                    type: object
                    additionalProperties: false
                    properties:
                      id: &ref_19
                        type: string
                      descriptor: &ref_6
                        description: Physical description of something.
                        type: object
                        additionalProperties: false
                        properties:
                          name:
                            type: string
                          code:
                            type: string
                          short_desc:
                            type: string
                          long_desc:
                            type: string
                          additional_desc:
                            type: object
                            properties:
                              url:
                                type: string
                              content_type:
                                type: string
                                enum:
                                  - text/plain
                                  - text/html
                                  - application/json
                          media:
                            type: array
                            items: &ref_28
                              description: This object contains a url to a media file.
                              type: object
                              additionalProperties: false
                              properties:
                                mimetype:
                                  description: >-
                                    indicates the nature and format of the
                                    document, file, or assortment of bytes. MIME
                                    types are defined and standardized in IETF's
                                    RFC 6838
                                  type: string
                                url:
                                  description: The URL of the file
                                  type: string
                                  format: uri
                                signature:
                                  description: >-
                                    The digital signature of the file signed by
                                    the sender
                                  type: string
                                dsa:
                                  description: The signing algorithm used by the sender
                                  type: string
                          images:
                            type: array
                            items: &ref_11
                              description: Describes an image
                              type: object
                              additionalProperties: false
                              properties:
                                url:
                                  description: >-
                                    URL to the image. This can be a data url or
                                    an remote url
                                  type: string
                                  format: uri
                                size_type:
                                  description: >-
                                    The size of the image. The network policy
                                    can define the default dimensions of each
                                    type
                                  type: string
                                  enum:
                                    - xs
                                    - sm
                                    - md
                                    - lg
                                    - xl
                                    - custom
                                width:
                                  description: Width of the image in pixels
                                  type: string
                                height:
                                  description: Height of the image in pixels
                                  type: string
                      map_url:
                        description: >-
                          The url to the map of the location. This can be a
                          globally recognized map url or the one specified by
                          the network policy.
                        type: string
                        format: uri
                      gps:
                        description: The GPS co-ordinates of this location.
                        allOf:
                          - &ref_2
                            description: Describes a GPS coordinate
                            type: string
                            pattern: >-
                              ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                      address:
                        description: The address of this location.
                        allOf:
                          - &ref_15
                            description: Describes a postal address.
                            type: string
                      city:
                        description: The city this location is, or is located within
                        allOf:
                          - &ref_17
                            description: Describes a city
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                description: Name of the city
                                type: string
                              code:
                                description: City code
                                type: string
                      district:
                        description: The state this location is, or is located within
                        type: string
                      state:
                        description: The state this location is, or is located within
                        allOf:
                          - &ref_16
                            description: >-
                              A bounded geopolitical region of governance inside
                              a country.
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the state
                              code:
                                type: string
                                description: >-
                                  State code as per country or international
                                  standards
                      country:
                        description: The country this location is, or is located within
                        allOf:
                          - description: Describes a country
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the country
                              code:
                                type: string
                                description: >-
                                  Country code as per ISO 3166-1 and ISO 3166-2
                                  format
                      area_code:
                        type: string
                      circle:
                        description: >-
                          Describes a circular region of a specified radius
                          centered at a specified GPS coordinate.
                        type: object
                        additionalProperties: false
                        properties:
                          gps: *ref_2
                          radius: &ref_21
                            description: Describes a scalar
                            type: object
                            additionalProperties: false
                            properties:
                              type:
                                type: string
                                enum:
                                  - CONSTANT
                                  - VARIABLE
                              value: &ref_3
                                description: Describes a numerical value in decimal form
                                type: string
                                pattern: '[+-]?([0-9]*[.])?[0-9]+'
                              estimated_value: *ref_3
                              computed_value: *ref_3
                              range:
                                type: object
                                properties:
                                  min: *ref_3
                                  max: *ref_3
                              unit:
                                type: string
                      polygon:
                        description: The boundary polygon of this location
                        type: string
                      3dspace:
                        description: The three dimensional region describing this location
                        type: string
                      rating:
                        description: The rating of this location
                        allOf:
                          - &ref_7
                            description: >-
                              Rating value given to the object. This can be a
                              single value or can also contain an inequality
                              operator like gt, gte, lt, lte. This can also
                              contain an inequality expression containing
                              logical operators like && and ||.
                            type: string
              action:
                description: >-
                  The Beckn protocol method being called by the sender and
                  executed at the receiver.
                type: string
              version:
                type: string
                description: Version of transaction protocol being used by the sender.
              bap_id:
                description: Subscriber ID of the BAP
                allOf:
                  - &ref_4
                    description: >-
                      A globally unique identifier of the platform, Typically it
                      is the fully qualified domain name (FQDN) of the platform.
                    type: string
              bap_uri:
                description: Subscriber URL of the BAP for accepting callbacks from BPPs.
                allOf:
                  - &ref_5
                    description: >-
                      The callback URL of the Subscriber. This should
                      necessarily contain the same domain name as set in
                      `subscriber_id``.
                    type: string
                    format: uri
              bpp_id:
                description: Subscriber ID of the BPP
                allOf:
                  - *ref_4
              bpp_uri:
                description: Subscriber URL of the BPP for accepting calls from BAPs.
                allOf:
                  - *ref_5
              transaction_id:
                description: >-
                  This is a unique value which persists across all API calls
                  from `search` through `confirm`. This is done to indicate an
                  active user session across multiple requests. The BPPs can use
                  this value to push personalized recommendations, and dynamic
                  offerings related to an ongoing transaction despite being
                  unaware of the user active on the BAP.
                type: string
                format: uuid
              message_id:
                description: >-
                  This is a unique value which persists during a request /
                  callback cycle. Since beckn protocol APIs are asynchronous,
                  BAPs need a common value to match an incoming callback from a
                  BPP to an earlier call. This value can also be used to ignore
                  duplicate messages coming from the BPP. It is recommended to
                  generate a fresh message_id for every new interaction. When
                  sending unsolicited callbacks, BPPs must generate a new
                  message_id.
                type: string
                format: uuid
              timestamp:
                description: Time of request generation in RFC3339 format
                type: string
                format: date-time
              key:
                description: The encryption public key of the sender
                type: string
              ttl:
                description: >-
                  The duration in ISO8601 format after timestamp for which this
                  message holds valid
                type: string
          - properties:
              action:
                enum:
                  - search
      message:
        type: object
        properties:
          intent:
            description: >-
              The intent to buy or avail a product or a service. The BAP can
              declare the intent of the consumer containing <ul><li>What they
              want (A product, service, offer)</li><li>Who they want (A seller,
              service provider, agent etc)</li><li>Where they want it and where
              they want it from</li><li>When they want it (start and end time of
              fulfillment</li><li>How they want to pay for it</li></ul><br>This
              has properties like
              descriptor,provider,fulfillment,payment,category,offer,item,tags<br>This
              is typically used by the BAP to send the purpose of the user's
              search to the BPP. This will be used by the BPP to find products
              or services it offers that may match the user's intent.<br>For
              example, in Mobility, the mobility consumer declares a mobility
              intent. In this case, the mobility consumer declares information
              that describes various aspects of their journey like,<ul><li>Where
              would they like to begin their journey
              (intent.fulfillment.start.location)</li><li>Where would they like
              to end their journey
              (intent.fulfillment.end.location)</li><li>When would they like to
              begin their journey (intent.fulfillment.start.time)</li><li>When
              would they like to end their journey
              (intent.fulfillment.end.time)</li><li>Who is the transport service
              provider they would like to avail services from
              (intent.provider)</li><li>Who is traveling (This is not
              recommended in public networks)
              (intent.fulfillment.customer)</li><li>What kind of fare product
              would they like to purchase (intent.item)</li><li>What add-on
              services would they like to avail</li><li>What offers would they
              like to apply on their booking (intent.offer)</li><li>What
              category of services would they like to avail
              (intent.category)</li><li>What additional luggage are they
              carrying</li><li>How would they like to pay for their journey
              (intent.payment)</li></ul><br>For example, in health domain, a
              consumer declares the intent for a lab booking the describes
              various aspects of their booking like,<ul><li>Where would they
              like to get their scan/test done
              (intent.fulfillment.start.location)</li><li>When would they like
              to get their scan/test done
              (intent.fulfillment.start.time)</li><li>When would they like to
              get the results of their test/scan
              (intent.fulfillment.end.time)</li><li>Who is the service provider
              they would like to avail services from
              (intent.provider)</li><li>Who is getting the test/scan
              (intent.fulfillment.customer)</li><li>What kind of test/scan would
              they like to purchase (intent.item)</li><li>What category of
              services would they like to avail (intent.category)</li><li>How
              would they like to pay for their journey
              (intent.payment)</li></ul>
            type: object
            additionalProperties: false
            properties:
              descriptor:
                description: >-
                  A raw description of the search intent. Free text search
                  strings, raw audio, etc can be sent in this object.
                allOf:
                  - *ref_6
              provider:
                description: >-
                  The provider from which the customer wants to place to the
                  order from
                allOf:
                  - description: Describes the catalog of a business.
                    type: object
                    properties:
                      id:
                        type: string
                        description: Id of the provider
                      descriptor: *ref_6
                      category_id:
                        type: string
                        description: Category Id of the provider at the BPP-level catalog
                      rating: *ref_7
                      time: &ref_10
                        description: >-
                          Describes time in its various forms. It can be a
                          single point in time; duration; or a structured
                          timetable of operations<br>This has properties like
                          label, time stamp,duration,range, days, schedule
                        type: object
                        additionalProperties: false
                        properties:
                          label:
                            type: string
                          timestamp:
                            type: string
                            format: date-time
                          duration: &ref_8
                            description: Describes duration as per ISO8601 format
                            type: string
                          range:
                            type: object
                            properties:
                              start:
                                type: string
                                format: date-time
                              end:
                                type: string
                                format: date-time
                          days:
                            type: string
                            description: >-
                              comma separated values representing days of the
                              week
                          schedule:
                            description: >-
                              Describes schedule as a repeating time period used
                              to describe a regularly recurring event. At a
                              minimum a schedule will specify frequency which
                              describes the interval between occurrences of the
                              event. Additional information can be provided to
                              specify the schedule more precisely. This includes
                              identifying the timestamps(s) of when the event
                              will take place. Schedules may also have holidays
                              to exclude a specific day from the
                              schedule.<br>This has properties like frequency,
                              holidays, times
                            type: object
                            additionalProperties: false
                            properties:
                              frequency: *ref_8
                              holidays:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                              times:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                      categories:
                        type: array
                        items: &ref_32
                          description: >-
                            A label under which a collection of items can be
                            grouped.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_9
                              description: ID of the category
                              type: string
                            parent_category_id: *ref_9
                            descriptor: *ref_6
                            time: *ref_10
                            ttl:
                              description: Time to live for an instance of this schema
                            tags:
                              type: array
                              items: &ref_12
                                description: >-
                                  A collection of tag objects with group level
                                  attributes. For detailed documentation on the
                                  Tags and Tag Groups schema go to
                                  https://github.com/beckn/protocol-specifications/discussions/316
                                type: object
                                additionalProperties: false
                                properties:
                                  display:
                                    description: >-
                                      Indicates the display properties of the
                                      tag group. If display is set to false,
                                      then the group will not be displayed. If
                                      it is set to true, it should be displayed.
                                      However, group-level display properties
                                      can be overriden by individual tag-level
                                      display property. As this schema is purely
                                      for catalog display purposes, it is not
                                      recommended to send this value during
                                      search.
                                    type: boolean
                                    default: true
                                  descriptor:
                                    description: >-
                                      Description of the TagGroup, can be used
                                      to store detailed information.
                                    allOf:
                                      - *ref_6
                                  list:
                                    description: >-
                                      An array of Tag objects listed under this
                                      group. This property can be set by BAPs
                                      during search to narrow the `search` and
                                      achieve more relevant results. When
                                      received during `on_search`, BAPs must
                                      render this list under the heading
                                      described by the `name` property of this
                                      schema.
                                    type: array
                                    items:
                                      description: >-
                                        Describes a tag. This is used to contain
                                        extended metadata. This object can be
                                        added as a property to any schema to
                                        describe extended attributes. For BAPs,
                                        tags can be sent during search to
                                        optimize and filter search results. BPPs
                                        can use tags to index their catalog to
                                        allow better search functionality. Tags
                                        are sent by the BPP as part of the
                                        catalog response in the `on_search`
                                        callback. Tags are also meant for
                                        display purposes. Upon receiving a tag,
                                        BAPs are meant to render them as
                                        name-value pairs. This is particularly
                                        useful when rendering tabular
                                        information about a product or service.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor:
                                          description: >-
                                            Description of the Tag, can be used to
                                            store detailed information.
                                          allOf:
                                            - *ref_6
                                        value:
                                          description: >-
                                            The value of the tag. This set by the
                                            BPP and rendered as-is by the BAP.
                                          type: string
                                        display:
                                          description: >-
                                            This value indicates if the tag is
                                            intended for display purposes. If set to
                                            `true`, then this tag must be displayed.
                                            If it is set to `false`, it should not
                                            be displayed. This value can override
                                            the group display value.
                                          type: boolean
                      fulfillments:
                        type: array
                        items: &ref_30
                          description: >-
                            Describes how a an order will be rendered/fulfilled
                            to the end-customer
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_24
                              description: >-
                                Unique reference ID to the fulfillment of an
                                order
                              type: string
                            type:
                              description: >-
                                A code that describes the mode of fulfillment.
                                This is typically set when there are multiple
                                ways an order can be fulfilled. For example, a
                                retail order can be fulfilled either via store
                                pickup or a home delivery. Similarly, a medical
                                consultation can be provided either in-person or
                                via tele-consultation. The network policy must
                                publish standard fulfillment type codes for the
                                different modes of fulfillment.
                              type: string
                            rateable:
                              description: Whether the fulfillment can be rated or not
                              type: boolean
                            rating:
                              description: The rating value of the fulfullment service.
                              allOf:
                                - *ref_7
                            state:
                              description: >-
                                The current state of fulfillment. The BPP must
                                set this value whenever the state of the order
                                fulfillment changes and fire an unsolicited
                                `on_status` call.
                              allOf:
                                - &ref_27
                                  description: Describes the state of fulfillment
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    descriptor: *ref_6
                                    updated_at:
                                      type: string
                                      format: date-time
                                    updated_by:
                                      type: string
                                      description: ID of entity which changed the state
                            tracking:
                              type: boolean
                              description: >-
                                Indicates whether the fulfillment allows
                                tracking
                              default: false
                            customer:
                              description: >-
                                The person that will ultimately receive the
                                order
                              allOf:
                                - description: >-
                                    Describes a customer buying/availing a
                                    product or a service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: &ref_13
                                      description: Describes a person as any individual
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          type: string
                                          description: Describes the identity of the person
                                        url:
                                          description: Profile url of the person
                                          type: string
                                          format: uri
                                        name:
                                          description: the name of the person
                                          type: string
                                        image: *ref_11
                                        age:
                                          description: Age of the person
                                          allOf:
                                            - *ref_8
                                        dob:
                                          description: Date of birth of the person
                                          type: string
                                          format: date
                                        gender:
                                          type: string
                                          description: >-
                                            Gender of something, typically a Person,
                                            but possibly also fictional characters,
                                            animals, etc. While Male and Female may
                                            be used, text strings are also
                                            acceptable for people who do not
                                            identify as a binary gender.Allowed
                                            values for this field can be published
                                            in the network policy
                                        creds:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a credential of an entity -
                                              Person or Organization
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              id:
                                                type: string
                                              type:
                                                type: string
                                                default: VerifiableCredential
                                              url:
                                                description: URL of the credential
                                                type: string
                                                format: uri
                                        languages:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a language known to the
                                              person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        skills:
                                          type: array
                                          items:
                                            description: Describes a skill of the person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        tags:
                                          type: array
                                          items: *ref_12
                                    contact: &ref_14
                                      description: >-
                                        Describes the contact information of an
                                        entity
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        phone:
                                          type: string
                                        email:
                                          type: string
                                        jcard:
                                          type: object
                                          description: >-
                                            A Jcard object as per
                                            draft-ietf-jcardcal-jcard-03
                                            specification
                            agent:
                              description: >-
                                The agent that is currently handling the
                                fulfillment of the order
                              allOf:
                                - description: >-
                                    Describes the direct performer, driver or
                                    executor that fulfills an order. It is
                                    usually a person. But in some rare cases, it
                                    could be a non-living entity like a drone,
                                    or a bot. Some examples of agents are Doctor
                                    in the healthcare sector, a driver in the
                                    mobility sector, or a delivery person in the
                                    logistics sector. This object can be set at
                                    any stage of the order lifecycle. This can
                                    be set at the discovery stage when the BPP
                                    wants to provide details on the agent
                                    fulfilling the order, like in healthcare,
                                    where the doctor's name appears during
                                    search. This object can also used to search
                                    for a particular person that the customer
                                    wants fulfilling an order. Sometimes, this
                                    object gets instantiated after the order is
                                    confirmed, like in the case of on-demand
                                    taxis, where the driver is assigned after
                                    the user confirms the ride.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: *ref_13
                                    contact: *ref_14
                                    organization: &ref_22
                                      description: >-
                                        An organization. Usually a recognized
                                        business entity.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor: *ref_6
                                        address:
                                          description: The postal address of the organization
                                          allOf:
                                            - *ref_15
                                        state:
                                          description: >-
                                            The state where the organization's
                                            address is registered
                                          allOf:
                                            - *ref_16
                                        city:
                                          description: >-
                                            The city where the the organization's
                                            address is registered
                                          allOf:
                                            - *ref_17
                                        contact: *ref_14
                                    rating: *ref_7
                            contact: *ref_14
                            vehicle:
                              description: >-
                                Describes a vehicle is a device that is designed
                                or used to transport people or cargo over land,
                                water, air, or through space.<br>This has
                                properties like category, capacity, make, model,
                                size,variant,color,energy_type,registration
                              type: object
                              additionalProperties: false
                              properties:
                                category:
                                  type: string
                                capacity:
                                  type: integer
                                make:
                                  type: string
                                model:
                                  type: string
                                size:
                                  type: string
                                variant:
                                  type: string
                                color:
                                  type: string
                                energy_type:
                                  type: string
                                registration:
                                  type: string
                                wheels_count:
                                  type: string
                                cargo_volumne:
                                  type: string
                                wheelchair_access:
                                  type: string
                                code:
                                  type: string
                                emission_standard:
                                  type: string
                            stops:
                              description: >-
                                The list of logical stops encountered during the
                                fulfillment of an order.
                              type: array
                              items:
                                description: >-
                                  A logical point in space and time during the
                                  fulfillment of an order.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    type: string
                                  parent_stop_id:
                                    type: string
                                  location:
                                    description: Location of the stop
                                    allOf:
                                      - *ref_18
                                  type:
                                    description: >-
                                      The type of stop. Allowed values of this
                                      property can be defined by the network
                                      policy.
                                    type: string
                                  time:
                                    description: Timings applicable at the stop.
                                    allOf:
                                      - *ref_10
                                  instructions:
                                    description: >-
                                      Instructions that need to be followed at
                                      the stop
                                    allOf:
                                      - *ref_6
                                  contact:
                                    description: Contact details of the stop
                                    allOf:
                                      - *ref_14
                                  person:
                                    description: >-
                                      The details of the person present at the
                                      stop
                                    allOf:
                                      - *ref_13
                                  authorization:
                                    description: >-
                                      Describes an authorization mechanism used
                                      to start or end the fulfillment of an
                                      order. For example, in the mobility
                                      sector, the driver may require a one-time
                                      password to initiate the ride. In the
                                      healthcare sector, a patient may need to
                                      provide a password to open a video
                                      conference link during a teleconsultation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      type:
                                        description: >-
                                          Type of authorization mechanism used.
                                          The allowed values for this field can be
                                          published as part of the network policy.
                                        type: string
                                      token:
                                        description: >-
                                          Token used for authorization. This is
                                          typically generated at the BPP. The BAP
                                          can send this value to the user via any
                                          channel that it uses to authenticate the
                                          user like SMS, Email, Push notification,
                                          or in-app rendering.
                                        type: string
                                      valid_from:
                                        description: >-
                                          Timestamp in RFC3339 format from which
                                          token is valid
                                        type: string
                                        format: date-time
                                      valid_to:
                                        description: >-
                                          Timestamp in RFC3339 format until which
                                          token is valid
                                        type: string
                                        format: date-time
                                      status:
                                        description: Status of the token
                                        type: string
                            path:
                              description: >-
                                The physical path taken by the agent that can be
                                rendered on a map. The allowed format of this
                                property can be set by the network.
                              type: string
                            tags:
                              type: array
                              items: *ref_12
                      payments:
                        type: array
                        items: &ref_31
                          description: >-
                            Describes the terms of settlement between the BAP
                            and the BPP for a single transaction. When
                            instantiated, this object contains <ol><li>the
                            amount that has to be settled,</li><li>The payment
                            destination destination details</li><li>When the
                            settlement should happen, and</li><li>A transaction
                            reference ID</li></ol>. During a transaction, the
                            BPP reserves the right to decide the terms of
                            payment. However, the BAP can send its terms to the
                            BPP first. If the BPP does not agree to those terms,
                            it must overwrite the terms and return them to the
                            BAP. If overridden, the BAP must either agree to the
                            terms sent by the BPP in order to preserve the
                            provider's autonomy, or abort the transaction. In
                            case of such disagreements, the BAP and the BPP can
                            perform offline negotiations on the payment terms.
                            Once an agreement is reached, the BAP and BPP can
                            resume transactions.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_25
                              description: >-
                                ID of the payment term that can be referred at
                                an item or an order level in a catalog
                              type: string
                            collected_by:
                              description: >-
                                This field indicates who is the collector of
                                payment. The BAP can set this value to 'bap' if
                                it wants to collect the payment first and 
                                settle it to the BPP. If the BPP agrees to those
                                terms, the BPP should not send the payment url.
                                Alternatively, the BPP can set this field with
                                the value 'bpp' if it wants the payment to be
                                made directly.
                              type: string
                            url:
                              type: string
                              description: >-
                                A payment url to be called by the BAP. If empty,
                                then the payment is to be done offline. The
                                details of payment should be present in the
                                params object. If tl_method = http/get, then the
                                payment details will be sent as url params. Two
                                url param values, ```$transaction_id``` and
                                ```$amount``` are mandatory.
                              format: uri
                            tl_method:
                              type: string
                            params:
                              type: object
                              properties:
                                transaction_id:
                                  type: string
                                  description: >-
                                    The reference transaction ID associated with
                                    a payment activity
                                amount:
                                  type: string
                                currency:
                                  type: string
                                bank_code:
                                  type: string
                                bank_account_number:
                                  type: string
                                virtual_payment_address:
                                  type: string
                                source_bank_code:
                                  type: string
                                source_bank_account_number:
                                  type: string
                                source_virtual_payment_address:
                                  type: string
                            type:
                              type: string
                              enum:
                                - PRE-ORDER
                                - PRE-FULFILLMENT
                                - ON-FULFILLMENT
                                - POST-FULFILLMENT
                                - ON-ORDER
                            status:
                              type: string
                              enum:
                                - PAID
                                - NOT-PAID
                            time: *ref_10
                            tags:
                              type: array
                              items: *ref_12
                      locations:
                        type: array
                        items: *ref_18
                      offers:
                        type: array
                        items: &ref_33
                          description: >-
                            An offer associated with a catalog. This is
                            typically used to promote a particular product and
                            enable more purchases.
                          type: object
                          additionalProperties: false
                          properties:
                            id:
                              type: string
                            descriptor: *ref_6
                            location_ids:
                              type: array
                              items: *ref_19
                            category_ids:
                              type: array
                              items: *ref_9
                            item_ids:
                              type: array
                              items: &ref_20
                                description: ID of the item.
                                type: string
                            time: *ref_10
                            tags:
                              type: array
                              items: *ref_12
                      items:
                        type: array
                        items: &ref_34
                          description: >-
                            Describes a product or a service offered to the end
                            consumer by the provider. In the mobility sector, it
                            can represent a fare product like one way journey.
                            In the logistics sector, it can represent the
                            delivery service offering. In the retail domain it
                            can represent a product like a grocery item.
                          type: object
                          additionalProperties: false
                          properties:
                            id: *ref_20
                            parent_item_id:
                              description: ID of the item, this item is a variant of
                              allOf:
                                - *ref_20
                            parent_item_quantity:
                              description: >-
                                The number of units of the parent item this item
                                is a multiple of
                              allOf:
                                - &ref_23
                                  description: Describes the count or amount of an item
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    allocated:
                                      description: >-
                                        This represents the exact quantity
                                        allocated for purchase of the item.
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_21
                                    available:
                                      description: >-
                                        This represents the exact quantity
                                        available for purchase of the item. The
                                        buyer can only purchase multiples of
                                        this
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_21
                                    maximum:
                                      description: >-
                                        This represents the maximum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                        measure: *ref_21
                                    minimum:
                                      description: >-
                                        This represents the minimum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_21
                                    selected:
                                      description: >-
                                        This represents the quantity selected
                                        for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_21
                                    unitized:
                                      description: >-
                                        This represents the quantity available
                                        in a single unit of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                          maximum: 1
                                        measure: *ref_21
                            descriptor:
                              description: Physical description of the item
                              allOf:
                                - *ref_6
                            creator:
                              description: The creator of this item
                              allOf:
                                - *ref_22
                            price:
                              description: >-
                                The price of this item, if it has intrinsic
                                value
                              allOf:
                                - &ref_26
                                  description: Describes the price of a product or service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    currency:
                                      type: string
                                    value: *ref_3
                                    estimated_value: *ref_3
                                    computed_value: *ref_3
                                    listed_value: *ref_3
                                    offered_value: *ref_3
                                    minimum_value: *ref_3
                                    maximum_value: *ref_3
                            quantity:
                              description: The selling quantity of the item
                              allOf:
                                - *ref_23
                            category_ids:
                              description: Categories this item can be listed under
                              type: array
                              items:
                                allOf:
                                  - *ref_9
                            fulfillment_ids:
                              description: Modes through which this item can be fulfilled
                              type: array
                              items:
                                allOf:
                                  - *ref_24
                            location_ids:
                              description: Provider Locations this item is available in
                              type: array
                              items:
                                allOf:
                                  - *ref_19
                            payment_ids:
                              description: >-
                                Payment modalities through which this item can
                                be ordered
                              type: array
                              items:
                                allOf:
                                  - *ref_25
                            add_ons:
                              type: array
                              items:
                                description: >-
                                  Describes an additional item offered as a
                                  value-addition to a product or service. This
                                  does not exist independently in a catalog and
                                  is always associated with an item.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    description: Provider-defined ID of the add-on
                                    type: string
                                  descriptor: *ref_6
                                  price: *ref_26
                                  quantity: *ref_23
                            cancellation_terms:
                              description: Cancellation terms of this item
                              type: array
                              items:
                                description: >-
                                  Describes the cancellation terms of an item or
                                  an order. This can be referenced at an item or
                                  order level. Item-level cancellation terms can
                                  override the terms at the order level.
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_27
                                  reason_required:
                                    description: >-
                                      Indicates whether a reason is required to
                                      cancel the order
                                    type: boolean
                                  cancel_by:
                                    description: >-
                                      Information related to the time of
                                      cancellation.
                                    allOf:
                                      - *ref_10
                                  cancellation_fee:
                                    description: A fee applied on a particular entity
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      percentage:
                                        description: Percentage of a value
                                        allOf:
                                          - *ref_3
                                      amount:
                                        description: A fixed value
                                        allOf:
                                          - *ref_26
                                  xinput: &ref_29
                                    description: >-
                                      Contains any additional or extended inputs
                                      required to confirm an order. This is
                                      typically a Form Input. Sometimes,
                                      selection of catalog elements is not
                                      enough for the BPP to confirm an order.
                                      For example, to confirm a flight ticket,
                                      the airline requires details of the
                                      passengers along with information on
                                      baggage, identity, in addition to the
                                      class of ticket. Similarly, a logistics
                                      company may require details on the nature
                                      of shipment in order to confirm the
                                      shipping. A recruiting firm may require
                                      additional details on the applicant in
                                      order to confirm a job application. For
                                      all such purposes, the BPP can choose to
                                      send this object attached to any object in
                                      the catalog that is required to be sent
                                      while placing the order. This object can
                                      typically be sent at an item level or at
                                      the order level. The item level XInput
                                      will override the Order level XInput as it
                                      indicates a special requirement of
                                      information for that particular item.
                                      Hence the BAP must render a separate form
                                      for the Item and another form at the Order
                                      level before confirmation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      form:
                                        description: Describes a form
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          url:
                                            description: >-
                                              The URL from where the form can be
                                              fetched. The content fetched from the
                                              url must be processed as per the
                                              mime_type specified in this object. Once
                                              fetched, the rendering platform can
                                              choosed to render the form as-is as an
                                              embeddable element; or process it
                                              further to blend with the theme of the
                                              application. In case the interface is
                                              non-visual, the the render can process
                                              the form data and reproduce it as per
                                              the standard specified in the form.
                                            type: string
                                            format: uri
                                          data:
                                            description: The form submission data
                                            type: object
                                            additionalProperties:
                                              type: string
                                          mime_type:
                                            description: >-
                                              This field indicates the nature and
                                              format of the form received by querying
                                              the url. MIME types are defined and
                                              standardized in IETF's RFC 6838.
                                            type: string
                                            enum:
                                              - text/html
                                              - application/xml
                                          submission_id:
                                            type: string
                                            format: uuid
                                      required:
                                        description: >-
                                          Indicates whether the form data is
                                          mandatorily required by the BPP to
                                          confirm the order.
                                        type: boolean
                                  external_ref: *ref_28
                            refund_terms:
                              description: Refund terms of this item
                              type: array
                              items:
                                description: Refund term of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_16
                                  refund_eligible:
                                    description: >-
                                      Indicates if cancellation will result in a
                                      refund
                                    type: boolean
                                  refund_within:
                                    description: >-
                                      Time within which refund will be processed
                                      after successful cancellation.
                                    allOf:
                                      - *ref_10
                                  refund_amount: *ref_26
                            replacement_terms:
                              description: >-
                                Terms that are applicable be met when this item
                                is replaced
                              type: array
                              items:
                                description: The replacement policy of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_16
                                  replace_within:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to replace the item
                                      before a certain date-time, failing which
                                      they will not be eligible for replacement
                                    allOf:
                                      - *ref_10
                                  external_ref: *ref_28
                            return_terms:
                              description: >-
                                Terms that are applicable when this item is
                                returned
                              type: array
                              items:
                                description: >-
                                  Describes the return policy of an item or an
                                  order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term IETF''s applicable.
                                    allOf:
                                      - *ref_16
                                  return_eligible:
                                    description: >-
                                      Indicates whether the item is eligible for
                                      return
                                    type: boolean
                                  return_time:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to return the item to
                                      the origin before a certain date-time,
                                      failing which they will not be eligible
                                      for refund.
                                    allOf:
                                      - *ref_10
                                  return_location:
                                    description: >-
                                      The location where the item or order must
                                      / will be returned to
                                    allOf:
                                      - *ref_18
                                  fulfillment_managed_by:
                                    description: The entity that will perform the return
                                    type: string
                                    enum:
                                      - CONSUMER
                                      - PROVIDER
                            xinput:
                              description: >-
                                Additional input required from the customer to
                                purchase / avail this item
                              allOf:
                                - *ref_29
                            time:
                              description: >-
                                Temporal attributes of this item. This property
                                is used when the item exists on the catalog only
                                for a limited period of time.
                              allOf:
                                - *ref_10
                            rateable:
                              description: Whether this item can be rated
                              type: boolean
                            rating:
                              description: The rating of the item
                              allOf:
                                - *ref_7
                            matched:
                              description: >-
                                Whether this item is an exact match of the
                                request
                              type: boolean
                            related:
                              description: >-
                                Whether this item is a related item to the
                                exactly matched item
                              type: boolean
                            recommended:
                              description: >-
                                Whether this item is a recommended item to a
                                response
                              type: boolean
                            ttl:
                              description: >-
                                Time to live in seconds for an instance of this
                                schema
                              type: string
                            tags:
                              type: array
                              items: *ref_12
                      exp:
                        type: string
                        description: Time after which catalog has to be refreshed
                        format: date-time
                      rateable:
                        description: Whether this provider can be rated or not
                        type: boolean
                      ttl:
                        description: >-
                          The time-to-live in seconds, for this object. This can
                          be overriden at deeper levels. A value of -1 indicates
                          that this object is not cacheable.
                        type: string
                      tags:
                        type: array
                        items: *ref_12
              fulfillment:
                description: Details on how the customer wants their order fulfilled
                allOf:
                  - *ref_30
              payment:
                description: Details on how the customer wants to pay for the order
                allOf:
                  - *ref_31
              category:
                description: Details on the item category
                allOf:
                  - *ref_32
              offer:
                description: details on the offer the customer wants to avail
                allOf:
                  - *ref_33
              item:
                description: Details of the item that the consumer wants to order
                allOf:
                  - *ref_34
              tags:
                type: array
                items: *ref_12
    required:
      - context
      - message
  on_search:
    type: object
    properties:
      context:
        allOf:
          - description: >-
              Every API call in beckn protocol has a context. It provides a
              high-level overview to the receiver about the nature of the
              intended transaction. Typically, it is the BAP that sets the
              transaction context based on the consumer's location and action on
              their UI. But sometimes, during unsolicited callbacks, the BPP
              also sets the transaction context but it is usually the same as
              the context of a previous full-cycle, request-callback interaction
              between the BAP and the BPP. The context object contains four
              types of fields. <ol><li>Demographic information about the
              transaction using fields like `domain`, `country`, and
              `region`.</li><li>Addressing details like the sending and
              receiving platform's ID and API URL.</li><li>Interoperability
              information like the protocol version that implemented by the
              sender and,</li><li>Transaction details like the method being
              called at the receiver's endpoint, the transaction_id that
              represents an end-to-end user session at the BAP, a message ID to
              pair requests with callbacks, a timestamp to capture sending
              times, a ttl to specifiy the validity of the request, and a key to
              encrypt information if necessary.</li></ol> This object must be
              passed in every interaction between a BAP and a BPP. In HTTP/S
              implementations, it is not necessary to send the context during
              the synchronous response. However, in asynchronous protocols, the
              context must be sent during all interactions,
            type: object
            additionalProperties: false
            properties:
              domain:
                description: Domain code that is relevant to this transaction context
                allOf:
                  - type: string
                    description: >-
                      Standard code representing the domain. The standard is
                      usually published as part of the network policy.
                      Furthermore, the network facilitator should also provide a
                      mechanism to provide the supported domains of a network.
              location:
                description: >-
                  The location where the transaction is intended to be
                  fulfilled.
                allOf:
                  - &ref_47
                    description: The physical location of something
                    type: object
                    additionalProperties: false
                    properties:
                      id: &ref_51
                        type: string
                      descriptor: &ref_39
                        description: Physical description of something.
                        type: object
                        additionalProperties: false
                        properties:
                          name:
                            type: string
                          code:
                            type: string
                          short_desc:
                            type: string
                          long_desc:
                            type: string
                          additional_desc:
                            type: object
                            properties:
                              url:
                                type: string
                              content_type:
                                type: string
                                enum:
                                  - text/plain
                                  - text/html
                                  - application/json
                          media:
                            type: array
                            items: &ref_64
                              description: This object contains a url to a media file.
                              type: object
                              additionalProperties: false
                              properties:
                                mimetype:
                                  description: >-
                                    indicates the nature and format of the
                                    document, file, or assortment of bytes. MIME
                                    types are defined and standardized in IETF's
                                    RFC 6838
                                  type: string
                                url:
                                  description: The URL of the file
                                  type: string
                                  format: uri
                                signature:
                                  description: >-
                                    The digital signature of the file signed by
                                    the sender
                                  type: string
                                dsa:
                                  description: The signing algorithm used by the sender
                                  type: string
                          images:
                            type: array
                            items: &ref_41
                              description: Describes an image
                              type: object
                              additionalProperties: false
                              properties:
                                url:
                                  description: >-
                                    URL to the image. This can be a data url or
                                    an remote url
                                  type: string
                                  format: uri
                                size_type:
                                  description: >-
                                    The size of the image. The network policy
                                    can define the default dimensions of each
                                    type
                                  type: string
                                  enum:
                                    - xs
                                    - sm
                                    - md
                                    - lg
                                    - xl
                                    - custom
                                width:
                                  description: Width of the image in pixels
                                  type: string
                                height:
                                  description: Height of the image in pixels
                                  type: string
                      map_url:
                        description: >-
                          The url to the map of the location. This can be a
                          globally recognized map url or the one specified by
                          the network policy.
                        type: string
                        format: uri
                      gps:
                        description: The GPS co-ordinates of this location.
                        allOf:
                          - &ref_35
                            description: Describes a GPS coordinate
                            type: string
                            pattern: >-
                              ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                      address:
                        description: The address of this location.
                        allOf:
                          - &ref_44
                            description: Describes a postal address.
                            type: string
                      city:
                        description: The city this location is, or is located within
                        allOf:
                          - &ref_46
                            description: Describes a city
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                description: Name of the city
                                type: string
                              code:
                                description: City code
                                type: string
                      district:
                        description: The state this location is, or is located within
                        type: string
                      state:
                        description: The state this location is, or is located within
                        allOf:
                          - &ref_45
                            description: >-
                              A bounded geopolitical region of governance inside
                              a country.
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the state
                              code:
                                type: string
                                description: >-
                                  State code as per country or international
                                  standards
                      country:
                        description: The country this location is, or is located within
                        allOf:
                          - description: Describes a country
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the country
                              code:
                                type: string
                                description: >-
                                  Country code as per ISO 3166-1 and ISO 3166-2
                                  format
                      area_code:
                        type: string
                      circle:
                        description: >-
                          Describes a circular region of a specified radius
                          centered at a specified GPS coordinate.
                        type: object
                        additionalProperties: false
                        properties:
                          gps: *ref_35
                          radius: &ref_57
                            description: Describes a scalar
                            type: object
                            additionalProperties: false
                            properties:
                              type:
                                type: string
                                enum:
                                  - CONSTANT
                                  - VARIABLE
                              value: &ref_36
                                description: Describes a numerical value in decimal form
                                type: string
                                pattern: '[+-]?([0-9]*[.])?[0-9]+'
                              estimated_value: *ref_36
                              computed_value: *ref_36
                              range:
                                type: object
                                properties:
                                  min: *ref_36
                                  max: *ref_36
                              unit:
                                type: string
                      polygon:
                        description: The boundary polygon of this location
                        type: string
                      3dspace:
                        description: The three dimensional region describing this location
                        type: string
                      rating:
                        description: The rating of this location
                        allOf:
                          - &ref_40
                            description: >-
                              Rating value given to the object. This can be a
                              single value or can also contain an inequality
                              operator like gt, gte, lt, lte. This can also
                              contain an inequality expression containing
                              logical operators like && and ||.
                            type: string
              action:
                description: >-
                  The Beckn protocol method being called by the sender and
                  executed at the receiver.
                type: string
              version:
                type: string
                description: Version of transaction protocol being used by the sender.
              bap_id:
                description: Subscriber ID of the BAP
                allOf:
                  - &ref_37
                    description: >-
                      A globally unique identifier of the platform, Typically it
                      is the fully qualified domain name (FQDN) of the platform.
                    type: string
              bap_uri:
                description: Subscriber URL of the BAP for accepting callbacks from BPPs.
                allOf:
                  - &ref_38
                    description: >-
                      The callback URL of the Subscriber. This should
                      necessarily contain the same domain name as set in
                      `subscriber_id``.
                    type: string
                    format: uri
              bpp_id:
                description: Subscriber ID of the BPP
                allOf:
                  - *ref_37
              bpp_uri:
                description: Subscriber URL of the BPP for accepting calls from BAPs.
                allOf:
                  - *ref_38
              transaction_id:
                description: >-
                  This is a unique value which persists across all API calls
                  from `search` through `confirm`. This is done to indicate an
                  active user session across multiple requests. The BPPs can use
                  this value to push personalized recommendations, and dynamic
                  offerings related to an ongoing transaction despite being
                  unaware of the user active on the BAP.
                type: string
                format: uuid
              message_id:
                description: >-
                  This is a unique value which persists during a request /
                  callback cycle. Since beckn protocol APIs are asynchronous,
                  BAPs need a common value to match an incoming callback from a
                  BPP to an earlier call. This value can also be used to ignore
                  duplicate messages coming from the BPP. It is recommended to
                  generate a fresh message_id for every new interaction. When
                  sending unsolicited callbacks, BPPs must generate a new
                  message_id.
                type: string
                format: uuid
              timestamp:
                description: Time of request generation in RFC3339 format
                type: string
                format: date-time
              key:
                description: The encryption public key of the sender
                type: string
              ttl:
                description: >-
                  The duration in ISO8601 format after timestamp for which this
                  message holds valid
                type: string
          - type: object
            properties:
              action:
                enum:
                  - on_search
            required:
              - action
      message:
        type: object
        properties:
          catalog:
            description: >-
              Describes the products or services offered by a BPP. This is
              typically sent as the response to a search intent from a BAP. The
              payment terms, offers and terms of fulfillment supported by the
              BPP can also be included here. The BPP can show hierarchical
              nature of products/services in its catalog using the
              parent_category_id in categories. The BPP can also send a ttl
              (time to live) in the context which is the duration for which a
              BAP can cache the catalog and use the cached catalog.  <br>This
              has properties like
              bbp/descriptor,bbp/categories,bbp/fulfillments,bbp/payments,bbp/offers,bbp/providers
              and exp<br>This is used in the following
              situations.<br><ul><li>This is typically used in the discovery
              stage when the BPP sends the details of the products and services
              it offers as response to a search intent from the BAP. </li></ul>
            type: object
            additionalProperties: false
            properties:
              descriptor: *ref_39
              fulfillments:
                description: >-
                  Fulfillment modes offered at the BPP level. This is used when
                  a BPP itself offers fulfillments on behalf of the providers it
                  has onboarded.
                type: array
                items: &ref_53
                  description: >-
                    Describes how a an order will be rendered/fulfilled to the
                    end-customer
                  type: object
                  additionalProperties: false
                  properties:
                    id: &ref_60
                      description: Unique reference ID to the fulfillment of an order
                      type: string
                    type:
                      description: >-
                        A code that describes the mode of fulfillment. This is
                        typically set when there are multiple ways an order can
                        be fulfilled. For example, a retail order can be
                        fulfilled either via store pickup or a home delivery.
                        Similarly, a medical consultation can be provided either
                        in-person or via tele-consultation. The network policy
                        must publish standard fulfillment type codes for the
                        different modes of fulfillment.
                      type: string
                    rateable:
                      description: Whether the fulfillment can be rated or not
                      type: boolean
                    rating:
                      description: The rating value of the fulfullment service.
                      allOf:
                        - *ref_40
                    state:
                      description: >-
                        The current state of fulfillment. The BPP must set this
                        value whenever the state of the order fulfillment
                        changes and fire an unsolicited `on_status` call.
                      allOf:
                        - &ref_63
                          description: Describes the state of fulfillment
                          type: object
                          additionalProperties: false
                          properties:
                            descriptor: *ref_39
                            updated_at:
                              type: string
                              format: date-time
                            updated_by:
                              type: string
                              description: ID of entity which changed the state
                    tracking:
                      type: boolean
                      description: Indicates whether the fulfillment allows tracking
                      default: false
                    customer:
                      description: The person that will ultimately receive the order
                      allOf:
                        - description: >-
                            Describes a customer buying/availing a product or a
                            service
                          type: object
                          additionalProperties: false
                          properties:
                            person: &ref_42
                              description: Describes a person as any individual
                              type: object
                              additionalProperties: false
                              properties:
                                id:
                                  type: string
                                  description: Describes the identity of the person
                                url:
                                  description: Profile url of the person
                                  type: string
                                  format: uri
                                name:
                                  description: the name of the person
                                  type: string
                                image: *ref_41
                                age:
                                  description: Age of the person
                                  allOf:
                                    - &ref_48
                                      description: Describes duration as per ISO8601 format
                                      type: string
                                dob:
                                  description: Date of birth of the person
                                  type: string
                                  format: date
                                gender:
                                  type: string
                                  description: >-
                                    Gender of something, typically a Person, but
                                    possibly also fictional characters, animals,
                                    etc. While Male and Female may be used, text
                                    strings are also acceptable for people who
                                    do not identify as a binary gender.Allowed
                                    values for this field can be published in
                                    the network policy
                                creds:
                                  type: array
                                  items:
                                    description: >-
                                      Describes a credential of an entity -
                                      Person or Organization
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      id:
                                        type: string
                                      type:
                                        type: string
                                        default: VerifiableCredential
                                      url:
                                        description: URL of the credential
                                        type: string
                                        format: uri
                                languages:
                                  type: array
                                  items:
                                    description: Describes a language known to the person.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      code:
                                        type: string
                                      name:
                                        type: string
                                skills:
                                  type: array
                                  items:
                                    description: Describes a skill of the person.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      code:
                                        type: string
                                      name:
                                        type: string
                                tags:
                                  type: array
                                  items: &ref_49
                                    description: >-
                                      A collection of tag objects with group
                                      level attributes. For detailed
                                      documentation on the Tags and Tag Groups
                                      schema go to
                                      https://github.com/beckn/protocol-specifications/discussions/316
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      display:
                                        description: >-
                                          Indicates the display properties of the
                                          tag group. If display is set to false,
                                          then the group will not be displayed. If
                                          it is set to true, it should be
                                          displayed. However, group-level display
                                          properties can be overriden by
                                          individual tag-level display property.
                                          As this schema is purely for catalog
                                          display purposes, it is not recommended
                                          to send this value during search.
                                        type: boolean
                                        default: true
                                      descriptor:
                                        description: >-
                                          Description of the TagGroup, can be used
                                          to store detailed information.
                                        allOf:
                                          - *ref_39
                                      list:
                                        description: >-
                                          An array of Tag objects listed under
                                          this group. This property can be set by
                                          BAPs during search to narrow the
                                          `search` and achieve more relevant
                                          results. When received during
                                          `on_search`, BAPs must render this list
                                          under the heading described by the
                                          `name` property of this schema.
                                        type: array
                                        items:
                                          description: >-
                                            Describes a tag. This is used to contain
                                            extended metadata. This object can be
                                            added as a property to any schema to
                                            describe extended attributes. For BAPs,
                                            tags can be sent during search to
                                            optimize and filter search results. BPPs
                                            can use tags to index their catalog to
                                            allow better search functionality. Tags
                                            are sent by the BPP as part of the
                                            catalog response in the `on_search`
                                            callback. Tags are also meant for
                                            display purposes. Upon receiving a tag,
                                            BAPs are meant to render them as
                                            name-value pairs. This is particularly
                                            useful when rendering tabular
                                            information about a product or service.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            descriptor:
                                              description: >-
                                                Description of the Tag, can be used to
                                                store detailed information.
                                              allOf:
                                                - *ref_39
                                            value:
                                              description: >-
                                                The value of the tag. This set by the
                                                BPP and rendered as-is by the BAP.
                                              type: string
                                            display:
                                              description: >-
                                                This value indicates if the tag is
                                                intended for display purposes. If set to
                                                `true`, then this tag must be displayed.
                                                If it is set to `false`, it should not
                                                be displayed. This value can override
                                                the group display value.
                                              type: boolean
                            contact: &ref_43
                              description: Describes the contact information of an entity
                              type: object
                              additionalProperties: false
                              properties:
                                phone:
                                  type: string
                                email:
                                  type: string
                                jcard:
                                  type: object
                                  description: >-
                                    A Jcard object as per
                                    draft-ietf-jcardcal-jcard-03 specification
                    agent:
                      description: >-
                        The agent that is currently handling the fulfillment of
                        the order
                      allOf:
                        - description: >-
                            Describes the direct performer, driver or executor
                            that fulfills an order. It is usually a person. But
                            in some rare cases, it could be a non-living entity
                            like a drone, or a bot. Some examples of agents are
                            Doctor in the healthcare sector, a driver in the
                            mobility sector, or a delivery person in the
                            logistics sector. This object can be set at any
                            stage of the order lifecycle. This can be set at the
                            discovery stage when the BPP wants to provide
                            details on the agent fulfilling the order, like in
                            healthcare, where the doctor's name appears during
                            search. This object can also used to search for a
                            particular person that the customer wants fulfilling
                            an order. Sometimes, this object gets instantiated
                            after the order is confirmed, like in the case of
                            on-demand taxis, where the driver is assigned after
                            the user confirms the ride.
                          type: object
                          additionalProperties: false
                          properties:
                            person: *ref_42
                            contact: *ref_43
                            organization: &ref_58
                              description: >-
                                An organization. Usually a recognized business
                                entity.
                              type: object
                              additionalProperties: false
                              properties:
                                descriptor: *ref_39
                                address:
                                  description: The postal address of the organization
                                  allOf:
                                    - *ref_44
                                state:
                                  description: >-
                                    The state where the organization's address
                                    is registered
                                  allOf:
                                    - *ref_45
                                city:
                                  description: >-
                                    The city where the the organization's
                                    address is registered
                                  allOf:
                                    - *ref_46
                                contact: *ref_43
                            rating: *ref_40
                    contact: *ref_43
                    vehicle:
                      description: >-
                        Describes a vehicle is a device that is designed or used
                        to transport people or cargo over land, water, air, or
                        through space.<br>This has properties like category,
                        capacity, make, model,
                        size,variant,color,energy_type,registration
                      type: object
                      additionalProperties: false
                      properties:
                        category:
                          type: string
                        capacity:
                          type: integer
                        make:
                          type: string
                        model:
                          type: string
                        size:
                          type: string
                        variant:
                          type: string
                        color:
                          type: string
                        energy_type:
                          type: string
                        registration:
                          type: string
                        wheels_count:
                          type: string
                        cargo_volumne:
                          type: string
                        wheelchair_access:
                          type: string
                        code:
                          type: string
                        emission_standard:
                          type: string
                    stops:
                      description: >-
                        The list of logical stops encountered during the
                        fulfillment of an order.
                      type: array
                      items:
                        description: >-
                          A logical point in space and time during the
                          fulfillment of an order.
                        type: object
                        additionalProperties: false
                        properties:
                          id:
                            type: string
                          parent_stop_id:
                            type: string
                          location:
                            description: Location of the stop
                            allOf:
                              - *ref_47
                          type:
                            description: >-
                              The type of stop. Allowed values of this property
                              can be defined by the network policy.
                            type: string
                          time:
                            description: Timings applicable at the stop.
                            allOf:
                              - &ref_50
                                description: >-
                                  Describes time in its various forms. It can be
                                  a single point in time; duration; or a
                                  structured timetable of operations<br>This has
                                  properties like label, time
                                  stamp,duration,range, days, schedule
                                type: object
                                additionalProperties: false
                                properties:
                                  label:
                                    type: string
                                  timestamp:
                                    type: string
                                    format: date-time
                                  duration: *ref_48
                                  range:
                                    type: object
                                    properties:
                                      start:
                                        type: string
                                        format: date-time
                                      end:
                                        type: string
                                        format: date-time
                                  days:
                                    type: string
                                    description: >-
                                      comma separated values representing days
                                      of the week
                                  schedule:
                                    description: >-
                                      Describes schedule as a repeating time
                                      period used to describe a regularly
                                      recurring event. At a minimum a schedule
                                      will specify frequency which describes the
                                      interval between occurrences of the event.
                                      Additional information can be provided to
                                      specify the schedule more precisely. This
                                      includes identifying the timestamps(s) of
                                      when the event will take place. Schedules
                                      may also have holidays to exclude a
                                      specific day from the schedule.<br>This
                                      has properties like frequency, holidays,
                                      times
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      frequency: *ref_48
                                      holidays:
                                        type: array
                                        items:
                                          type: string
                                          format: date-time
                                      times:
                                        type: array
                                        items:
                                          type: string
                                          format: date-time
                          instructions:
                            description: Instructions that need to be followed at the stop
                            allOf:
                              - *ref_39
                          contact:
                            description: Contact details of the stop
                            allOf:
                              - *ref_43
                          person:
                            description: The details of the person present at the stop
                            allOf:
                              - *ref_42
                          authorization:
                            description: >-
                              Describes an authorization mechanism used to start
                              or end the fulfillment of an order. For example,
                              in the mobility sector, the driver may require a
                              one-time password to initiate the ride. In the
                              healthcare sector, a patient may need to provide a
                              password to open a video conference link during a
                              teleconsultation.
                            type: object
                            additionalProperties: false
                            properties:
                              type:
                                description: >-
                                  Type of authorization mechanism used. The
                                  allowed values for this field can be published
                                  as part of the network policy.
                                type: string
                              token:
                                description: >-
                                  Token used for authorization. This is
                                  typically generated at the BPP. The BAP can
                                  send this value to the user via any channel
                                  that it uses to authenticate the user like
                                  SMS, Email, Push notification, or in-app
                                  rendering.
                                type: string
                              valid_from:
                                description: >-
                                  Timestamp in RFC3339 format from which token
                                  is valid
                                type: string
                                format: date-time
                              valid_to:
                                description: >-
                                  Timestamp in RFC3339 format until which token
                                  is valid
                                type: string
                                format: date-time
                              status:
                                description: Status of the token
                                type: string
                    path:
                      description: >-
                        The physical path taken by the agent that can be
                        rendered on a map. The allowed format of this property
                        can be set by the network.
                      type: string
                    tags:
                      type: array
                      items: *ref_49
              payments:
                description: >-
                  Payment terms offered by the BPP for all transactions. This
                  can be overriden at the provider level.
                type: array
                items: &ref_54
                  description: >-
                    Describes the terms of settlement between the BAP and the
                    BPP for a single transaction. When instantiated, this object
                    contains <ol><li>the amount that has to be
                    settled,</li><li>The payment destination destination
                    details</li><li>When the settlement should happen,
                    and</li><li>A transaction reference ID</li></ol>. During a
                    transaction, the BPP reserves the right to decide the terms
                    of payment. However, the BAP can send its terms to the BPP
                    first. If the BPP does not agree to those terms, it must
                    overwrite the terms and return them to the BAP. If
                    overridden, the BAP must either agree to the terms sent by
                    the BPP in order to preserve the provider's autonomy, or
                    abort the transaction. In case of such disagreements, the
                    BAP and the BPP can perform offline negotiations on the
                    payment terms. Once an agreement is reached, the BAP and BPP
                    can resume transactions.
                  type: object
                  additionalProperties: false
                  properties:
                    id: &ref_61
                      description: >-
                        ID of the payment term that can be referred at an item
                        or an order level in a catalog
                      type: string
                    collected_by:
                      description: >-
                        This field indicates who is the collector of payment.
                        The BAP can set this value to 'bap' if it wants to
                        collect the payment first and  settle it to the BPP. If
                        the BPP agrees to those terms, the BPP should not send
                        the payment url. Alternatively, the BPP can set this
                        field with the value 'bpp' if it wants the payment to be
                        made directly.
                      type: string
                    url:
                      type: string
                      description: >-
                        A payment url to be called by the BAP. If empty, then
                        the payment is to be done offline. The details of
                        payment should be present in the params object. If
                        tl_method = http/get, then the payment details will be
                        sent as url params. Two url param values,
                        ```$transaction_id``` and ```$amount``` are mandatory.
                      format: uri
                    tl_method:
                      type: string
                    params:
                      type: object
                      properties:
                        transaction_id:
                          type: string
                          description: >-
                            The reference transaction ID associated with a
                            payment activity
                        amount:
                          type: string
                        currency:
                          type: string
                        bank_code:
                          type: string
                        bank_account_number:
                          type: string
                        virtual_payment_address:
                          type: string
                        source_bank_code:
                          type: string
                        source_bank_account_number:
                          type: string
                        source_virtual_payment_address:
                          type: string
                    type:
                      type: string
                      enum:
                        - PRE-ORDER
                        - PRE-FULFILLMENT
                        - ON-FULFILLMENT
                        - POST-FULFILLMENT
                        - ON-ORDER
                    status:
                      type: string
                      enum:
                        - PAID
                        - NOT-PAID
                    time: *ref_50
                    tags:
                      type: array
                      items: *ref_49
              offers:
                description: >-
                  Offers at the BPP-level. This is common across all providers
                  onboarded by the BPP.
                type: array
                items: &ref_55
                  description: >-
                    An offer associated with a catalog. This is typically used
                    to promote a particular product and enable more purchases.
                  type: object
                  additionalProperties: false
                  properties:
                    id:
                      type: string
                    descriptor: *ref_39
                    location_ids:
                      type: array
                      items: *ref_51
                    category_ids:
                      type: array
                      items: &ref_52
                        description: ID of the category
                        type: string
                    item_ids:
                      type: array
                      items: &ref_56
                        description: ID of the item.
                        type: string
                    time: *ref_50
                    tags:
                      type: array
                      items: *ref_49
              providers:
                type: array
                items:
                  description: Describes the catalog of a business.
                  type: object
                  properties:
                    id:
                      type: string
                      description: Id of the provider
                    descriptor: *ref_39
                    category_id:
                      type: string
                      description: Category Id of the provider at the BPP-level catalog
                    rating: *ref_40
                    time: *ref_50
                    categories:
                      type: array
                      items:
                        description: >-
                          A label under which a collection of items can be
                          grouped.
                        type: object
                        additionalProperties: false
                        properties:
                          id: *ref_52
                          parent_category_id: *ref_52
                          descriptor: *ref_39
                          time: *ref_50
                          ttl:
                            description: Time to live for an instance of this schema
                          tags:
                            type: array
                            items: *ref_49
                    fulfillments:
                      type: array
                      items: *ref_53
                    payments:
                      type: array
                      items: *ref_54
                    locations:
                      type: array
                      items: *ref_47
                    offers:
                      type: array
                      items: *ref_55
                    items:
                      type: array
                      items:
                        description: >-
                          Describes a product or a service offered to the end
                          consumer by the provider. In the mobility sector, it
                          can represent a fare product like one way journey. In
                          the logistics sector, it can represent the delivery
                          service offering. In the retail domain it can
                          represent a product like a grocery item.
                        type: object
                        additionalProperties: false
                        properties:
                          id: *ref_56
                          parent_item_id:
                            description: ID of the item, this item is a variant of
                            allOf:
                              - *ref_56
                          parent_item_quantity:
                            description: >-
                              The number of units of the parent item this item
                              is a multiple of
                            allOf:
                              - &ref_59
                                description: Describes the count or amount of an item
                                type: object
                                additionalProperties: false
                                properties:
                                  allocated:
                                    description: >-
                                      This represents the exact quantity
                                      allocated for purchase of the item.
                                    type: object
                                    properties:
                                      count:
                                        type: integer
                                        minimum: 0
                                      measure: *ref_57
                                  available:
                                    description: >-
                                      This represents the exact quantity
                                      available for purchase of the item. The
                                      buyer can only purchase multiples of this
                                    type: object
                                    properties:
                                      count:
                                        type: integer
                                        minimum: 0
                                      measure: *ref_57
                                  maximum:
                                    description: >-
                                      This represents the maximum quantity
                                      allowed for purchase of the item
                                    type: object
                                    properties:
                                      count:
                                        type: integer
                                        minimum: 1
                                      measure: *ref_57
                                  minimum:
                                    description: >-
                                      This represents the minimum quantity
                                      allowed for purchase of the item
                                    type: object
                                    properties:
                                      count:
                                        type: integer
                                        minimum: 0
                                      measure: *ref_57
                                  selected:
                                    description: >-
                                      This represents the quantity selected for
                                      purchase of the item
                                    type: object
                                    properties:
                                      count:
                                        type: integer
                                        minimum: 0
                                      measure: *ref_57
                                  unitized:
                                    description: >-
                                      This represents the quantity available in
                                      a single unit of the item
                                    type: object
                                    properties:
                                      count:
                                        type: integer
                                        minimum: 1
                                        maximum: 1
                                      measure: *ref_57
                          descriptor:
                            description: Physical description of the item
                            allOf:
                              - *ref_39
                          creator:
                            description: The creator of this item
                            allOf:
                              - *ref_58
                          price:
                            description: The price of this item, if it has intrinsic value
                            allOf:
                              - &ref_62
                                description: Describes the price of a product or service
                                type: object
                                additionalProperties: false
                                properties:
                                  currency:
                                    type: string
                                  value: *ref_36
                                  estimated_value: *ref_36
                                  computed_value: *ref_36
                                  listed_value: *ref_36
                                  offered_value: *ref_36
                                  minimum_value: *ref_36
                                  maximum_value: *ref_36
                          quantity:
                            description: The selling quantity of the item
                            allOf:
                              - *ref_59
                          category_ids:
                            description: Categories this item can be listed under
                            type: array
                            items:
                              allOf:
                                - *ref_52
                          fulfillment_ids:
                            description: Modes through which this item can be fulfilled
                            type: array
                            items:
                              allOf:
                                - *ref_60
                          location_ids:
                            description: Provider Locations this item is available in
                            type: array
                            items:
                              allOf:
                                - *ref_51
                          payment_ids:
                            description: >-
                              Payment modalities through which this item can be
                              ordered
                            type: array
                            items:
                              allOf:
                                - *ref_61
                          add_ons:
                            type: array
                            items:
                              description: >-
                                Describes an additional item offered as a
                                value-addition to a product or service. This
                                does not exist independently in a catalog and is
                                always associated with an item.
                              type: object
                              additionalProperties: false
                              properties:
                                id:
                                  description: Provider-defined ID of the add-on
                                  type: string
                                descriptor: *ref_39
                                price: *ref_62
                                quantity: *ref_59
                          cancellation_terms:
                            description: Cancellation terms of this item
                            type: array
                            items:
                              description: >-
                                Describes the cancellation terms of an item or
                                an order. This can be referenced at an item or
                                order level. Item-level cancellation terms can
                                override the terms at the order level.
                              type: object
                              additionalProperties: false
                              properties:
                                fulfillment_state:
                                  description: >-
                                    The state of fulfillment during which this
                                    term is applicable.
                                  allOf:
                                    - *ref_63
                                reason_required:
                                  description: >-
                                    Indicates whether a reason is required to
                                    cancel the order
                                  type: boolean
                                cancel_by:
                                  description: >-
                                    Information related to the time of
                                    cancellation.
                                  allOf:
                                    - *ref_50
                                cancellation_fee:
                                  description: A fee applied on a particular entity
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    percentage:
                                      description: Percentage of a value
                                      allOf:
                                        - *ref_36
                                    amount:
                                      description: A fixed value
                                      allOf:
                                        - *ref_62
                                xinput: &ref_65
                                  description: >-
                                    Contains any additional or extended inputs
                                    required to confirm an order. This is
                                    typically a Form Input. Sometimes, selection
                                    of catalog elements is not enough for the
                                    BPP to confirm an order. For example, to
                                    confirm a flight ticket, the airline
                                    requires details of the passengers along
                                    with information on baggage, identity, in
                                    addition to the class of ticket. Similarly,
                                    a logistics company may require details on
                                    the nature of shipment in order to confirm
                                    the shipping. A recruiting firm may require
                                    additional details on the applicant in order
                                    to confirm a job application. For all such
                                    purposes, the BPP can choose to send this
                                    object attached to any object in the catalog
                                    that is required to be sent while placing
                                    the order. This object can typically be sent
                                    at an item level or at the order level. The
                                    item level XInput will override the Order
                                    level XInput as it indicates a special
                                    requirement of information for that
                                    particular item. Hence the BAP must render a
                                    separate form for the Item and another form
                                    at the Order level before confirmation.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    form:
                                      description: Describes a form
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        url:
                                          description: >-
                                            The URL from where the form can be
                                            fetched. The content fetched from the
                                            url must be processed as per the
                                            mime_type specified in this object. Once
                                            fetched, the rendering platform can
                                            choosed to render the form as-is as an
                                            embeddable element; or process it
                                            further to blend with the theme of the
                                            application. In case the interface is
                                            non-visual, the the render can process
                                            the form data and reproduce it as per
                                            the standard specified in the form.
                                          type: string
                                          format: uri
                                        data:
                                          description: The form submission data
                                          type: object
                                          additionalProperties:
                                            type: string
                                        mime_type:
                                          description: >-
                                            This field indicates the nature and
                                            format of the form received by querying
                                            the url. MIME types are defined and
                                            standardized in IETF's RFC 6838.
                                          type: string
                                          enum:
                                            - text/html
                                            - application/xml
                                        submission_id:
                                          type: string
                                          format: uuid
                                    required:
                                      description: >-
                                        Indicates whether the form data is
                                        mandatorily required by the BPP to
                                        confirm the order.
                                      type: boolean
                                external_ref: *ref_64
                          refund_terms:
                            description: Refund terms of this item
                            type: array
                            items:
                              description: Refund term of an item or an order
                              type: object
                              additionalProperties: false
                              properties:
                                fulfillment_state:
                                  description: >-
                                    The state of fulfillment during which this
                                    term is applicable.
                                  allOf:
                                    - *ref_45
                                refund_eligible:
                                  description: >-
                                    Indicates if cancellation will result in a
                                    refund
                                  type: boolean
                                refund_within:
                                  description: >-
                                    Time within which refund will be processed
                                    after successful cancellation.
                                  allOf:
                                    - *ref_50
                                refund_amount: *ref_62
                          replacement_terms:
                            description: >-
                              Terms that are applicable be met when this item is
                              replaced
                            type: array
                            items:
                              description: The replacement policy of an item or an order
                              type: object
                              additionalProperties: false
                              properties:
                                fulfillment_state:
                                  description: >-
                                    The state of fulfillment during which this
                                    term is applicable.
                                  allOf:
                                    - *ref_45
                                replace_within:
                                  description: >-
                                    Applicable only for buyer managed returns
                                    where the buyer has to replace the item
                                    before a certain date-time, failing which
                                    they will not be eligible for replacement
                                  allOf:
                                    - *ref_50
                                external_ref: *ref_64
                          return_terms:
                            description: >-
                              Terms that are applicable when this item is
                              returned
                            type: array
                            items:
                              description: >-
                                Describes the return policy of an item or an
                                order
                              type: object
                              additionalProperties: false
                              properties:
                                fulfillment_state:
                                  description: >-
                                    The state of fulfillment during which this
                                    term IETF''s applicable.
                                  allOf:
                                    - *ref_45
                                return_eligible:
                                  description: >-
                                    Indicates whether the item is eligible for
                                    return
                                  type: boolean
                                return_time:
                                  description: >-
                                    Applicable only for buyer managed returns
                                    where the buyer has to return the item to
                                    the origin before a certain date-time,
                                    failing which they will not be eligible for
                                    refund.
                                  allOf:
                                    - *ref_50
                                return_location:
                                  description: >-
                                    The location where the item or order must /
                                    will be returned to
                                  allOf:
                                    - *ref_47
                                fulfillment_managed_by:
                                  description: The entity that will perform the return
                                  type: string
                                  enum:
                                    - CONSUMER
                                    - PROVIDER
                          xinput:
                            description: >-
                              Additional input required from the customer to
                              purchase / avail this item
                            allOf:
                              - *ref_65
                          time:
                            description: >-
                              Temporal attributes of this item. This property is
                              used when the item exists on the catalog only for
                              a limited period of time.
                            allOf:
                              - *ref_50
                          rateable:
                            description: Whether this item can be rated
                            type: boolean
                          rating:
                            description: The rating of the item
                            allOf:
                              - *ref_40
                          matched:
                            description: Whether this item is an exact match of the request
                            type: boolean
                          related:
                            description: >-
                              Whether this item is a related item to the exactly
                              matched item
                            type: boolean
                          recommended:
                            description: >-
                              Whether this item is a recommended item to a
                              response
                            type: boolean
                          ttl:
                            description: >-
                              Time to live in seconds for an instance of this
                              schema
                            type: string
                          tags:
                            type: array
                            items: *ref_49
                    exp:
                      type: string
                      description: Time after which catalog has to be refreshed
                      format: date-time
                    rateable:
                      description: Whether this provider can be rated or not
                      type: boolean
                    ttl:
                      description: >-
                        The time-to-live in seconds, for this object. This can
                        be overriden at deeper levels. A value of -1 indicates
                        that this object is not cacheable.
                      type: string
                    tags:
                      type: array
                      items: *ref_49
              exp:
                description: Timestamp after which catalog will expire
                type: string
                format: date-time
              ttl:
                description: Duration in seconds after which this catalog will expire
                type: string
        required:
          - catalog
      error:
        description: >-
          Describes an error object that is returned by a BAP, BPP or BG as a
          response or callback to an action by another network participant. This
          object is sent when any request received by a network participant is
          unacceptable. This object can be sent either during Ack or with the
          callback.
        type: object
        additionalProperties: false
        properties:
          code:
            type: string
            description: >-
              Standard error code. For full list of error codes, refer to
              docs/protocol-drafts/BECKN-005-ERROR-CODES-DRAFT-01.md of this
              repo"
          paths:
            type: string
            description: >-
              Path to json schema generating the error. Used only during json
              schema validation errors
          message:
            type: string
            description: >-
              Human readable message describing the error. Used mainly for
              logging. Not recommended to be shown to the user.
    required:
      - context
  select:
    type: object
    properties:
      context:
        allOf:
          - description: >-
              Every API call in beckn protocol has a context. It provides a
              high-level overview to the receiver about the nature of the
              intended transaction. Typically, it is the BAP that sets the
              transaction context based on the consumer's location and action on
              their UI. But sometimes, during unsolicited callbacks, the BPP
              also sets the transaction context but it is usually the same as
              the context of a previous full-cycle, request-callback interaction
              between the BAP and the BPP. The context object contains four
              types of fields. <ol><li>Demographic information about the
              transaction using fields like `domain`, `country`, and
              `region`.</li><li>Addressing details like the sending and
              receiving platform's ID and API URL.</li><li>Interoperability
              information like the protocol version that implemented by the
              sender and,</li><li>Transaction details like the method being
              called at the receiver's endpoint, the transaction_id that
              represents an end-to-end user session at the BAP, a message ID to
              pair requests with callbacks, a timestamp to capture sending
              times, a ttl to specifiy the validity of the request, and a key to
              encrypt information if necessary.</li></ol> This object must be
              passed in every interaction between a BAP and a BPP. In HTTP/S
              implementations, it is not necessary to send the context during
              the synchronous response. However, in asynchronous protocols, the
              context must be sent during all interactions,
            type: object
            additionalProperties: false
            properties:
              domain:
                description: Domain code that is relevant to this transaction context
                allOf:
                  - type: string
                    description: >-
                      Standard code representing the domain. The standard is
                      usually published as part of the network policy.
                      Furthermore, the network facilitator should also provide a
                      mechanism to provide the supported domains of a network.
              location:
                description: >-
                  The location where the transaction is intended to be
                  fulfilled.
                allOf:
                  - &ref_82
                    description: The physical location of something
                    type: object
                    additionalProperties: false
                    properties:
                      id: &ref_83
                        type: string
                      descriptor: &ref_70
                        description: Physical description of something.
                        type: object
                        additionalProperties: false
                        properties:
                          name:
                            type: string
                          code:
                            type: string
                          short_desc:
                            type: string
                          long_desc:
                            type: string
                          additional_desc:
                            type: object
                            properties:
                              url:
                                type: string
                              content_type:
                                type: string
                                enum:
                                  - text/plain
                                  - text/html
                                  - application/json
                          media:
                            type: array
                            items: &ref_92
                              description: This object contains a url to a media file.
                              type: object
                              additionalProperties: false
                              properties:
                                mimetype:
                                  description: >-
                                    indicates the nature and format of the
                                    document, file, or assortment of bytes. MIME
                                    types are defined and standardized in IETF's
                                    RFC 6838
                                  type: string
                                url:
                                  description: The URL of the file
                                  type: string
                                  format: uri
                                signature:
                                  description: >-
                                    The digital signature of the file signed by
                                    the sender
                                  type: string
                                dsa:
                                  description: The signing algorithm used by the sender
                                  type: string
                          images:
                            type: array
                            items: &ref_75
                              description: Describes an image
                              type: object
                              additionalProperties: false
                              properties:
                                url:
                                  description: >-
                                    URL to the image. This can be a data url or
                                    an remote url
                                  type: string
                                  format: uri
                                size_type:
                                  description: >-
                                    The size of the image. The network policy
                                    can define the default dimensions of each
                                    type
                                  type: string
                                  enum:
                                    - xs
                                    - sm
                                    - md
                                    - lg
                                    - xl
                                    - custom
                                width:
                                  description: Width of the image in pixels
                                  type: string
                                height:
                                  description: Height of the image in pixels
                                  type: string
                      map_url:
                        description: >-
                          The url to the map of the location. This can be a
                          globally recognized map url or the one specified by
                          the network policy.
                        type: string
                        format: uri
                      gps:
                        description: The GPS co-ordinates of this location.
                        allOf:
                          - &ref_66
                            description: Describes a GPS coordinate
                            type: string
                            pattern: >-
                              ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                      address:
                        description: The address of this location.
                        allOf:
                          - &ref_79
                            description: Describes a postal address.
                            type: string
                      city:
                        description: The city this location is, or is located within
                        allOf:
                          - &ref_81
                            description: Describes a city
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                description: Name of the city
                                type: string
                              code:
                                description: City code
                                type: string
                      district:
                        description: The state this location is, or is located within
                        type: string
                      state:
                        description: The state this location is, or is located within
                        allOf:
                          - &ref_80
                            description: >-
                              A bounded geopolitical region of governance inside
                              a country.
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the state
                              code:
                                type: string
                                description: >-
                                  State code as per country or international
                                  standards
                      country:
                        description: The country this location is, or is located within
                        allOf:
                          - description: Describes a country
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the country
                              code:
                                type: string
                                description: >-
                                  Country code as per ISO 3166-1 and ISO 3166-2
                                  format
                      area_code:
                        type: string
                      circle:
                        description: >-
                          Describes a circular region of a specified radius
                          centered at a specified GPS coordinate.
                        type: object
                        additionalProperties: false
                        properties:
                          gps: *ref_66
                          radius: &ref_85
                            description: Describes a scalar
                            type: object
                            additionalProperties: false
                            properties:
                              type:
                                type: string
                                enum:
                                  - CONSTANT
                                  - VARIABLE
                              value: &ref_67
                                description: Describes a numerical value in decimal form
                                type: string
                                pattern: '[+-]?([0-9]*[.])?[0-9]+'
                              estimated_value: *ref_67
                              computed_value: *ref_67
                              range:
                                type: object
                                properties:
                                  min: *ref_67
                                  max: *ref_67
                              unit:
                                type: string
                      polygon:
                        description: The boundary polygon of this location
                        type: string
                      3dspace:
                        description: The three dimensional region describing this location
                        type: string
                      rating:
                        description: The rating of this location
                        allOf:
                          - &ref_71
                            description: >-
                              Rating value given to the object. This can be a
                              single value or can also contain an inequality
                              operator like gt, gte, lt, lte. This can also
                              contain an inequality expression containing
                              logical operators like && and ||.
                            type: string
              action:
                description: >-
                  The Beckn protocol method being called by the sender and
                  executed at the receiver.
                type: string
              version:
                type: string
                description: Version of transaction protocol being used by the sender.
              bap_id:
                description: Subscriber ID of the BAP
                allOf:
                  - &ref_68
                    description: >-
                      A globally unique identifier of the platform, Typically it
                      is the fully qualified domain name (FQDN) of the platform.
                    type: string
              bap_uri:
                description: Subscriber URL of the BAP for accepting callbacks from BPPs.
                allOf:
                  - &ref_69
                    description: >-
                      The callback URL of the Subscriber. This should
                      necessarily contain the same domain name as set in
                      `subscriber_id``.
                    type: string
                    format: uri
              bpp_id:
                description: Subscriber ID of the BPP
                allOf:
                  - *ref_68
              bpp_uri:
                description: Subscriber URL of the BPP for accepting calls from BAPs.
                allOf:
                  - *ref_69
              transaction_id:
                description: >-
                  This is a unique value which persists across all API calls
                  from `search` through `confirm`. This is done to indicate an
                  active user session across multiple requests. The BPPs can use
                  this value to push personalized recommendations, and dynamic
                  offerings related to an ongoing transaction despite being
                  unaware of the user active on the BAP.
                type: string
                format: uuid
              message_id:
                description: >-
                  This is a unique value which persists during a request /
                  callback cycle. Since beckn protocol APIs are asynchronous,
                  BAPs need a common value to match an incoming callback from a
                  BPP to an earlier call. This value can also be used to ignore
                  duplicate messages coming from the BPP. It is recommended to
                  generate a fresh message_id for every new interaction. When
                  sending unsolicited callbacks, BPPs must generate a new
                  message_id.
                type: string
                format: uuid
              timestamp:
                description: Time of request generation in RFC3339 format
                type: string
                format: date-time
              key:
                description: The encryption public key of the sender
                type: string
              ttl:
                description: >-
                  The duration in ISO8601 format after timestamp for which this
                  message holds valid
                type: string
          - type: object
            properties:
              action:
                enum:
                  - select
            required:
              - action
      message:
        type: object
        properties:
          order:
            description: >-
              Describes a legal purchase order. It contains the complete details
              of the legal contract created between the buyer and the seller.
            type: object
            additionalProperties: false
            properties:
              id:
                type: string
                description: >-
                  Human-readable ID of the order. This is generated at the BPP
                  layer. The BPP can either generate order id within its system
                  or forward the order ID created at the provider level.
              ref_order_ids:
                description: A list of order IDs to link this order to previous orders.
                type: array
                items:
                  type: string
                  description: ID of a previous order
              status:
                description: >-
                  Status of the order. Allowed values can be defined by the
                  network policy
                type: string
              type:
                description: >-
                  This is used to indicate the type of order being created to
                  BPPs. Sometimes orders can be linked to previous orders, like
                  a replacement order in a retail domain. A follow-up
                  consultation in healthcare domain. A single order part of a
                  subscription order. The list of order types can be
                  standardized at the network level.
                type: string
                default: DEFAULT
                enum:
                  - DRAFT
                  - DEFAULT
              provider:
                description: >-
                  Details of the provider whose catalog items have been
                  selected.
                allOf:
                  - description: Describes the catalog of a business.
                    type: object
                    properties:
                      id:
                        type: string
                        description: Id of the provider
                      descriptor: *ref_70
                      category_id:
                        type: string
                        description: Category Id of the provider at the BPP-level catalog
                      rating: *ref_71
                      time: &ref_74
                        description: >-
                          Describes time in its various forms. It can be a
                          single point in time; duration; or a structured
                          timetable of operations<br>This has properties like
                          label, time stamp,duration,range, days, schedule
                        type: object
                        additionalProperties: false
                        properties:
                          label:
                            type: string
                          timestamp:
                            type: string
                            format: date-time
                          duration: &ref_72
                            description: Describes duration as per ISO8601 format
                            type: string
                          range:
                            type: object
                            properties:
                              start:
                                type: string
                                format: date-time
                              end:
                                type: string
                                format: date-time
                          days:
                            type: string
                            description: >-
                              comma separated values representing days of the
                              week
                          schedule:
                            description: >-
                              Describes schedule as a repeating time period used
                              to describe a regularly recurring event. At a
                              minimum a schedule will specify frequency which
                              describes the interval between occurrences of the
                              event. Additional information can be provided to
                              specify the schedule more precisely. This includes
                              identifying the timestamps(s) of when the event
                              will take place. Schedules may also have holidays
                              to exclude a specific day from the
                              schedule.<br>This has properties like frequency,
                              holidays, times
                            type: object
                            additionalProperties: false
                            properties:
                              frequency: *ref_72
                              holidays:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                              times:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                      categories:
                        type: array
                        items:
                          description: >-
                            A label under which a collection of items can be
                            grouped.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_73
                              description: ID of the category
                              type: string
                            parent_category_id: *ref_73
                            descriptor: *ref_70
                            time: *ref_74
                            ttl:
                              description: Time to live for an instance of this schema
                            tags:
                              type: array
                              items: &ref_76
                                description: >-
                                  A collection of tag objects with group level
                                  attributes. For detailed documentation on the
                                  Tags and Tag Groups schema go to
                                  https://github.com/beckn/protocol-specifications/discussions/316
                                type: object
                                additionalProperties: false
                                properties:
                                  display:
                                    description: >-
                                      Indicates the display properties of the
                                      tag group. If display is set to false,
                                      then the group will not be displayed. If
                                      it is set to true, it should be displayed.
                                      However, group-level display properties
                                      can be overriden by individual tag-level
                                      display property. As this schema is purely
                                      for catalog display purposes, it is not
                                      recommended to send this value during
                                      search.
                                    type: boolean
                                    default: true
                                  descriptor:
                                    description: >-
                                      Description of the TagGroup, can be used
                                      to store detailed information.
                                    allOf:
                                      - *ref_70
                                  list:
                                    description: >-
                                      An array of Tag objects listed under this
                                      group. This property can be set by BAPs
                                      during search to narrow the `search` and
                                      achieve more relevant results. When
                                      received during `on_search`, BAPs must
                                      render this list under the heading
                                      described by the `name` property of this
                                      schema.
                                    type: array
                                    items:
                                      description: >-
                                        Describes a tag. This is used to contain
                                        extended metadata. This object can be
                                        added as a property to any schema to
                                        describe extended attributes. For BAPs,
                                        tags can be sent during search to
                                        optimize and filter search results. BPPs
                                        can use tags to index their catalog to
                                        allow better search functionality. Tags
                                        are sent by the BPP as part of the
                                        catalog response in the `on_search`
                                        callback. Tags are also meant for
                                        display purposes. Upon receiving a tag,
                                        BAPs are meant to render them as
                                        name-value pairs. This is particularly
                                        useful when rendering tabular
                                        information about a product or service.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor:
                                          description: >-
                                            Description of the Tag, can be used to
                                            store detailed information.
                                          allOf:
                                            - *ref_70
                                        value:
                                          description: >-
                                            The value of the tag. This set by the
                                            BPP and rendered as-is by the BAP.
                                          type: string
                                        display:
                                          description: >-
                                            This value indicates if the tag is
                                            intended for display purposes. If set to
                                            `true`, then this tag must be displayed.
                                            If it is set to `false`, it should not
                                            be displayed. This value can override
                                            the group display value.
                                          type: boolean
                      fulfillments:
                        type: array
                        items: &ref_97
                          description: >-
                            Describes how a an order will be rendered/fulfilled
                            to the end-customer
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_88
                              description: >-
                                Unique reference ID to the fulfillment of an
                                order
                              type: string
                            type:
                              description: >-
                                A code that describes the mode of fulfillment.
                                This is typically set when there are multiple
                                ways an order can be fulfilled. For example, a
                                retail order can be fulfilled either via store
                                pickup or a home delivery. Similarly, a medical
                                consultation can be provided either in-person or
                                via tele-consultation. The network policy must
                                publish standard fulfillment type codes for the
                                different modes of fulfillment.
                              type: string
                            rateable:
                              description: Whether the fulfillment can be rated or not
                              type: boolean
                            rating:
                              description: The rating value of the fulfullment service.
                              allOf:
                                - *ref_71
                            state:
                              description: >-
                                The current state of fulfillment. The BPP must
                                set this value whenever the state of the order
                                fulfillment changes and fire an unsolicited
                                `on_status` call.
                              allOf:
                                - &ref_91
                                  description: Describes the state of fulfillment
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    descriptor: *ref_70
                                    updated_at:
                                      type: string
                                      format: date-time
                                    updated_by:
                                      type: string
                                      description: ID of entity which changed the state
                            tracking:
                              type: boolean
                              description: >-
                                Indicates whether the fulfillment allows
                                tracking
                              default: false
                            customer:
                              description: >-
                                The person that will ultimately receive the
                                order
                              allOf:
                                - description: >-
                                    Describes a customer buying/availing a
                                    product or a service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: &ref_77
                                      description: Describes a person as any individual
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          type: string
                                          description: Describes the identity of the person
                                        url:
                                          description: Profile url of the person
                                          type: string
                                          format: uri
                                        name:
                                          description: the name of the person
                                          type: string
                                        image: *ref_75
                                        age:
                                          description: Age of the person
                                          allOf:
                                            - *ref_72
                                        dob:
                                          description: Date of birth of the person
                                          type: string
                                          format: date
                                        gender:
                                          type: string
                                          description: >-
                                            Gender of something, typically a Person,
                                            but possibly also fictional characters,
                                            animals, etc. While Male and Female may
                                            be used, text strings are also
                                            acceptable for people who do not
                                            identify as a binary gender.Allowed
                                            values for this field can be published
                                            in the network policy
                                        creds:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a credential of an entity -
                                              Person or Organization
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              id:
                                                type: string
                                              type:
                                                type: string
                                                default: VerifiableCredential
                                              url:
                                                description: URL of the credential
                                                type: string
                                                format: uri
                                        languages:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a language known to the
                                              person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        skills:
                                          type: array
                                          items:
                                            description: Describes a skill of the person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        tags:
                                          type: array
                                          items: *ref_76
                                    contact: &ref_78
                                      description: >-
                                        Describes the contact information of an
                                        entity
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        phone:
                                          type: string
                                        email:
                                          type: string
                                        jcard:
                                          type: object
                                          description: >-
                                            A Jcard object as per
                                            draft-ietf-jcardcal-jcard-03
                                            specification
                            agent:
                              description: >-
                                The agent that is currently handling the
                                fulfillment of the order
                              allOf:
                                - description: >-
                                    Describes the direct performer, driver or
                                    executor that fulfills an order. It is
                                    usually a person. But in some rare cases, it
                                    could be a non-living entity like a drone,
                                    or a bot. Some examples of agents are Doctor
                                    in the healthcare sector, a driver in the
                                    mobility sector, or a delivery person in the
                                    logistics sector. This object can be set at
                                    any stage of the order lifecycle. This can
                                    be set at the discovery stage when the BPP
                                    wants to provide details on the agent
                                    fulfilling the order, like in healthcare,
                                    where the doctor's name appears during
                                    search. This object can also used to search
                                    for a particular person that the customer
                                    wants fulfilling an order. Sometimes, this
                                    object gets instantiated after the order is
                                    confirmed, like in the case of on-demand
                                    taxis, where the driver is assigned after
                                    the user confirms the ride.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: *ref_77
                                    contact: *ref_78
                                    organization: &ref_86
                                      description: >-
                                        An organization. Usually a recognized
                                        business entity.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor: *ref_70
                                        address:
                                          description: The postal address of the organization
                                          allOf:
                                            - *ref_79
                                        state:
                                          description: >-
                                            The state where the organization's
                                            address is registered
                                          allOf:
                                            - *ref_80
                                        city:
                                          description: >-
                                            The city where the the organization's
                                            address is registered
                                          allOf:
                                            - *ref_81
                                        contact: *ref_78
                                    rating: *ref_71
                            contact: *ref_78
                            vehicle:
                              description: >-
                                Describes a vehicle is a device that is designed
                                or used to transport people or cargo over land,
                                water, air, or through space.<br>This has
                                properties like category, capacity, make, model,
                                size,variant,color,energy_type,registration
                              type: object
                              additionalProperties: false
                              properties:
                                category:
                                  type: string
                                capacity:
                                  type: integer
                                make:
                                  type: string
                                model:
                                  type: string
                                size:
                                  type: string
                                variant:
                                  type: string
                                color:
                                  type: string
                                energy_type:
                                  type: string
                                registration:
                                  type: string
                                wheels_count:
                                  type: string
                                cargo_volumne:
                                  type: string
                                wheelchair_access:
                                  type: string
                                code:
                                  type: string
                                emission_standard:
                                  type: string
                            stops:
                              description: >-
                                The list of logical stops encountered during the
                                fulfillment of an order.
                              type: array
                              items:
                                description: >-
                                  A logical point in space and time during the
                                  fulfillment of an order.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    type: string
                                  parent_stop_id:
                                    type: string
                                  location:
                                    description: Location of the stop
                                    allOf:
                                      - *ref_82
                                  type:
                                    description: >-
                                      The type of stop. Allowed values of this
                                      property can be defined by the network
                                      policy.
                                    type: string
                                  time:
                                    description: Timings applicable at the stop.
                                    allOf:
                                      - *ref_74
                                  instructions:
                                    description: >-
                                      Instructions that need to be followed at
                                      the stop
                                    allOf:
                                      - *ref_70
                                  contact:
                                    description: Contact details of the stop
                                    allOf:
                                      - *ref_78
                                  person:
                                    description: >-
                                      The details of the person present at the
                                      stop
                                    allOf:
                                      - *ref_77
                                  authorization:
                                    description: >-
                                      Describes an authorization mechanism used
                                      to start or end the fulfillment of an
                                      order. For example, in the mobility
                                      sector, the driver may require a one-time
                                      password to initiate the ride. In the
                                      healthcare sector, a patient may need to
                                      provide a password to open a video
                                      conference link during a teleconsultation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      type:
                                        description: >-
                                          Type of authorization mechanism used.
                                          The allowed values for this field can be
                                          published as part of the network policy.
                                        type: string
                                      token:
                                        description: >-
                                          Token used for authorization. This is
                                          typically generated at the BPP. The BAP
                                          can send this value to the user via any
                                          channel that it uses to authenticate the
                                          user like SMS, Email, Push notification,
                                          or in-app rendering.
                                        type: string
                                      valid_from:
                                        description: >-
                                          Timestamp in RFC3339 format from which
                                          token is valid
                                        type: string
                                        format: date-time
                                      valid_to:
                                        description: >-
                                          Timestamp in RFC3339 format until which
                                          token is valid
                                        type: string
                                        format: date-time
                                      status:
                                        description: Status of the token
                                        type: string
                            path:
                              description: >-
                                The physical path taken by the agent that can be
                                rendered on a map. The allowed format of this
                                property can be set by the network.
                              type: string
                            tags:
                              type: array
                              items: *ref_76
                      payments:
                        type: array
                        items: &ref_102
                          description: >-
                            Describes the terms of settlement between the BAP
                            and the BPP for a single transaction. When
                            instantiated, this object contains <ol><li>the
                            amount that has to be settled,</li><li>The payment
                            destination destination details</li><li>When the
                            settlement should happen, and</li><li>A transaction
                            reference ID</li></ol>. During a transaction, the
                            BPP reserves the right to decide the terms of
                            payment. However, the BAP can send its terms to the
                            BPP first. If the BPP does not agree to those terms,
                            it must overwrite the terms and return them to the
                            BAP. If overridden, the BAP must either agree to the
                            terms sent by the BPP in order to preserve the
                            provider's autonomy, or abort the transaction. In
                            case of such disagreements, the BAP and the BPP can
                            perform offline negotiations on the payment terms.
                            Once an agreement is reached, the BAP and BPP can
                            resume transactions.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_89
                              description: >-
                                ID of the payment term that can be referred at
                                an item or an order level in a catalog
                              type: string
                            collected_by:
                              description: >-
                                This field indicates who is the collector of
                                payment. The BAP can set this value to 'bap' if
                                it wants to collect the payment first and 
                                settle it to the BPP. If the BPP agrees to those
                                terms, the BPP should not send the payment url.
                                Alternatively, the BPP can set this field with
                                the value 'bpp' if it wants the payment to be
                                made directly.
                              type: string
                            url:
                              type: string
                              description: >-
                                A payment url to be called by the BAP. If empty,
                                then the payment is to be done offline. The
                                details of payment should be present in the
                                params object. If tl_method = http/get, then the
                                payment details will be sent as url params. Two
                                url param values, ```$transaction_id``` and
                                ```$amount``` are mandatory.
                              format: uri
                            tl_method:
                              type: string
                            params:
                              type: object
                              properties:
                                transaction_id:
                                  type: string
                                  description: >-
                                    The reference transaction ID associated with
                                    a payment activity
                                amount:
                                  type: string
                                currency:
                                  type: string
                                bank_code:
                                  type: string
                                bank_account_number:
                                  type: string
                                virtual_payment_address:
                                  type: string
                                source_bank_code:
                                  type: string
                                source_bank_account_number:
                                  type: string
                                source_virtual_payment_address:
                                  type: string
                            type:
                              type: string
                              enum:
                                - PRE-ORDER
                                - PRE-FULFILLMENT
                                - ON-FULFILLMENT
                                - POST-FULFILLMENT
                                - ON-ORDER
                            status:
                              type: string
                              enum:
                                - PAID
                                - NOT-PAID
                            time: *ref_74
                            tags:
                              type: array
                              items: *ref_76
                      locations:
                        type: array
                        items: *ref_82
                      offers:
                        type: array
                        items: &ref_96
                          description: >-
                            An offer associated with a catalog. This is
                            typically used to promote a particular product and
                            enable more purchases.
                          type: object
                          additionalProperties: false
                          properties:
                            id:
                              type: string
                            descriptor: *ref_70
                            location_ids:
                              type: array
                              items: *ref_83
                            category_ids:
                              type: array
                              items: *ref_73
                            item_ids:
                              type: array
                              items: &ref_84
                                description: ID of the item.
                                type: string
                            time: *ref_74
                            tags:
                              type: array
                              items: *ref_76
                      items:
                        type: array
                        items: &ref_94
                          description: >-
                            Describes a product or a service offered to the end
                            consumer by the provider. In the mobility sector, it
                            can represent a fare product like one way journey.
                            In the logistics sector, it can represent the
                            delivery service offering. In the retail domain it
                            can represent a product like a grocery item.
                          type: object
                          additionalProperties: false
                          properties:
                            id: *ref_84
                            parent_item_id:
                              description: ID of the item, this item is a variant of
                              allOf:
                                - *ref_84
                            parent_item_quantity:
                              description: >-
                                The number of units of the parent item this item
                                is a multiple of
                              allOf:
                                - &ref_87
                                  description: Describes the count or amount of an item
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    allocated:
                                      description: >-
                                        This represents the exact quantity
                                        allocated for purchase of the item.
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_85
                                    available:
                                      description: >-
                                        This represents the exact quantity
                                        available for purchase of the item. The
                                        buyer can only purchase multiples of
                                        this
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_85
                                    maximum:
                                      description: >-
                                        This represents the maximum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                        measure: *ref_85
                                    minimum:
                                      description: >-
                                        This represents the minimum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_85
                                    selected:
                                      description: >-
                                        This represents the quantity selected
                                        for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_85
                                    unitized:
                                      description: >-
                                        This represents the quantity available
                                        in a single unit of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                          maximum: 1
                                        measure: *ref_85
                            descriptor:
                              description: Physical description of the item
                              allOf:
                                - *ref_70
                            creator:
                              description: The creator of this item
                              allOf:
                                - *ref_86
                            price:
                              description: >-
                                The price of this item, if it has intrinsic
                                value
                              allOf:
                                - &ref_90
                                  description: Describes the price of a product or service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    currency:
                                      type: string
                                    value: *ref_67
                                    estimated_value: *ref_67
                                    computed_value: *ref_67
                                    listed_value: *ref_67
                                    offered_value: *ref_67
                                    minimum_value: *ref_67
                                    maximum_value: *ref_67
                            quantity:
                              description: The selling quantity of the item
                              allOf:
                                - *ref_87
                            category_ids:
                              description: Categories this item can be listed under
                              type: array
                              items:
                                allOf:
                                  - *ref_73
                            fulfillment_ids:
                              description: Modes through which this item can be fulfilled
                              type: array
                              items:
                                allOf:
                                  - *ref_88
                            location_ids:
                              description: Provider Locations this item is available in
                              type: array
                              items:
                                allOf:
                                  - *ref_83
                            payment_ids:
                              description: >-
                                Payment modalities through which this item can
                                be ordered
                              type: array
                              items:
                                allOf:
                                  - *ref_89
                            add_ons:
                              type: array
                              items: &ref_95
                                description: >-
                                  Describes an additional item offered as a
                                  value-addition to a product or service. This
                                  does not exist independently in a catalog and
                                  is always associated with an item.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    description: Provider-defined ID of the add-on
                                    type: string
                                  descriptor: *ref_70
                                  price: *ref_90
                                  quantity: *ref_87
                            cancellation_terms:
                              description: Cancellation terms of this item
                              type: array
                              items: &ref_98
                                description: >-
                                  Describes the cancellation terms of an item or
                                  an order. This can be referenced at an item or
                                  order level. Item-level cancellation terms can
                                  override the terms at the order level.
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_91
                                  reason_required:
                                    description: >-
                                      Indicates whether a reason is required to
                                      cancel the order
                                    type: boolean
                                  cancel_by:
                                    description: >-
                                      Information related to the time of
                                      cancellation.
                                    allOf:
                                      - *ref_74
                                  cancellation_fee:
                                    description: A fee applied on a particular entity
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      percentage:
                                        description: Percentage of a value
                                        allOf:
                                          - *ref_67
                                      amount:
                                        description: A fixed value
                                        allOf:
                                          - *ref_90
                                  xinput: &ref_93
                                    description: >-
                                      Contains any additional or extended inputs
                                      required to confirm an order. This is
                                      typically a Form Input. Sometimes,
                                      selection of catalog elements is not
                                      enough for the BPP to confirm an order.
                                      For example, to confirm a flight ticket,
                                      the airline requires details of the
                                      passengers along with information on
                                      baggage, identity, in addition to the
                                      class of ticket. Similarly, a logistics
                                      company may require details on the nature
                                      of shipment in order to confirm the
                                      shipping. A recruiting firm may require
                                      additional details on the applicant in
                                      order to confirm a job application. For
                                      all such purposes, the BPP can choose to
                                      send this object attached to any object in
                                      the catalog that is required to be sent
                                      while placing the order. This object can
                                      typically be sent at an item level or at
                                      the order level. The item level XInput
                                      will override the Order level XInput as it
                                      indicates a special requirement of
                                      information for that particular item.
                                      Hence the BAP must render a separate form
                                      for the Item and another form at the Order
                                      level before confirmation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      form:
                                        description: Describes a form
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          url:
                                            description: >-
                                              The URL from where the form can be
                                              fetched. The content fetched from the
                                              url must be processed as per the
                                              mime_type specified in this object. Once
                                              fetched, the rendering platform can
                                              choosed to render the form as-is as an
                                              embeddable element; or process it
                                              further to blend with the theme of the
                                              application. In case the interface is
                                              non-visual, the the render can process
                                              the form data and reproduce it as per
                                              the standard specified in the form.
                                            type: string
                                            format: uri
                                          data:
                                            description: The form submission data
                                            type: object
                                            additionalProperties:
                                              type: string
                                          mime_type:
                                            description: >-
                                              This field indicates the nature and
                                              format of the form received by querying
                                              the url. MIME types are defined and
                                              standardized in IETF's RFC 6838.
                                            type: string
                                            enum:
                                              - text/html
                                              - application/xml
                                          submission_id:
                                            type: string
                                            format: uuid
                                      required:
                                        description: >-
                                          Indicates whether the form data is
                                          mandatorily required by the BPP to
                                          confirm the order.
                                        type: boolean
                                  external_ref: *ref_92
                            refund_terms:
                              description: Refund terms of this item
                              type: array
                              items: &ref_99
                                description: Refund term of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_80
                                  refund_eligible:
                                    description: >-
                                      Indicates if cancellation will result in a
                                      refund
                                    type: boolean
                                  refund_within:
                                    description: >-
                                      Time within which refund will be processed
                                      after successful cancellation.
                                    allOf:
                                      - *ref_74
                                  refund_amount: *ref_90
                            replacement_terms:
                              description: >-
                                Terms that are applicable be met when this item
                                is replaced
                              type: array
                              items: &ref_100
                                description: The replacement policy of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_80
                                  replace_within:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to replace the item
                                      before a certain date-time, failing which
                                      they will not be eligible for replacement
                                    allOf:
                                      - *ref_74
                                  external_ref: *ref_92
                            return_terms:
                              description: >-
                                Terms that are applicable when this item is
                                returned
                              type: array
                              items: &ref_101
                                description: >-
                                  Describes the return policy of an item or an
                                  order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term IETF''s applicable.
                                    allOf:
                                      - *ref_80
                                  return_eligible:
                                    description: >-
                                      Indicates whether the item is eligible for
                                      return
                                    type: boolean
                                  return_time:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to return the item to
                                      the origin before a certain date-time,
                                      failing which they will not be eligible
                                      for refund.
                                    allOf:
                                      - *ref_74
                                  return_location:
                                    description: >-
                                      The location where the item or order must
                                      / will be returned to
                                    allOf:
                                      - *ref_82
                                  fulfillment_managed_by:
                                    description: The entity that will perform the return
                                    type: string
                                    enum:
                                      - CONSUMER
                                      - PROVIDER
                            xinput:
                              description: >-
                                Additional input required from the customer to
                                purchase / avail this item
                              allOf:
                                - *ref_93
                            time:
                              description: >-
                                Temporal attributes of this item. This property
                                is used when the item exists on the catalog only
                                for a limited period of time.
                              allOf:
                                - *ref_74
                            rateable:
                              description: Whether this item can be rated
                              type: boolean
                            rating:
                              description: The rating of the item
                              allOf:
                                - *ref_71
                            matched:
                              description: >-
                                Whether this item is an exact match of the
                                request
                              type: boolean
                            related:
                              description: >-
                                Whether this item is a related item to the
                                exactly matched item
                              type: boolean
                            recommended:
                              description: >-
                                Whether this item is a recommended item to a
                                response
                              type: boolean
                            ttl:
                              description: >-
                                Time to live in seconds for an instance of this
                                schema
                              type: string
                            tags:
                              type: array
                              items: *ref_76
                      exp:
                        type: string
                        description: Time after which catalog has to be refreshed
                        format: date-time
                      rateable:
                        description: Whether this provider can be rated or not
                        type: boolean
                      ttl:
                        description: >-
                          The time-to-live in seconds, for this object. This can
                          be overriden at deeper levels. A value of -1 indicates
                          that this object is not cacheable.
                        type: string
                      tags:
                        type: array
                        items: *ref_76
              items:
                description: The items purchased / availed in this order
                type: array
                items: *ref_94
              add_ons:
                description: The add-ons purchased / availed in this order
                type: array
                items: *ref_95
              offers:
                description: The offers applied in this order
                type: array
                items: *ref_96
              billing:
                description: The billing details of this order
                allOf:
                  - description: >-
                      Describes the billing details of an entity.<br>This has
                      properties like
                      name,organization,address,email,phone,time,tax_number,
                      created_at,updated_at
                    type: object
                    additionalProperties: false
                    properties:
                      name:
                        description: Name of the billable entity
                        type: string
                      organization:
                        description: Details of the organization being billed.
                        allOf:
                          - *ref_86
                      address:
                        description: The address of the billable entity
                        allOf:
                          - *ref_79
                      state:
                        description: >-
                          The state where the billable entity resides. This is
                          important for state-level tax calculation
                        allOf:
                          - *ref_80
                      city:
                        description: The city where the billable entity resides.
                        allOf:
                          - *ref_81
                      email:
                        description: Email address where the bill is sent to
                        type: string
                        format: email
                      phone:
                        description: Phone number of the billable entity
                        type: string
                      time:
                        description: Details regarding the billing period
                        allOf:
                          - *ref_74
                      tax_id:
                        description: >-
                          ID of the billable entity as recognized by the
                          taxation authority
                        type: string
              fulfillments:
                description: The fulfillments involved in completing this order
                type: array
                items: *ref_97
              cancellation:
                description: The cancellation details of this order
                allOf:
                  - description: Describes a cancellation event
                    type: object
                    additionalProperties: false
                    properties:
                      time:
                        description: Date-time when the order was cancelled by the buyer
                        type: string
                        format: date-time
                      cancelled_by:
                        type: string
                        enum:
                          - CONSUMER
                          - PROVIDER
                      reason:
                        description: The reason for cancellation
                        allOf:
                          - description: Describes a selectable option
                            type: object
                            additionalProperties: false
                            properties:
                              id:
                                type: string
                              descriptor: *ref_70
                      additional_description:
                        description: >-
                          Any additional information regarding the nature of
                          cancellation
                        allOf:
                          - *ref_70
              cancellation_terms:
                description: Cancellation terms of this item
                type: array
                items: *ref_98
              documents:
                type: array
                items:
                  description: Documnents associated to the order
                  type: object
                  additionalProperties: false
                  properties:
                    descriptor: *ref_70
                    mime_type:
                      description: >-
                        This field indicates the nature and format of the form
                        received by querying the url. MIME types are defined and
                        standardized in IETF's RFC 6838.
                      type: string
                      enum:
                        - text/html
                        - application/html
                        - application/xml
                        - application/pdf
                    url:
                      description: >-
                        The URL from where the form can be fetched. The content
                        fetched from the url must be processed as per the
                        mime_type specified in this object.
                      type: string
                      format: uri
              refund_terms:
                description: Refund terms of this item
                type: array
                items: *ref_99
              replacement_terms:
                description: Replacement terms of this item
                type: array
                items: *ref_100
              return_terms:
                description: Return terms of this item
                type: array
                items: *ref_101
              quote:
                description: The mutually agreed upon quotation for this order.
                allOf:
                  - description: >-
                      Describes a quote. It is the estimated price of products
                      or services from the BPP.<br>This has properties like
                      price, breakup, ttl
                    type: object
                    additionalProperties: false
                    properties:
                      id:
                        description: ID of the quote.
                        type: string
                        format: uuid
                      price:
                        description: The total quoted price
                        allOf:
                          - *ref_90
                      breakup:
                        description: the breakup of the total quoted price
                        type: array
                        items:
                          type: object
                          properties:
                            item: *ref_94
                            title:
                              type: string
                            price: *ref_90
                      ttl: *ref_72
              payments:
                description: The terms of settlement for this order
                type: array
                items: *ref_102
              created_at:
                description: The date-time of creation of this order
                type: string
                format: date-time
              updated_at:
                description: The date-time of updated of this order
                type: string
                format: date-time
              xinput:
                description: >-
                  Additional input required from the customer to confirm this
                  order
                allOf:
                  - *ref_93
              tags:
                type: array
                items: *ref_76
        required:
          - order
    required:
      - context
      - message
  on_select:
    type: object
    properties:
      context:
        allOf:
          - description: >-
              Every API call in beckn protocol has a context. It provides a
              high-level overview to the receiver about the nature of the
              intended transaction. Typically, it is the BAP that sets the
              transaction context based on the consumer's location and action on
              their UI. But sometimes, during unsolicited callbacks, the BPP
              also sets the transaction context but it is usually the same as
              the context of a previous full-cycle, request-callback interaction
              between the BAP and the BPP. The context object contains four
              types of fields. <ol><li>Demographic information about the
              transaction using fields like `domain`, `country`, and
              `region`.</li><li>Addressing details like the sending and
              receiving platform's ID and API URL.</li><li>Interoperability
              information like the protocol version that implemented by the
              sender and,</li><li>Transaction details like the method being
              called at the receiver's endpoint, the transaction_id that
              represents an end-to-end user session at the BAP, a message ID to
              pair requests with callbacks, a timestamp to capture sending
              times, a ttl to specifiy the validity of the request, and a key to
              encrypt information if necessary.</li></ol> This object must be
              passed in every interaction between a BAP and a BPP. In HTTP/S
              implementations, it is not necessary to send the context during
              the synchronous response. However, in asynchronous protocols, the
              context must be sent during all interactions,
            type: object
            additionalProperties: false
            properties:
              domain:
                description: Domain code that is relevant to this transaction context
                allOf:
                  - type: string
                    description: >-
                      Standard code representing the domain. The standard is
                      usually published as part of the network policy.
                      Furthermore, the network facilitator should also provide a
                      mechanism to provide the supported domains of a network.
              location:
                description: >-
                  The location where the transaction is intended to be
                  fulfilled.
                allOf:
                  - &ref_119
                    description: The physical location of something
                    type: object
                    additionalProperties: false
                    properties:
                      id: &ref_120
                        type: string
                      descriptor: &ref_107
                        description: Physical description of something.
                        type: object
                        additionalProperties: false
                        properties:
                          name:
                            type: string
                          code:
                            type: string
                          short_desc:
                            type: string
                          long_desc:
                            type: string
                          additional_desc:
                            type: object
                            properties:
                              url:
                                type: string
                              content_type:
                                type: string
                                enum:
                                  - text/plain
                                  - text/html
                                  - application/json
                          media:
                            type: array
                            items: &ref_129
                              description: This object contains a url to a media file.
                              type: object
                              additionalProperties: false
                              properties:
                                mimetype:
                                  description: >-
                                    indicates the nature and format of the
                                    document, file, or assortment of bytes. MIME
                                    types are defined and standardized in IETF's
                                    RFC 6838
                                  type: string
                                url:
                                  description: The URL of the file
                                  type: string
                                  format: uri
                                signature:
                                  description: >-
                                    The digital signature of the file signed by
                                    the sender
                                  type: string
                                dsa:
                                  description: The signing algorithm used by the sender
                                  type: string
                          images:
                            type: array
                            items: &ref_112
                              description: Describes an image
                              type: object
                              additionalProperties: false
                              properties:
                                url:
                                  description: >-
                                    URL to the image. This can be a data url or
                                    an remote url
                                  type: string
                                  format: uri
                                size_type:
                                  description: >-
                                    The size of the image. The network policy
                                    can define the default dimensions of each
                                    type
                                  type: string
                                  enum:
                                    - xs
                                    - sm
                                    - md
                                    - lg
                                    - xl
                                    - custom
                                width:
                                  description: Width of the image in pixels
                                  type: string
                                height:
                                  description: Height of the image in pixels
                                  type: string
                      map_url:
                        description: >-
                          The url to the map of the location. This can be a
                          globally recognized map url or the one specified by
                          the network policy.
                        type: string
                        format: uri
                      gps:
                        description: The GPS co-ordinates of this location.
                        allOf:
                          - &ref_103
                            description: Describes a GPS coordinate
                            type: string
                            pattern: >-
                              ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                      address:
                        description: The address of this location.
                        allOf:
                          - &ref_116
                            description: Describes a postal address.
                            type: string
                      city:
                        description: The city this location is, or is located within
                        allOf:
                          - &ref_118
                            description: Describes a city
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                description: Name of the city
                                type: string
                              code:
                                description: City code
                                type: string
                      district:
                        description: The state this location is, or is located within
                        type: string
                      state:
                        description: The state this location is, or is located within
                        allOf:
                          - &ref_117
                            description: >-
                              A bounded geopolitical region of governance inside
                              a country.
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the state
                              code:
                                type: string
                                description: >-
                                  State code as per country or international
                                  standards
                      country:
                        description: The country this location is, or is located within
                        allOf:
                          - description: Describes a country
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the country
                              code:
                                type: string
                                description: >-
                                  Country code as per ISO 3166-1 and ISO 3166-2
                                  format
                      area_code:
                        type: string
                      circle:
                        description: >-
                          Describes a circular region of a specified radius
                          centered at a specified GPS coordinate.
                        type: object
                        additionalProperties: false
                        properties:
                          gps: *ref_103
                          radius: &ref_122
                            description: Describes a scalar
                            type: object
                            additionalProperties: false
                            properties:
                              type:
                                type: string
                                enum:
                                  - CONSTANT
                                  - VARIABLE
                              value: &ref_104
                                description: Describes a numerical value in decimal form
                                type: string
                                pattern: '[+-]?([0-9]*[.])?[0-9]+'
                              estimated_value: *ref_104
                              computed_value: *ref_104
                              range:
                                type: object
                                properties:
                                  min: *ref_104
                                  max: *ref_104
                              unit:
                                type: string
                      polygon:
                        description: The boundary polygon of this location
                        type: string
                      3dspace:
                        description: The three dimensional region describing this location
                        type: string
                      rating:
                        description: The rating of this location
                        allOf:
                          - &ref_108
                            description: >-
                              Rating value given to the object. This can be a
                              single value or can also contain an inequality
                              operator like gt, gte, lt, lte. This can also
                              contain an inequality expression containing
                              logical operators like && and ||.
                            type: string
              action:
                description: >-
                  The Beckn protocol method being called by the sender and
                  executed at the receiver.
                type: string
              version:
                type: string
                description: Version of transaction protocol being used by the sender.
              bap_id:
                description: Subscriber ID of the BAP
                allOf:
                  - &ref_105
                    description: >-
                      A globally unique identifier of the platform, Typically it
                      is the fully qualified domain name (FQDN) of the platform.
                    type: string
              bap_uri:
                description: Subscriber URL of the BAP for accepting callbacks from BPPs.
                allOf:
                  - &ref_106
                    description: >-
                      The callback URL of the Subscriber. This should
                      necessarily contain the same domain name as set in
                      `subscriber_id``.
                    type: string
                    format: uri
              bpp_id:
                description: Subscriber ID of the BPP
                allOf:
                  - *ref_105
              bpp_uri:
                description: Subscriber URL of the BPP for accepting calls from BAPs.
                allOf:
                  - *ref_106
              transaction_id:
                description: >-
                  This is a unique value which persists across all API calls
                  from `search` through `confirm`. This is done to indicate an
                  active user session across multiple requests. The BPPs can use
                  this value to push personalized recommendations, and dynamic
                  offerings related to an ongoing transaction despite being
                  unaware of the user active on the BAP.
                type: string
                format: uuid
              message_id:
                description: >-
                  This is a unique value which persists during a request /
                  callback cycle. Since beckn protocol APIs are asynchronous,
                  BAPs need a common value to match an incoming callback from a
                  BPP to an earlier call. This value can also be used to ignore
                  duplicate messages coming from the BPP. It is recommended to
                  generate a fresh message_id for every new interaction. When
                  sending unsolicited callbacks, BPPs must generate a new
                  message_id.
                type: string
                format: uuid
              timestamp:
                description: Time of request generation in RFC3339 format
                type: string
                format: date-time
              key:
                description: The encryption public key of the sender
                type: string
              ttl:
                description: >-
                  The duration in ISO8601 format after timestamp for which this
                  message holds valid
                type: string
          - type: object
            properties:
              action:
                enum:
                  - on_select
            required:
              - action
      message:
        type: object
        properties:
          order:
            description: >-
              Describes a legal purchase order. It contains the complete details
              of the legal contract created between the buyer and the seller.
            type: object
            additionalProperties: false
            properties:
              id:
                type: string
                description: >-
                  Human-readable ID of the order. This is generated at the BPP
                  layer. The BPP can either generate order id within its system
                  or forward the order ID created at the provider level.
              ref_order_ids:
                description: A list of order IDs to link this order to previous orders.
                type: array
                items:
                  type: string
                  description: ID of a previous order
              status:
                description: >-
                  Status of the order. Allowed values can be defined by the
                  network policy
                type: string
              type:
                description: >-
                  This is used to indicate the type of order being created to
                  BPPs. Sometimes orders can be linked to previous orders, like
                  a replacement order in a retail domain. A follow-up
                  consultation in healthcare domain. A single order part of a
                  subscription order. The list of order types can be
                  standardized at the network level.
                type: string
                default: DEFAULT
                enum:
                  - DRAFT
                  - DEFAULT
              provider:
                description: >-
                  Details of the provider whose catalog items have been
                  selected.
                allOf:
                  - description: Describes the catalog of a business.
                    type: object
                    properties:
                      id:
                        type: string
                        description: Id of the provider
                      descriptor: *ref_107
                      category_id:
                        type: string
                        description: Category Id of the provider at the BPP-level catalog
                      rating: *ref_108
                      time: &ref_111
                        description: >-
                          Describes time in its various forms. It can be a
                          single point in time; duration; or a structured
                          timetable of operations<br>This has properties like
                          label, time stamp,duration,range, days, schedule
                        type: object
                        additionalProperties: false
                        properties:
                          label:
                            type: string
                          timestamp:
                            type: string
                            format: date-time
                          duration: &ref_109
                            description: Describes duration as per ISO8601 format
                            type: string
                          range:
                            type: object
                            properties:
                              start:
                                type: string
                                format: date-time
                              end:
                                type: string
                                format: date-time
                          days:
                            type: string
                            description: >-
                              comma separated values representing days of the
                              week
                          schedule:
                            description: >-
                              Describes schedule as a repeating time period used
                              to describe a regularly recurring event. At a
                              minimum a schedule will specify frequency which
                              describes the interval between occurrences of the
                              event. Additional information can be provided to
                              specify the schedule more precisely. This includes
                              identifying the timestamps(s) of when the event
                              will take place. Schedules may also have holidays
                              to exclude a specific day from the
                              schedule.<br>This has properties like frequency,
                              holidays, times
                            type: object
                            additionalProperties: false
                            properties:
                              frequency: *ref_109
                              holidays:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                              times:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                      categories:
                        type: array
                        items:
                          description: >-
                            A label under which a collection of items can be
                            grouped.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_110
                              description: ID of the category
                              type: string
                            parent_category_id: *ref_110
                            descriptor: *ref_107
                            time: *ref_111
                            ttl:
                              description: Time to live for an instance of this schema
                            tags:
                              type: array
                              items: &ref_113
                                description: >-
                                  A collection of tag objects with group level
                                  attributes. For detailed documentation on the
                                  Tags and Tag Groups schema go to
                                  https://github.com/beckn/protocol-specifications/discussions/316
                                type: object
                                additionalProperties: false
                                properties:
                                  display:
                                    description: >-
                                      Indicates the display properties of the
                                      tag group. If display is set to false,
                                      then the group will not be displayed. If
                                      it is set to true, it should be displayed.
                                      However, group-level display properties
                                      can be overriden by individual tag-level
                                      display property. As this schema is purely
                                      for catalog display purposes, it is not
                                      recommended to send this value during
                                      search.
                                    type: boolean
                                    default: true
                                  descriptor:
                                    description: >-
                                      Description of the TagGroup, can be used
                                      to store detailed information.
                                    allOf:
                                      - *ref_107
                                  list:
                                    description: >-
                                      An array of Tag objects listed under this
                                      group. This property can be set by BAPs
                                      during search to narrow the `search` and
                                      achieve more relevant results. When
                                      received during `on_search`, BAPs must
                                      render this list under the heading
                                      described by the `name` property of this
                                      schema.
                                    type: array
                                    items:
                                      description: >-
                                        Describes a tag. This is used to contain
                                        extended metadata. This object can be
                                        added as a property to any schema to
                                        describe extended attributes. For BAPs,
                                        tags can be sent during search to
                                        optimize and filter search results. BPPs
                                        can use tags to index their catalog to
                                        allow better search functionality. Tags
                                        are sent by the BPP as part of the
                                        catalog response in the `on_search`
                                        callback. Tags are also meant for
                                        display purposes. Upon receiving a tag,
                                        BAPs are meant to render them as
                                        name-value pairs. This is particularly
                                        useful when rendering tabular
                                        information about a product or service.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor:
                                          description: >-
                                            Description of the Tag, can be used to
                                            store detailed information.
                                          allOf:
                                            - *ref_107
                                        value:
                                          description: >-
                                            The value of the tag. This set by the
                                            BPP and rendered as-is by the BAP.
                                          type: string
                                        display:
                                          description: >-
                                            This value indicates if the tag is
                                            intended for display purposes. If set to
                                            `true`, then this tag must be displayed.
                                            If it is set to `false`, it should not
                                            be displayed. This value can override
                                            the group display value.
                                          type: boolean
                      fulfillments:
                        type: array
                        items: &ref_134
                          description: >-
                            Describes how a an order will be rendered/fulfilled
                            to the end-customer
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_125
                              description: >-
                                Unique reference ID to the fulfillment of an
                                order
                              type: string
                            type:
                              description: >-
                                A code that describes the mode of fulfillment.
                                This is typically set when there are multiple
                                ways an order can be fulfilled. For example, a
                                retail order can be fulfilled either via store
                                pickup or a home delivery. Similarly, a medical
                                consultation can be provided either in-person or
                                via tele-consultation. The network policy must
                                publish standard fulfillment type codes for the
                                different modes of fulfillment.
                              type: string
                            rateable:
                              description: Whether the fulfillment can be rated or not
                              type: boolean
                            rating:
                              description: The rating value of the fulfullment service.
                              allOf:
                                - *ref_108
                            state:
                              description: >-
                                The current state of fulfillment. The BPP must
                                set this value whenever the state of the order
                                fulfillment changes and fire an unsolicited
                                `on_status` call.
                              allOf:
                                - &ref_128
                                  description: Describes the state of fulfillment
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    descriptor: *ref_107
                                    updated_at:
                                      type: string
                                      format: date-time
                                    updated_by:
                                      type: string
                                      description: ID of entity which changed the state
                            tracking:
                              type: boolean
                              description: >-
                                Indicates whether the fulfillment allows
                                tracking
                              default: false
                            customer:
                              description: >-
                                The person that will ultimately receive the
                                order
                              allOf:
                                - description: >-
                                    Describes a customer buying/availing a
                                    product or a service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: &ref_114
                                      description: Describes a person as any individual
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          type: string
                                          description: Describes the identity of the person
                                        url:
                                          description: Profile url of the person
                                          type: string
                                          format: uri
                                        name:
                                          description: the name of the person
                                          type: string
                                        image: *ref_112
                                        age:
                                          description: Age of the person
                                          allOf:
                                            - *ref_109
                                        dob:
                                          description: Date of birth of the person
                                          type: string
                                          format: date
                                        gender:
                                          type: string
                                          description: >-
                                            Gender of something, typically a Person,
                                            but possibly also fictional characters,
                                            animals, etc. While Male and Female may
                                            be used, text strings are also
                                            acceptable for people who do not
                                            identify as a binary gender.Allowed
                                            values for this field can be published
                                            in the network policy
                                        creds:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a credential of an entity -
                                              Person or Organization
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              id:
                                                type: string
                                              type:
                                                type: string
                                                default: VerifiableCredential
                                              url:
                                                description: URL of the credential
                                                type: string
                                                format: uri
                                        languages:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a language known to the
                                              person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        skills:
                                          type: array
                                          items:
                                            description: Describes a skill of the person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        tags:
                                          type: array
                                          items: *ref_113
                                    contact: &ref_115
                                      description: >-
                                        Describes the contact information of an
                                        entity
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        phone:
                                          type: string
                                        email:
                                          type: string
                                        jcard:
                                          type: object
                                          description: >-
                                            A Jcard object as per
                                            draft-ietf-jcardcal-jcard-03
                                            specification
                            agent:
                              description: >-
                                The agent that is currently handling the
                                fulfillment of the order
                              allOf:
                                - description: >-
                                    Describes the direct performer, driver or
                                    executor that fulfills an order. It is
                                    usually a person. But in some rare cases, it
                                    could be a non-living entity like a drone,
                                    or a bot. Some examples of agents are Doctor
                                    in the healthcare sector, a driver in the
                                    mobility sector, or a delivery person in the
                                    logistics sector. This object can be set at
                                    any stage of the order lifecycle. This can
                                    be set at the discovery stage when the BPP
                                    wants to provide details on the agent
                                    fulfilling the order, like in healthcare,
                                    where the doctor's name appears during
                                    search. This object can also used to search
                                    for a particular person that the customer
                                    wants fulfilling an order. Sometimes, this
                                    object gets instantiated after the order is
                                    confirmed, like in the case of on-demand
                                    taxis, where the driver is assigned after
                                    the user confirms the ride.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: *ref_114
                                    contact: *ref_115
                                    organization: &ref_123
                                      description: >-
                                        An organization. Usually a recognized
                                        business entity.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor: *ref_107
                                        address:
                                          description: The postal address of the organization
                                          allOf:
                                            - *ref_116
                                        state:
                                          description: >-
                                            The state where the organization's
                                            address is registered
                                          allOf:
                                            - *ref_117
                                        city:
                                          description: >-
                                            The city where the the organization's
                                            address is registered
                                          allOf:
                                            - *ref_118
                                        contact: *ref_115
                                    rating: *ref_108
                            contact: *ref_115
                            vehicle:
                              description: >-
                                Describes a vehicle is a device that is designed
                                or used to transport people or cargo over land,
                                water, air, or through space.<br>This has
                                properties like category, capacity, make, model,
                                size,variant,color,energy_type,registration
                              type: object
                              additionalProperties: false
                              properties:
                                category:
                                  type: string
                                capacity:
                                  type: integer
                                make:
                                  type: string
                                model:
                                  type: string
                                size:
                                  type: string
                                variant:
                                  type: string
                                color:
                                  type: string
                                energy_type:
                                  type: string
                                registration:
                                  type: string
                                wheels_count:
                                  type: string
                                cargo_volumne:
                                  type: string
                                wheelchair_access:
                                  type: string
                                code:
                                  type: string
                                emission_standard:
                                  type: string
                            stops:
                              description: >-
                                The list of logical stops encountered during the
                                fulfillment of an order.
                              type: array
                              items:
                                description: >-
                                  A logical point in space and time during the
                                  fulfillment of an order.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    type: string
                                  parent_stop_id:
                                    type: string
                                  location:
                                    description: Location of the stop
                                    allOf:
                                      - *ref_119
                                  type:
                                    description: >-
                                      The type of stop. Allowed values of this
                                      property can be defined by the network
                                      policy.
                                    type: string
                                  time:
                                    description: Timings applicable at the stop.
                                    allOf:
                                      - *ref_111
                                  instructions:
                                    description: >-
                                      Instructions that need to be followed at
                                      the stop
                                    allOf:
                                      - *ref_107
                                  contact:
                                    description: Contact details of the stop
                                    allOf:
                                      - *ref_115
                                  person:
                                    description: >-
                                      The details of the person present at the
                                      stop
                                    allOf:
                                      - *ref_114
                                  authorization:
                                    description: >-
                                      Describes an authorization mechanism used
                                      to start or end the fulfillment of an
                                      order. For example, in the mobility
                                      sector, the driver may require a one-time
                                      password to initiate the ride. In the
                                      healthcare sector, a patient may need to
                                      provide a password to open a video
                                      conference link during a teleconsultation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      type:
                                        description: >-
                                          Type of authorization mechanism used.
                                          The allowed values for this field can be
                                          published as part of the network policy.
                                        type: string
                                      token:
                                        description: >-
                                          Token used for authorization. This is
                                          typically generated at the BPP. The BAP
                                          can send this value to the user via any
                                          channel that it uses to authenticate the
                                          user like SMS, Email, Push notification,
                                          or in-app rendering.
                                        type: string
                                      valid_from:
                                        description: >-
                                          Timestamp in RFC3339 format from which
                                          token is valid
                                        type: string
                                        format: date-time
                                      valid_to:
                                        description: >-
                                          Timestamp in RFC3339 format until which
                                          token is valid
                                        type: string
                                        format: date-time
                                      status:
                                        description: Status of the token
                                        type: string
                            path:
                              description: >-
                                The physical path taken by the agent that can be
                                rendered on a map. The allowed format of this
                                property can be set by the network.
                              type: string
                            tags:
                              type: array
                              items: *ref_113
                      payments:
                        type: array
                        items: &ref_139
                          description: >-
                            Describes the terms of settlement between the BAP
                            and the BPP for a single transaction. When
                            instantiated, this object contains <ol><li>the
                            amount that has to be settled,</li><li>The payment
                            destination destination details</li><li>When the
                            settlement should happen, and</li><li>A transaction
                            reference ID</li></ol>. During a transaction, the
                            BPP reserves the right to decide the terms of
                            payment. However, the BAP can send its terms to the
                            BPP first. If the BPP does not agree to those terms,
                            it must overwrite the terms and return them to the
                            BAP. If overridden, the BAP must either agree to the
                            terms sent by the BPP in order to preserve the
                            provider's autonomy, or abort the transaction. In
                            case of such disagreements, the BAP and the BPP can
                            perform offline negotiations on the payment terms.
                            Once an agreement is reached, the BAP and BPP can
                            resume transactions.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_126
                              description: >-
                                ID of the payment term that can be referred at
                                an item or an order level in a catalog
                              type: string
                            collected_by:
                              description: >-
                                This field indicates who is the collector of
                                payment. The BAP can set this value to 'bap' if
                                it wants to collect the payment first and 
                                settle it to the BPP. If the BPP agrees to those
                                terms, the BPP should not send the payment url.
                                Alternatively, the BPP can set this field with
                                the value 'bpp' if it wants the payment to be
                                made directly.
                              type: string
                            url:
                              type: string
                              description: >-
                                A payment url to be called by the BAP. If empty,
                                then the payment is to be done offline. The
                                details of payment should be present in the
                                params object. If tl_method = http/get, then the
                                payment details will be sent as url params. Two
                                url param values, ```$transaction_id``` and
                                ```$amount``` are mandatory.
                              format: uri
                            tl_method:
                              type: string
                            params:
                              type: object
                              properties:
                                transaction_id:
                                  type: string
                                  description: >-
                                    The reference transaction ID associated with
                                    a payment activity
                                amount:
                                  type: string
                                currency:
                                  type: string
                                bank_code:
                                  type: string
                                bank_account_number:
                                  type: string
                                virtual_payment_address:
                                  type: string
                                source_bank_code:
                                  type: string
                                source_bank_account_number:
                                  type: string
                                source_virtual_payment_address:
                                  type: string
                            type:
                              type: string
                              enum:
                                - PRE-ORDER
                                - PRE-FULFILLMENT
                                - ON-FULFILLMENT
                                - POST-FULFILLMENT
                                - ON-ORDER
                            status:
                              type: string
                              enum:
                                - PAID
                                - NOT-PAID
                            time: *ref_111
                            tags:
                              type: array
                              items: *ref_113
                      locations:
                        type: array
                        items: *ref_119
                      offers:
                        type: array
                        items: &ref_133
                          description: >-
                            An offer associated with a catalog. This is
                            typically used to promote a particular product and
                            enable more purchases.
                          type: object
                          additionalProperties: false
                          properties:
                            id:
                              type: string
                            descriptor: *ref_107
                            location_ids:
                              type: array
                              items: *ref_120
                            category_ids:
                              type: array
                              items: *ref_110
                            item_ids:
                              type: array
                              items: &ref_121
                                description: ID of the item.
                                type: string
                            time: *ref_111
                            tags:
                              type: array
                              items: *ref_113
                      items:
                        type: array
                        items: &ref_131
                          description: >-
                            Describes a product or a service offered to the end
                            consumer by the provider. In the mobility sector, it
                            can represent a fare product like one way journey.
                            In the logistics sector, it can represent the
                            delivery service offering. In the retail domain it
                            can represent a product like a grocery item.
                          type: object
                          additionalProperties: false
                          properties:
                            id: *ref_121
                            parent_item_id:
                              description: ID of the item, this item is a variant of
                              allOf:
                                - *ref_121
                            parent_item_quantity:
                              description: >-
                                The number of units of the parent item this item
                                is a multiple of
                              allOf:
                                - &ref_124
                                  description: Describes the count or amount of an item
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    allocated:
                                      description: >-
                                        This represents the exact quantity
                                        allocated for purchase of the item.
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_122
                                    available:
                                      description: >-
                                        This represents the exact quantity
                                        available for purchase of the item. The
                                        buyer can only purchase multiples of
                                        this
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_122
                                    maximum:
                                      description: >-
                                        This represents the maximum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                        measure: *ref_122
                                    minimum:
                                      description: >-
                                        This represents the minimum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_122
                                    selected:
                                      description: >-
                                        This represents the quantity selected
                                        for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_122
                                    unitized:
                                      description: >-
                                        This represents the quantity available
                                        in a single unit of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                          maximum: 1
                                        measure: *ref_122
                            descriptor:
                              description: Physical description of the item
                              allOf:
                                - *ref_107
                            creator:
                              description: The creator of this item
                              allOf:
                                - *ref_123
                            price:
                              description: >-
                                The price of this item, if it has intrinsic
                                value
                              allOf:
                                - &ref_127
                                  description: Describes the price of a product or service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    currency:
                                      type: string
                                    value: *ref_104
                                    estimated_value: *ref_104
                                    computed_value: *ref_104
                                    listed_value: *ref_104
                                    offered_value: *ref_104
                                    minimum_value: *ref_104
                                    maximum_value: *ref_104
                            quantity:
                              description: The selling quantity of the item
                              allOf:
                                - *ref_124
                            category_ids:
                              description: Categories this item can be listed under
                              type: array
                              items:
                                allOf:
                                  - *ref_110
                            fulfillment_ids:
                              description: Modes through which this item can be fulfilled
                              type: array
                              items:
                                allOf:
                                  - *ref_125
                            location_ids:
                              description: Provider Locations this item is available in
                              type: array
                              items:
                                allOf:
                                  - *ref_120
                            payment_ids:
                              description: >-
                                Payment modalities through which this item can
                                be ordered
                              type: array
                              items:
                                allOf:
                                  - *ref_126
                            add_ons:
                              type: array
                              items: &ref_132
                                description: >-
                                  Describes an additional item offered as a
                                  value-addition to a product or service. This
                                  does not exist independently in a catalog and
                                  is always associated with an item.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    description: Provider-defined ID of the add-on
                                    type: string
                                  descriptor: *ref_107
                                  price: *ref_127
                                  quantity: *ref_124
                            cancellation_terms:
                              description: Cancellation terms of this item
                              type: array
                              items: &ref_135
                                description: >-
                                  Describes the cancellation terms of an item or
                                  an order. This can be referenced at an item or
                                  order level. Item-level cancellation terms can
                                  override the terms at the order level.
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_128
                                  reason_required:
                                    description: >-
                                      Indicates whether a reason is required to
                                      cancel the order
                                    type: boolean
                                  cancel_by:
                                    description: >-
                                      Information related to the time of
                                      cancellation.
                                    allOf:
                                      - *ref_111
                                  cancellation_fee:
                                    description: A fee applied on a particular entity
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      percentage:
                                        description: Percentage of a value
                                        allOf:
                                          - *ref_104
                                      amount:
                                        description: A fixed value
                                        allOf:
                                          - *ref_127
                                  xinput: &ref_130
                                    description: >-
                                      Contains any additional or extended inputs
                                      required to confirm an order. This is
                                      typically a Form Input. Sometimes,
                                      selection of catalog elements is not
                                      enough for the BPP to confirm an order.
                                      For example, to confirm a flight ticket,
                                      the airline requires details of the
                                      passengers along with information on
                                      baggage, identity, in addition to the
                                      class of ticket. Similarly, a logistics
                                      company may require details on the nature
                                      of shipment in order to confirm the
                                      shipping. A recruiting firm may require
                                      additional details on the applicant in
                                      order to confirm a job application. For
                                      all such purposes, the BPP can choose to
                                      send this object attached to any object in
                                      the catalog that is required to be sent
                                      while placing the order. This object can
                                      typically be sent at an item level or at
                                      the order level. The item level XInput
                                      will override the Order level XInput as it
                                      indicates a special requirement of
                                      information for that particular item.
                                      Hence the BAP must render a separate form
                                      for the Item and another form at the Order
                                      level before confirmation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      form:
                                        description: Describes a form
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          url:
                                            description: >-
                                              The URL from where the form can be
                                              fetched. The content fetched from the
                                              url must be processed as per the
                                              mime_type specified in this object. Once
                                              fetched, the rendering platform can
                                              choosed to render the form as-is as an
                                              embeddable element; or process it
                                              further to blend with the theme of the
                                              application. In case the interface is
                                              non-visual, the the render can process
                                              the form data and reproduce it as per
                                              the standard specified in the form.
                                            type: string
                                            format: uri
                                          data:
                                            description: The form submission data
                                            type: object
                                            additionalProperties:
                                              type: string
                                          mime_type:
                                            description: >-
                                              This field indicates the nature and
                                              format of the form received by querying
                                              the url. MIME types are defined and
                                              standardized in IETF's RFC 6838.
                                            type: string
                                            enum:
                                              - text/html
                                              - application/xml
                                          submission_id:
                                            type: string
                                            format: uuid
                                      required:
                                        description: >-
                                          Indicates whether the form data is
                                          mandatorily required by the BPP to
                                          confirm the order.
                                        type: boolean
                                  external_ref: *ref_129
                            refund_terms:
                              description: Refund terms of this item
                              type: array
                              items: &ref_136
                                description: Refund term of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_117
                                  refund_eligible:
                                    description: >-
                                      Indicates if cancellation will result in a
                                      refund
                                    type: boolean
                                  refund_within:
                                    description: >-
                                      Time within which refund will be processed
                                      after successful cancellation.
                                    allOf:
                                      - *ref_111
                                  refund_amount: *ref_127
                            replacement_terms:
                              description: >-
                                Terms that are applicable be met when this item
                                is replaced
                              type: array
                              items: &ref_137
                                description: The replacement policy of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_117
                                  replace_within:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to replace the item
                                      before a certain date-time, failing which
                                      they will not be eligible for replacement
                                    allOf:
                                      - *ref_111
                                  external_ref: *ref_129
                            return_terms:
                              description: >-
                                Terms that are applicable when this item is
                                returned
                              type: array
                              items: &ref_138
                                description: >-
                                  Describes the return policy of an item or an
                                  order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term IETF''s applicable.
                                    allOf:
                                      - *ref_117
                                  return_eligible:
                                    description: >-
                                      Indicates whether the item is eligible for
                                      return
                                    type: boolean
                                  return_time:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to return the item to
                                      the origin before a certain date-time,
                                      failing which they will not be eligible
                                      for refund.
                                    allOf:
                                      - *ref_111
                                  return_location:
                                    description: >-
                                      The location where the item or order must
                                      / will be returned to
                                    allOf:
                                      - *ref_119
                                  fulfillment_managed_by:
                                    description: The entity that will perform the return
                                    type: string
                                    enum:
                                      - CONSUMER
                                      - PROVIDER
                            xinput:
                              description: >-
                                Additional input required from the customer to
                                purchase / avail this item
                              allOf:
                                - *ref_130
                            time:
                              description: >-
                                Temporal attributes of this item. This property
                                is used when the item exists on the catalog only
                                for a limited period of time.
                              allOf:
                                - *ref_111
                            rateable:
                              description: Whether this item can be rated
                              type: boolean
                            rating:
                              description: The rating of the item
                              allOf:
                                - *ref_108
                            matched:
                              description: >-
                                Whether this item is an exact match of the
                                request
                              type: boolean
                            related:
                              description: >-
                                Whether this item is a related item to the
                                exactly matched item
                              type: boolean
                            recommended:
                              description: >-
                                Whether this item is a recommended item to a
                                response
                              type: boolean
                            ttl:
                              description: >-
                                Time to live in seconds for an instance of this
                                schema
                              type: string
                            tags:
                              type: array
                              items: *ref_113
                      exp:
                        type: string
                        description: Time after which catalog has to be refreshed
                        format: date-time
                      rateable:
                        description: Whether this provider can be rated or not
                        type: boolean
                      ttl:
                        description: >-
                          The time-to-live in seconds, for this object. This can
                          be overriden at deeper levels. A value of -1 indicates
                          that this object is not cacheable.
                        type: string
                      tags:
                        type: array
                        items: *ref_113
              items:
                description: The items purchased / availed in this order
                type: array
                items: *ref_131
              add_ons:
                description: The add-ons purchased / availed in this order
                type: array
                items: *ref_132
              offers:
                description: The offers applied in this order
                type: array
                items: *ref_133
              billing:
                description: The billing details of this order
                allOf:
                  - description: >-
                      Describes the billing details of an entity.<br>This has
                      properties like
                      name,organization,address,email,phone,time,tax_number,
                      created_at,updated_at
                    type: object
                    additionalProperties: false
                    properties:
                      name:
                        description: Name of the billable entity
                        type: string
                      organization:
                        description: Details of the organization being billed.
                        allOf:
                          - *ref_123
                      address:
                        description: The address of the billable entity
                        allOf:
                          - *ref_116
                      state:
                        description: >-
                          The state where the billable entity resides. This is
                          important for state-level tax calculation
                        allOf:
                          - *ref_117
                      city:
                        description: The city where the billable entity resides.
                        allOf:
                          - *ref_118
                      email:
                        description: Email address where the bill is sent to
                        type: string
                        format: email
                      phone:
                        description: Phone number of the billable entity
                        type: string
                      time:
                        description: Details regarding the billing period
                        allOf:
                          - *ref_111
                      tax_id:
                        description: >-
                          ID of the billable entity as recognized by the
                          taxation authority
                        type: string
              fulfillments:
                description: The fulfillments involved in completing this order
                type: array
                items: *ref_134
              cancellation:
                description: The cancellation details of this order
                allOf:
                  - description: Describes a cancellation event
                    type: object
                    additionalProperties: false
                    properties:
                      time:
                        description: Date-time when the order was cancelled by the buyer
                        type: string
                        format: date-time
                      cancelled_by:
                        type: string
                        enum:
                          - CONSUMER
                          - PROVIDER
                      reason:
                        description: The reason for cancellation
                        allOf:
                          - description: Describes a selectable option
                            type: object
                            additionalProperties: false
                            properties:
                              id:
                                type: string
                              descriptor: *ref_107
                      additional_description:
                        description: >-
                          Any additional information regarding the nature of
                          cancellation
                        allOf:
                          - *ref_107
              cancellation_terms:
                description: Cancellation terms of this item
                type: array
                items: *ref_135
              documents:
                type: array
                items:
                  description: Documnents associated to the order
                  type: object
                  additionalProperties: false
                  properties:
                    descriptor: *ref_107
                    mime_type:
                      description: >-
                        This field indicates the nature and format of the form
                        received by querying the url. MIME types are defined and
                        standardized in IETF's RFC 6838.
                      type: string
                      enum:
                        - text/html
                        - application/html
                        - application/xml
                        - application/pdf
                    url:
                      description: >-
                        The URL from where the form can be fetched. The content
                        fetched from the url must be processed as per the
                        mime_type specified in this object.
                      type: string
                      format: uri
              refund_terms:
                description: Refund terms of this item
                type: array
                items: *ref_136
              replacement_terms:
                description: Replacement terms of this item
                type: array
                items: *ref_137
              return_terms:
                description: Return terms of this item
                type: array
                items: *ref_138
              quote:
                description: The mutually agreed upon quotation for this order.
                allOf:
                  - description: >-
                      Describes a quote. It is the estimated price of products
                      or services from the BPP.<br>This has properties like
                      price, breakup, ttl
                    type: object
                    additionalProperties: false
                    properties:
                      id:
                        description: ID of the quote.
                        type: string
                        format: uuid
                      price:
                        description: The total quoted price
                        allOf:
                          - *ref_127
                      breakup:
                        description: the breakup of the total quoted price
                        type: array
                        items:
                          type: object
                          properties:
                            item: *ref_131
                            title:
                              type: string
                            price: *ref_127
                      ttl: *ref_109
              payments:
                description: The terms of settlement for this order
                type: array
                items: *ref_139
              created_at:
                description: The date-time of creation of this order
                type: string
                format: date-time
              updated_at:
                description: The date-time of updated of this order
                type: string
                format: date-time
              xinput:
                description: >-
                  Additional input required from the customer to confirm this
                  order
                allOf:
                  - *ref_130
              tags:
                type: array
                items: *ref_113
      error:
        description: >-
          Describes an error object that is returned by a BAP, BPP or BG as a
          response or callback to an action by another network participant. This
          object is sent when any request received by a network participant is
          unacceptable. This object can be sent either during Ack or with the
          callback.
        type: object
        additionalProperties: false
        properties:
          code:
            type: string
            description: >-
              Standard error code. For full list of error codes, refer to
              docs/protocol-drafts/BECKN-005-ERROR-CODES-DRAFT-01.md of this
              repo"
          paths:
            type: string
            description: >-
              Path to json schema generating the error. Used only during json
              schema validation errors
          message:
            type: string
            description: >-
              Human readable message describing the error. Used mainly for
              logging. Not recommended to be shown to the user.
    required:
      - context
  init:
    type: object
    properties:
      context:
        allOf:
          - description: >-
              Every API call in beckn protocol has a context. It provides a
              high-level overview to the receiver about the nature of the
              intended transaction. Typically, it is the BAP that sets the
              transaction context based on the consumer's location and action on
              their UI. But sometimes, during unsolicited callbacks, the BPP
              also sets the transaction context but it is usually the same as
              the context of a previous full-cycle, request-callback interaction
              between the BAP and the BPP. The context object contains four
              types of fields. <ol><li>Demographic information about the
              transaction using fields like `domain`, `country`, and
              `region`.</li><li>Addressing details like the sending and
              receiving platform's ID and API URL.</li><li>Interoperability
              information like the protocol version that implemented by the
              sender and,</li><li>Transaction details like the method being
              called at the receiver's endpoint, the transaction_id that
              represents an end-to-end user session at the BAP, a message ID to
              pair requests with callbacks, a timestamp to capture sending
              times, a ttl to specifiy the validity of the request, and a key to
              encrypt information if necessary.</li></ol> This object must be
              passed in every interaction between a BAP and a BPP. In HTTP/S
              implementations, it is not necessary to send the context during
              the synchronous response. However, in asynchronous protocols, the
              context must be sent during all interactions,
            type: object
            additionalProperties: false
            properties:
              domain:
                description: Domain code that is relevant to this transaction context
                allOf:
                  - type: string
                    description: >-
                      Standard code representing the domain. The standard is
                      usually published as part of the network policy.
                      Furthermore, the network facilitator should also provide a
                      mechanism to provide the supported domains of a network.
              location:
                description: >-
                  The location where the transaction is intended to be
                  fulfilled.
                allOf:
                  - &ref_156
                    description: The physical location of something
                    type: object
                    additionalProperties: false
                    properties:
                      id: &ref_157
                        type: string
                      descriptor: &ref_144
                        description: Physical description of something.
                        type: object
                        additionalProperties: false
                        properties:
                          name:
                            type: string
                          code:
                            type: string
                          short_desc:
                            type: string
                          long_desc:
                            type: string
                          additional_desc:
                            type: object
                            properties:
                              url:
                                type: string
                              content_type:
                                type: string
                                enum:
                                  - text/plain
                                  - text/html
                                  - application/json
                          media:
                            type: array
                            items: &ref_166
                              description: This object contains a url to a media file.
                              type: object
                              additionalProperties: false
                              properties:
                                mimetype:
                                  description: >-
                                    indicates the nature and format of the
                                    document, file, or assortment of bytes. MIME
                                    types are defined and standardized in IETF's
                                    RFC 6838
                                  type: string
                                url:
                                  description: The URL of the file
                                  type: string
                                  format: uri
                                signature:
                                  description: >-
                                    The digital signature of the file signed by
                                    the sender
                                  type: string
                                dsa:
                                  description: The signing algorithm used by the sender
                                  type: string
                          images:
                            type: array
                            items: &ref_149
                              description: Describes an image
                              type: object
                              additionalProperties: false
                              properties:
                                url:
                                  description: >-
                                    URL to the image. This can be a data url or
                                    an remote url
                                  type: string
                                  format: uri
                                size_type:
                                  description: >-
                                    The size of the image. The network policy
                                    can define the default dimensions of each
                                    type
                                  type: string
                                  enum:
                                    - xs
                                    - sm
                                    - md
                                    - lg
                                    - xl
                                    - custom
                                width:
                                  description: Width of the image in pixels
                                  type: string
                                height:
                                  description: Height of the image in pixels
                                  type: string
                      map_url:
                        description: >-
                          The url to the map of the location. This can be a
                          globally recognized map url or the one specified by
                          the network policy.
                        type: string
                        format: uri
                      gps:
                        description: The GPS co-ordinates of this location.
                        allOf:
                          - &ref_140
                            description: Describes a GPS coordinate
                            type: string
                            pattern: >-
                              ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                      address:
                        description: The address of this location.
                        allOf:
                          - &ref_153
                            description: Describes a postal address.
                            type: string
                      city:
                        description: The city this location is, or is located within
                        allOf:
                          - &ref_155
                            description: Describes a city
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                description: Name of the city
                                type: string
                              code:
                                description: City code
                                type: string
                      district:
                        description: The state this location is, or is located within
                        type: string
                      state:
                        description: The state this location is, or is located within
                        allOf:
                          - &ref_154
                            description: >-
                              A bounded geopolitical region of governance inside
                              a country.
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the state
                              code:
                                type: string
                                description: >-
                                  State code as per country or international
                                  standards
                      country:
                        description: The country this location is, or is located within
                        allOf:
                          - description: Describes a country
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the country
                              code:
                                type: string
                                description: >-
                                  Country code as per ISO 3166-1 and ISO 3166-2
                                  format
                      area_code:
                        type: string
                      circle:
                        description: >-
                          Describes a circular region of a specified radius
                          centered at a specified GPS coordinate.
                        type: object
                        additionalProperties: false
                        properties:
                          gps: *ref_140
                          radius: &ref_159
                            description: Describes a scalar
                            type: object
                            additionalProperties: false
                            properties:
                              type:
                                type: string
                                enum:
                                  - CONSTANT
                                  - VARIABLE
                              value: &ref_141
                                description: Describes a numerical value in decimal form
                                type: string
                                pattern: '[+-]?([0-9]*[.])?[0-9]+'
                              estimated_value: *ref_141
                              computed_value: *ref_141
                              range:
                                type: object
                                properties:
                                  min: *ref_141
                                  max: *ref_141
                              unit:
                                type: string
                      polygon:
                        description: The boundary polygon of this location
                        type: string
                      3dspace:
                        description: The three dimensional region describing this location
                        type: string
                      rating:
                        description: The rating of this location
                        allOf:
                          - &ref_145
                            description: >-
                              Rating value given to the object. This can be a
                              single value or can also contain an inequality
                              operator like gt, gte, lt, lte. This can also
                              contain an inequality expression containing
                              logical operators like && and ||.
                            type: string
              action:
                description: >-
                  The Beckn protocol method being called by the sender and
                  executed at the receiver.
                type: string
              version:
                type: string
                description: Version of transaction protocol being used by the sender.
              bap_id:
                description: Subscriber ID of the BAP
                allOf:
                  - &ref_142
                    description: >-
                      A globally unique identifier of the platform, Typically it
                      is the fully qualified domain name (FQDN) of the platform.
                    type: string
              bap_uri:
                description: Subscriber URL of the BAP for accepting callbacks from BPPs.
                allOf:
                  - &ref_143
                    description: >-
                      The callback URL of the Subscriber. This should
                      necessarily contain the same domain name as set in
                      `subscriber_id``.
                    type: string
                    format: uri
              bpp_id:
                description: Subscriber ID of the BPP
                allOf:
                  - *ref_142
              bpp_uri:
                description: Subscriber URL of the BPP for accepting calls from BAPs.
                allOf:
                  - *ref_143
              transaction_id:
                description: >-
                  This is a unique value which persists across all API calls
                  from `search` through `confirm`. This is done to indicate an
                  active user session across multiple requests. The BPPs can use
                  this value to push personalized recommendations, and dynamic
                  offerings related to an ongoing transaction despite being
                  unaware of the user active on the BAP.
                type: string
                format: uuid
              message_id:
                description: >-
                  This is a unique value which persists during a request /
                  callback cycle. Since beckn protocol APIs are asynchronous,
                  BAPs need a common value to match an incoming callback from a
                  BPP to an earlier call. This value can also be used to ignore
                  duplicate messages coming from the BPP. It is recommended to
                  generate a fresh message_id for every new interaction. When
                  sending unsolicited callbacks, BPPs must generate a new
                  message_id.
                type: string
                format: uuid
              timestamp:
                description: Time of request generation in RFC3339 format
                type: string
                format: date-time
              key:
                description: The encryption public key of the sender
                type: string
              ttl:
                description: >-
                  The duration in ISO8601 format after timestamp for which this
                  message holds valid
                type: string
          - type: object
            properties:
              action:
                enum:
                  - init
            required:
              - action
      message:
        type: object
        properties:
          order:
            description: >-
              Describes a legal purchase order. It contains the complete details
              of the legal contract created between the buyer and the seller.
            type: object
            additionalProperties: false
            properties:
              id:
                type: string
                description: >-
                  Human-readable ID of the order. This is generated at the BPP
                  layer. The BPP can either generate order id within its system
                  or forward the order ID created at the provider level.
              ref_order_ids:
                description: A list of order IDs to link this order to previous orders.
                type: array
                items:
                  type: string
                  description: ID of a previous order
              status:
                description: >-
                  Status of the order. Allowed values can be defined by the
                  network policy
                type: string
              type:
                description: >-
                  This is used to indicate the type of order being created to
                  BPPs. Sometimes orders can be linked to previous orders, like
                  a replacement order in a retail domain. A follow-up
                  consultation in healthcare domain. A single order part of a
                  subscription order. The list of order types can be
                  standardized at the network level.
                type: string
                default: DEFAULT
                enum:
                  - DRAFT
                  - DEFAULT
              provider:
                description: >-
                  Details of the provider whose catalog items have been
                  selected.
                allOf:
                  - description: Describes the catalog of a business.
                    type: object
                    properties:
                      id:
                        type: string
                        description: Id of the provider
                      descriptor: *ref_144
                      category_id:
                        type: string
                        description: Category Id of the provider at the BPP-level catalog
                      rating: *ref_145
                      time: &ref_148
                        description: >-
                          Describes time in its various forms. It can be a
                          single point in time; duration; or a structured
                          timetable of operations<br>This has properties like
                          label, time stamp,duration,range, days, schedule
                        type: object
                        additionalProperties: false
                        properties:
                          label:
                            type: string
                          timestamp:
                            type: string
                            format: date-time
                          duration: &ref_146
                            description: Describes duration as per ISO8601 format
                            type: string
                          range:
                            type: object
                            properties:
                              start:
                                type: string
                                format: date-time
                              end:
                                type: string
                                format: date-time
                          days:
                            type: string
                            description: >-
                              comma separated values representing days of the
                              week
                          schedule:
                            description: >-
                              Describes schedule as a repeating time period used
                              to describe a regularly recurring event. At a
                              minimum a schedule will specify frequency which
                              describes the interval between occurrences of the
                              event. Additional information can be provided to
                              specify the schedule more precisely. This includes
                              identifying the timestamps(s) of when the event
                              will take place. Schedules may also have holidays
                              to exclude a specific day from the
                              schedule.<br>This has properties like frequency,
                              holidays, times
                            type: object
                            additionalProperties: false
                            properties:
                              frequency: *ref_146
                              holidays:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                              times:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                      categories:
                        type: array
                        items:
                          description: >-
                            A label under which a collection of items can be
                            grouped.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_147
                              description: ID of the category
                              type: string
                            parent_category_id: *ref_147
                            descriptor: *ref_144
                            time: *ref_148
                            ttl:
                              description: Time to live for an instance of this schema
                            tags:
                              type: array
                              items: &ref_150
                                description: >-
                                  A collection of tag objects with group level
                                  attributes. For detailed documentation on the
                                  Tags and Tag Groups schema go to
                                  https://github.com/beckn/protocol-specifications/discussions/316
                                type: object
                                additionalProperties: false
                                properties:
                                  display:
                                    description: >-
                                      Indicates the display properties of the
                                      tag group. If display is set to false,
                                      then the group will not be displayed. If
                                      it is set to true, it should be displayed.
                                      However, group-level display properties
                                      can be overriden by individual tag-level
                                      display property. As this schema is purely
                                      for catalog display purposes, it is not
                                      recommended to send this value during
                                      search.
                                    type: boolean
                                    default: true
                                  descriptor:
                                    description: >-
                                      Description of the TagGroup, can be used
                                      to store detailed information.
                                    allOf:
                                      - *ref_144
                                  list:
                                    description: >-
                                      An array of Tag objects listed under this
                                      group. This property can be set by BAPs
                                      during search to narrow the `search` and
                                      achieve more relevant results. When
                                      received during `on_search`, BAPs must
                                      render this list under the heading
                                      described by the `name` property of this
                                      schema.
                                    type: array
                                    items:
                                      description: >-
                                        Describes a tag. This is used to contain
                                        extended metadata. This object can be
                                        added as a property to any schema to
                                        describe extended attributes. For BAPs,
                                        tags can be sent during search to
                                        optimize and filter search results. BPPs
                                        can use tags to index their catalog to
                                        allow better search functionality. Tags
                                        are sent by the BPP as part of the
                                        catalog response in the `on_search`
                                        callback. Tags are also meant for
                                        display purposes. Upon receiving a tag,
                                        BAPs are meant to render them as
                                        name-value pairs. This is particularly
                                        useful when rendering tabular
                                        information about a product or service.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor:
                                          description: >-
                                            Description of the Tag, can be used to
                                            store detailed information.
                                          allOf:
                                            - *ref_144
                                        value:
                                          description: >-
                                            The value of the tag. This set by the
                                            BPP and rendered as-is by the BAP.
                                          type: string
                                        display:
                                          description: >-
                                            This value indicates if the tag is
                                            intended for display purposes. If set to
                                            `true`, then this tag must be displayed.
                                            If it is set to `false`, it should not
                                            be displayed. This value can override
                                            the group display value.
                                          type: boolean
                      fulfillments:
                        type: array
                        items: &ref_171
                          description: >-
                            Describes how a an order will be rendered/fulfilled
                            to the end-customer
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_162
                              description: >-
                                Unique reference ID to the fulfillment of an
                                order
                              type: string
                            type:
                              description: >-
                                A code that describes the mode of fulfillment.
                                This is typically set when there are multiple
                                ways an order can be fulfilled. For example, a
                                retail order can be fulfilled either via store
                                pickup or a home delivery. Similarly, a medical
                                consultation can be provided either in-person or
                                via tele-consultation. The network policy must
                                publish standard fulfillment type codes for the
                                different modes of fulfillment.
                              type: string
                            rateable:
                              description: Whether the fulfillment can be rated or not
                              type: boolean
                            rating:
                              description: The rating value of the fulfullment service.
                              allOf:
                                - *ref_145
                            state:
                              description: >-
                                The current state of fulfillment. The BPP must
                                set this value whenever the state of the order
                                fulfillment changes and fire an unsolicited
                                `on_status` call.
                              allOf:
                                - &ref_165
                                  description: Describes the state of fulfillment
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    descriptor: *ref_144
                                    updated_at:
                                      type: string
                                      format: date-time
                                    updated_by:
                                      type: string
                                      description: ID of entity which changed the state
                            tracking:
                              type: boolean
                              description: >-
                                Indicates whether the fulfillment allows
                                tracking
                              default: false
                            customer:
                              description: >-
                                The person that will ultimately receive the
                                order
                              allOf:
                                - description: >-
                                    Describes a customer buying/availing a
                                    product or a service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: &ref_151
                                      description: Describes a person as any individual
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          type: string
                                          description: Describes the identity of the person
                                        url:
                                          description: Profile url of the person
                                          type: string
                                          format: uri
                                        name:
                                          description: the name of the person
                                          type: string
                                        image: *ref_149
                                        age:
                                          description: Age of the person
                                          allOf:
                                            - *ref_146
                                        dob:
                                          description: Date of birth of the person
                                          type: string
                                          format: date
                                        gender:
                                          type: string
                                          description: >-
                                            Gender of something, typically a Person,
                                            but possibly also fictional characters,
                                            animals, etc. While Male and Female may
                                            be used, text strings are also
                                            acceptable for people who do not
                                            identify as a binary gender.Allowed
                                            values for this field can be published
                                            in the network policy
                                        creds:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a credential of an entity -
                                              Person or Organization
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              id:
                                                type: string
                                              type:
                                                type: string
                                                default: VerifiableCredential
                                              url:
                                                description: URL of the credential
                                                type: string
                                                format: uri
                                        languages:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a language known to the
                                              person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        skills:
                                          type: array
                                          items:
                                            description: Describes a skill of the person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        tags:
                                          type: array
                                          items: *ref_150
                                    contact: &ref_152
                                      description: >-
                                        Describes the contact information of an
                                        entity
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        phone:
                                          type: string
                                        email:
                                          type: string
                                        jcard:
                                          type: object
                                          description: >-
                                            A Jcard object as per
                                            draft-ietf-jcardcal-jcard-03
                                            specification
                            agent:
                              description: >-
                                The agent that is currently handling the
                                fulfillment of the order
                              allOf:
                                - description: >-
                                    Describes the direct performer, driver or
                                    executor that fulfills an order. It is
                                    usually a person. But in some rare cases, it
                                    could be a non-living entity like a drone,
                                    or a bot. Some examples of agents are Doctor
                                    in the healthcare sector, a driver in the
                                    mobility sector, or a delivery person in the
                                    logistics sector. This object can be set at
                                    any stage of the order lifecycle. This can
                                    be set at the discovery stage when the BPP
                                    wants to provide details on the agent
                                    fulfilling the order, like in healthcare,
                                    where the doctor's name appears during
                                    search. This object can also used to search
                                    for a particular person that the customer
                                    wants fulfilling an order. Sometimes, this
                                    object gets instantiated after the order is
                                    confirmed, like in the case of on-demand
                                    taxis, where the driver is assigned after
                                    the user confirms the ride.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: *ref_151
                                    contact: *ref_152
                                    organization: &ref_160
                                      description: >-
                                        An organization. Usually a recognized
                                        business entity.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor: *ref_144
                                        address:
                                          description: The postal address of the organization
                                          allOf:
                                            - *ref_153
                                        state:
                                          description: >-
                                            The state where the organization's
                                            address is registered
                                          allOf:
                                            - *ref_154
                                        city:
                                          description: >-
                                            The city where the the organization's
                                            address is registered
                                          allOf:
                                            - *ref_155
                                        contact: *ref_152
                                    rating: *ref_145
                            contact: *ref_152
                            vehicle:
                              description: >-
                                Describes a vehicle is a device that is designed
                                or used to transport people or cargo over land,
                                water, air, or through space.<br>This has
                                properties like category, capacity, make, model,
                                size,variant,color,energy_type,registration
                              type: object
                              additionalProperties: false
                              properties:
                                category:
                                  type: string
                                capacity:
                                  type: integer
                                make:
                                  type: string
                                model:
                                  type: string
                                size:
                                  type: string
                                variant:
                                  type: string
                                color:
                                  type: string
                                energy_type:
                                  type: string
                                registration:
                                  type: string
                                wheels_count:
                                  type: string
                                cargo_volumne:
                                  type: string
                                wheelchair_access:
                                  type: string
                                code:
                                  type: string
                                emission_standard:
                                  type: string
                            stops:
                              description: >-
                                The list of logical stops encountered during the
                                fulfillment of an order.
                              type: array
                              items:
                                description: >-
                                  A logical point in space and time during the
                                  fulfillment of an order.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    type: string
                                  parent_stop_id:
                                    type: string
                                  location:
                                    description: Location of the stop
                                    allOf:
                                      - *ref_156
                                  type:
                                    description: >-
                                      The type of stop. Allowed values of this
                                      property can be defined by the network
                                      policy.
                                    type: string
                                  time:
                                    description: Timings applicable at the stop.
                                    allOf:
                                      - *ref_148
                                  instructions:
                                    description: >-
                                      Instructions that need to be followed at
                                      the stop
                                    allOf:
                                      - *ref_144
                                  contact:
                                    description: Contact details of the stop
                                    allOf:
                                      - *ref_152
                                  person:
                                    description: >-
                                      The details of the person present at the
                                      stop
                                    allOf:
                                      - *ref_151
                                  authorization:
                                    description: >-
                                      Describes an authorization mechanism used
                                      to start or end the fulfillment of an
                                      order. For example, in the mobility
                                      sector, the driver may require a one-time
                                      password to initiate the ride. In the
                                      healthcare sector, a patient may need to
                                      provide a password to open a video
                                      conference link during a teleconsultation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      type:
                                        description: >-
                                          Type of authorization mechanism used.
                                          The allowed values for this field can be
                                          published as part of the network policy.
                                        type: string
                                      token:
                                        description: >-
                                          Token used for authorization. This is
                                          typically generated at the BPP. The BAP
                                          can send this value to the user via any
                                          channel that it uses to authenticate the
                                          user like SMS, Email, Push notification,
                                          or in-app rendering.
                                        type: string
                                      valid_from:
                                        description: >-
                                          Timestamp in RFC3339 format from which
                                          token is valid
                                        type: string
                                        format: date-time
                                      valid_to:
                                        description: >-
                                          Timestamp in RFC3339 format until which
                                          token is valid
                                        type: string
                                        format: date-time
                                      status:
                                        description: Status of the token
                                        type: string
                            path:
                              description: >-
                                The physical path taken by the agent that can be
                                rendered on a map. The allowed format of this
                                property can be set by the network.
                              type: string
                            tags:
                              type: array
                              items: *ref_150
                      payments:
                        type: array
                        items: &ref_176
                          description: >-
                            Describes the terms of settlement between the BAP
                            and the BPP for a single transaction. When
                            instantiated, this object contains <ol><li>the
                            amount that has to be settled,</li><li>The payment
                            destination destination details</li><li>When the
                            settlement should happen, and</li><li>A transaction
                            reference ID</li></ol>. During a transaction, the
                            BPP reserves the right to decide the terms of
                            payment. However, the BAP can send its terms to the
                            BPP first. If the BPP does not agree to those terms,
                            it must overwrite the terms and return them to the
                            BAP. If overridden, the BAP must either agree to the
                            terms sent by the BPP in order to preserve the
                            provider's autonomy, or abort the transaction. In
                            case of such disagreements, the BAP and the BPP can
                            perform offline negotiations on the payment terms.
                            Once an agreement is reached, the BAP and BPP can
                            resume transactions.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_163
                              description: >-
                                ID of the payment term that can be referred at
                                an item or an order level in a catalog
                              type: string
                            collected_by:
                              description: >-
                                This field indicates who is the collector of
                                payment. The BAP can set this value to 'bap' if
                                it wants to collect the payment first and 
                                settle it to the BPP. If the BPP agrees to those
                                terms, the BPP should not send the payment url.
                                Alternatively, the BPP can set this field with
                                the value 'bpp' if it wants the payment to be
                                made directly.
                              type: string
                            url:
                              type: string
                              description: >-
                                A payment url to be called by the BAP. If empty,
                                then the payment is to be done offline. The
                                details of payment should be present in the
                                params object. If tl_method = http/get, then the
                                payment details will be sent as url params. Two
                                url param values, ```$transaction_id``` and
                                ```$amount``` are mandatory.
                              format: uri
                            tl_method:
                              type: string
                            params:
                              type: object
                              properties:
                                transaction_id:
                                  type: string
                                  description: >-
                                    The reference transaction ID associated with
                                    a payment activity
                                amount:
                                  type: string
                                currency:
                                  type: string
                                bank_code:
                                  type: string
                                bank_account_number:
                                  type: string
                                virtual_payment_address:
                                  type: string
                                source_bank_code:
                                  type: string
                                source_bank_account_number:
                                  type: string
                                source_virtual_payment_address:
                                  type: string
                            type:
                              type: string
                              enum:
                                - PRE-ORDER
                                - PRE-FULFILLMENT
                                - ON-FULFILLMENT
                                - POST-FULFILLMENT
                                - ON-ORDER
                            status:
                              type: string
                              enum:
                                - PAID
                                - NOT-PAID
                            time: *ref_148
                            tags:
                              type: array
                              items: *ref_150
                      locations:
                        type: array
                        items: *ref_156
                      offers:
                        type: array
                        items: &ref_170
                          description: >-
                            An offer associated with a catalog. This is
                            typically used to promote a particular product and
                            enable more purchases.
                          type: object
                          additionalProperties: false
                          properties:
                            id:
                              type: string
                            descriptor: *ref_144
                            location_ids:
                              type: array
                              items: *ref_157
                            category_ids:
                              type: array
                              items: *ref_147
                            item_ids:
                              type: array
                              items: &ref_158
                                description: ID of the item.
                                type: string
                            time: *ref_148
                            tags:
                              type: array
                              items: *ref_150
                      items:
                        type: array
                        items: &ref_168
                          description: >-
                            Describes a product or a service offered to the end
                            consumer by the provider. In the mobility sector, it
                            can represent a fare product like one way journey.
                            In the logistics sector, it can represent the
                            delivery service offering. In the retail domain it
                            can represent a product like a grocery item.
                          type: object
                          additionalProperties: false
                          properties:
                            id: *ref_158
                            parent_item_id:
                              description: ID of the item, this item is a variant of
                              allOf:
                                - *ref_158
                            parent_item_quantity:
                              description: >-
                                The number of units of the parent item this item
                                is a multiple of
                              allOf:
                                - &ref_161
                                  description: Describes the count or amount of an item
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    allocated:
                                      description: >-
                                        This represents the exact quantity
                                        allocated for purchase of the item.
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_159
                                    available:
                                      description: >-
                                        This represents the exact quantity
                                        available for purchase of the item. The
                                        buyer can only purchase multiples of
                                        this
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_159
                                    maximum:
                                      description: >-
                                        This represents the maximum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                        measure: *ref_159
                                    minimum:
                                      description: >-
                                        This represents the minimum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_159
                                    selected:
                                      description: >-
                                        This represents the quantity selected
                                        for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_159
                                    unitized:
                                      description: >-
                                        This represents the quantity available
                                        in a single unit of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                          maximum: 1
                                        measure: *ref_159
                            descriptor:
                              description: Physical description of the item
                              allOf:
                                - *ref_144
                            creator:
                              description: The creator of this item
                              allOf:
                                - *ref_160
                            price:
                              description: >-
                                The price of this item, if it has intrinsic
                                value
                              allOf:
                                - &ref_164
                                  description: Describes the price of a product or service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    currency:
                                      type: string
                                    value: *ref_141
                                    estimated_value: *ref_141
                                    computed_value: *ref_141
                                    listed_value: *ref_141
                                    offered_value: *ref_141
                                    minimum_value: *ref_141
                                    maximum_value: *ref_141
                            quantity:
                              description: The selling quantity of the item
                              allOf:
                                - *ref_161
                            category_ids:
                              description: Categories this item can be listed under
                              type: array
                              items:
                                allOf:
                                  - *ref_147
                            fulfillment_ids:
                              description: Modes through which this item can be fulfilled
                              type: array
                              items:
                                allOf:
                                  - *ref_162
                            location_ids:
                              description: Provider Locations this item is available in
                              type: array
                              items:
                                allOf:
                                  - *ref_157
                            payment_ids:
                              description: >-
                                Payment modalities through which this item can
                                be ordered
                              type: array
                              items:
                                allOf:
                                  - *ref_163
                            add_ons:
                              type: array
                              items: &ref_169
                                description: >-
                                  Describes an additional item offered as a
                                  value-addition to a product or service. This
                                  does not exist independently in a catalog and
                                  is always associated with an item.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    description: Provider-defined ID of the add-on
                                    type: string
                                  descriptor: *ref_144
                                  price: *ref_164
                                  quantity: *ref_161
                            cancellation_terms:
                              description: Cancellation terms of this item
                              type: array
                              items: &ref_172
                                description: >-
                                  Describes the cancellation terms of an item or
                                  an order. This can be referenced at an item or
                                  order level. Item-level cancellation terms can
                                  override the terms at the order level.
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_165
                                  reason_required:
                                    description: >-
                                      Indicates whether a reason is required to
                                      cancel the order
                                    type: boolean
                                  cancel_by:
                                    description: >-
                                      Information related to the time of
                                      cancellation.
                                    allOf:
                                      - *ref_148
                                  cancellation_fee:
                                    description: A fee applied on a particular entity
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      percentage:
                                        description: Percentage of a value
                                        allOf:
                                          - *ref_141
                                      amount:
                                        description: A fixed value
                                        allOf:
                                          - *ref_164
                                  xinput: &ref_167
                                    description: >-
                                      Contains any additional or extended inputs
                                      required to confirm an order. This is
                                      typically a Form Input. Sometimes,
                                      selection of catalog elements is not
                                      enough for the BPP to confirm an order.
                                      For example, to confirm a flight ticket,
                                      the airline requires details of the
                                      passengers along with information on
                                      baggage, identity, in addition to the
                                      class of ticket. Similarly, a logistics
                                      company may require details on the nature
                                      of shipment in order to confirm the
                                      shipping. A recruiting firm may require
                                      additional details on the applicant in
                                      order to confirm a job application. For
                                      all such purposes, the BPP can choose to
                                      send this object attached to any object in
                                      the catalog that is required to be sent
                                      while placing the order. This object can
                                      typically be sent at an item level or at
                                      the order level. The item level XInput
                                      will override the Order level XInput as it
                                      indicates a special requirement of
                                      information for that particular item.
                                      Hence the BAP must render a separate form
                                      for the Item and another form at the Order
                                      level before confirmation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      form:
                                        description: Describes a form
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          url:
                                            description: >-
                                              The URL from where the form can be
                                              fetched. The content fetched from the
                                              url must be processed as per the
                                              mime_type specified in this object. Once
                                              fetched, the rendering platform can
                                              choosed to render the form as-is as an
                                              embeddable element; or process it
                                              further to blend with the theme of the
                                              application. In case the interface is
                                              non-visual, the the render can process
                                              the form data and reproduce it as per
                                              the standard specified in the form.
                                            type: string
                                            format: uri
                                          data:
                                            description: The form submission data
                                            type: object
                                            additionalProperties:
                                              type: string
                                          mime_type:
                                            description: >-
                                              This field indicates the nature and
                                              format of the form received by querying
                                              the url. MIME types are defined and
                                              standardized in IETF's RFC 6838.
                                            type: string
                                            enum:
                                              - text/html
                                              - application/xml
                                          submission_id:
                                            type: string
                                            format: uuid
                                      required:
                                        description: >-
                                          Indicates whether the form data is
                                          mandatorily required by the BPP to
                                          confirm the order.
                                        type: boolean
                                  external_ref: *ref_166
                            refund_terms:
                              description: Refund terms of this item
                              type: array
                              items: &ref_173
                                description: Refund term of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_154
                                  refund_eligible:
                                    description: >-
                                      Indicates if cancellation will result in a
                                      refund
                                    type: boolean
                                  refund_within:
                                    description: >-
                                      Time within which refund will be processed
                                      after successful cancellation.
                                    allOf:
                                      - *ref_148
                                  refund_amount: *ref_164
                            replacement_terms:
                              description: >-
                                Terms that are applicable be met when this item
                                is replaced
                              type: array
                              items: &ref_174
                                description: The replacement policy of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_154
                                  replace_within:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to replace the item
                                      before a certain date-time, failing which
                                      they will not be eligible for replacement
                                    allOf:
                                      - *ref_148
                                  external_ref: *ref_166
                            return_terms:
                              description: >-
                                Terms that are applicable when this item is
                                returned
                              type: array
                              items: &ref_175
                                description: >-
                                  Describes the return policy of an item or an
                                  order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term IETF''s applicable.
                                    allOf:
                                      - *ref_154
                                  return_eligible:
                                    description: >-
                                      Indicates whether the item is eligible for
                                      return
                                    type: boolean
                                  return_time:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to return the item to
                                      the origin before a certain date-time,
                                      failing which they will not be eligible
                                      for refund.
                                    allOf:
                                      - *ref_148
                                  return_location:
                                    description: >-
                                      The location where the item or order must
                                      / will be returned to
                                    allOf:
                                      - *ref_156
                                  fulfillment_managed_by:
                                    description: The entity that will perform the return
                                    type: string
                                    enum:
                                      - CONSUMER
                                      - PROVIDER
                            xinput:
                              description: >-
                                Additional input required from the customer to
                                purchase / avail this item
                              allOf:
                                - *ref_167
                            time:
                              description: >-
                                Temporal attributes of this item. This property
                                is used when the item exists on the catalog only
                                for a limited period of time.
                              allOf:
                                - *ref_148
                            rateable:
                              description: Whether this item can be rated
                              type: boolean
                            rating:
                              description: The rating of the item
                              allOf:
                                - *ref_145
                            matched:
                              description: >-
                                Whether this item is an exact match of the
                                request
                              type: boolean
                            related:
                              description: >-
                                Whether this item is a related item to the
                                exactly matched item
                              type: boolean
                            recommended:
                              description: >-
                                Whether this item is a recommended item to a
                                response
                              type: boolean
                            ttl:
                              description: >-
                                Time to live in seconds for an instance of this
                                schema
                              type: string
                            tags:
                              type: array
                              items: *ref_150
                      exp:
                        type: string
                        description: Time after which catalog has to be refreshed
                        format: date-time
                      rateable:
                        description: Whether this provider can be rated or not
                        type: boolean
                      ttl:
                        description: >-
                          The time-to-live in seconds, for this object. This can
                          be overriden at deeper levels. A value of -1 indicates
                          that this object is not cacheable.
                        type: string
                      tags:
                        type: array
                        items: *ref_150
              items:
                description: The items purchased / availed in this order
                type: array
                items: *ref_168
              add_ons:
                description: The add-ons purchased / availed in this order
                type: array
                items: *ref_169
              offers:
                description: The offers applied in this order
                type: array
                items: *ref_170
              billing:
                description: The billing details of this order
                allOf:
                  - description: >-
                      Describes the billing details of an entity.<br>This has
                      properties like
                      name,organization,address,email,phone,time,tax_number,
                      created_at,updated_at
                    type: object
                    additionalProperties: false
                    properties:
                      name:
                        description: Name of the billable entity
                        type: string
                      organization:
                        description: Details of the organization being billed.
                        allOf:
                          - *ref_160
                      address:
                        description: The address of the billable entity
                        allOf:
                          - *ref_153
                      state:
                        description: >-
                          The state where the billable entity resides. This is
                          important for state-level tax calculation
                        allOf:
                          - *ref_154
                      city:
                        description: The city where the billable entity resides.
                        allOf:
                          - *ref_155
                      email:
                        description: Email address where the bill is sent to
                        type: string
                        format: email
                      phone:
                        description: Phone number of the billable entity
                        type: string
                      time:
                        description: Details regarding the billing period
                        allOf:
                          - *ref_148
                      tax_id:
                        description: >-
                          ID of the billable entity as recognized by the
                          taxation authority
                        type: string
              fulfillments:
                description: The fulfillments involved in completing this order
                type: array
                items: *ref_171
              cancellation:
                description: The cancellation details of this order
                allOf:
                  - description: Describes a cancellation event
                    type: object
                    additionalProperties: false
                    properties:
                      time:
                        description: Date-time when the order was cancelled by the buyer
                        type: string
                        format: date-time
                      cancelled_by:
                        type: string
                        enum:
                          - CONSUMER
                          - PROVIDER
                      reason:
                        description: The reason for cancellation
                        allOf:
                          - description: Describes a selectable option
                            type: object
                            additionalProperties: false
                            properties:
                              id:
                                type: string
                              descriptor: *ref_144
                      additional_description:
                        description: >-
                          Any additional information regarding the nature of
                          cancellation
                        allOf:
                          - *ref_144
              cancellation_terms:
                description: Cancellation terms of this item
                type: array
                items: *ref_172
              documents:
                type: array
                items:
                  description: Documnents associated to the order
                  type: object
                  additionalProperties: false
                  properties:
                    descriptor: *ref_144
                    mime_type:
                      description: >-
                        This field indicates the nature and format of the form
                        received by querying the url. MIME types are defined and
                        standardized in IETF's RFC 6838.
                      type: string
                      enum:
                        - text/html
                        - application/html
                        - application/xml
                        - application/pdf
                    url:
                      description: >-
                        The URL from where the form can be fetched. The content
                        fetched from the url must be processed as per the
                        mime_type specified in this object.
                      type: string
                      format: uri
              refund_terms:
                description: Refund terms of this item
                type: array
                items: *ref_173
              replacement_terms:
                description: Replacement terms of this item
                type: array
                items: *ref_174
              return_terms:
                description: Return terms of this item
                type: array
                items: *ref_175
              quote:
                description: The mutually agreed upon quotation for this order.
                allOf:
                  - description: >-
                      Describes a quote. It is the estimated price of products
                      or services from the BPP.<br>This has properties like
                      price, breakup, ttl
                    type: object
                    additionalProperties: false
                    properties:
                      id:
                        description: ID of the quote.
                        type: string
                        format: uuid
                      price:
                        description: The total quoted price
                        allOf:
                          - *ref_164
                      breakup:
                        description: the breakup of the total quoted price
                        type: array
                        items:
                          type: object
                          properties:
                            item: *ref_168
                            title:
                              type: string
                            price: *ref_164
                      ttl: *ref_146
              payments:
                description: The terms of settlement for this order
                type: array
                items: *ref_176
              created_at:
                description: The date-time of creation of this order
                type: string
                format: date-time
              updated_at:
                description: The date-time of updated of this order
                type: string
                format: date-time
              xinput:
                description: >-
                  Additional input required from the customer to confirm this
                  order
                allOf:
                  - *ref_167
              tags:
                type: array
                items: *ref_150
        required:
          - order
    required:
      - context
      - message
  on_init:
    type: object
    properties:
      context:
        allOf:
          - description: >-
              Every API call in beckn protocol has a context. It provides a
              high-level overview to the receiver about the nature of the
              intended transaction. Typically, it is the BAP that sets the
              transaction context based on the consumer's location and action on
              their UI. But sometimes, during unsolicited callbacks, the BPP
              also sets the transaction context but it is usually the same as
              the context of a previous full-cycle, request-callback interaction
              between the BAP and the BPP. The context object contains four
              types of fields. <ol><li>Demographic information about the
              transaction using fields like `domain`, `country`, and
              `region`.</li><li>Addressing details like the sending and
              receiving platform's ID and API URL.</li><li>Interoperability
              information like the protocol version that implemented by the
              sender and,</li><li>Transaction details like the method being
              called at the receiver's endpoint, the transaction_id that
              represents an end-to-end user session at the BAP, a message ID to
              pair requests with callbacks, a timestamp to capture sending
              times, a ttl to specifiy the validity of the request, and a key to
              encrypt information if necessary.</li></ol> This object must be
              passed in every interaction between a BAP and a BPP. In HTTP/S
              implementations, it is not necessary to send the context during
              the synchronous response. However, in asynchronous protocols, the
              context must be sent during all interactions,
            type: object
            additionalProperties: false
            properties:
              domain:
                description: Domain code that is relevant to this transaction context
                allOf:
                  - type: string
                    description: >-
                      Standard code representing the domain. The standard is
                      usually published as part of the network policy.
                      Furthermore, the network facilitator should also provide a
                      mechanism to provide the supported domains of a network.
              location:
                description: >-
                  The location where the transaction is intended to be
                  fulfilled.
                allOf:
                  - &ref_193
                    description: The physical location of something
                    type: object
                    additionalProperties: false
                    properties:
                      id: &ref_194
                        type: string
                      descriptor: &ref_181
                        description: Physical description of something.
                        type: object
                        additionalProperties: false
                        properties:
                          name:
                            type: string
                          code:
                            type: string
                          short_desc:
                            type: string
                          long_desc:
                            type: string
                          additional_desc:
                            type: object
                            properties:
                              url:
                                type: string
                              content_type:
                                type: string
                                enum:
                                  - text/plain
                                  - text/html
                                  - application/json
                          media:
                            type: array
                            items: &ref_203
                              description: This object contains a url to a media file.
                              type: object
                              additionalProperties: false
                              properties:
                                mimetype:
                                  description: >-
                                    indicates the nature and format of the
                                    document, file, or assortment of bytes. MIME
                                    types are defined and standardized in IETF's
                                    RFC 6838
                                  type: string
                                url:
                                  description: The URL of the file
                                  type: string
                                  format: uri
                                signature:
                                  description: >-
                                    The digital signature of the file signed by
                                    the sender
                                  type: string
                                dsa:
                                  description: The signing algorithm used by the sender
                                  type: string
                          images:
                            type: array
                            items: &ref_186
                              description: Describes an image
                              type: object
                              additionalProperties: false
                              properties:
                                url:
                                  description: >-
                                    URL to the image. This can be a data url or
                                    an remote url
                                  type: string
                                  format: uri
                                size_type:
                                  description: >-
                                    The size of the image. The network policy
                                    can define the default dimensions of each
                                    type
                                  type: string
                                  enum:
                                    - xs
                                    - sm
                                    - md
                                    - lg
                                    - xl
                                    - custom
                                width:
                                  description: Width of the image in pixels
                                  type: string
                                height:
                                  description: Height of the image in pixels
                                  type: string
                      map_url:
                        description: >-
                          The url to the map of the location. This can be a
                          globally recognized map url or the one specified by
                          the network policy.
                        type: string
                        format: uri
                      gps:
                        description: The GPS co-ordinates of this location.
                        allOf:
                          - &ref_177
                            description: Describes a GPS coordinate
                            type: string
                            pattern: >-
                              ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                      address:
                        description: The address of this location.
                        allOf:
                          - &ref_190
                            description: Describes a postal address.
                            type: string
                      city:
                        description: The city this location is, or is located within
                        allOf:
                          - &ref_192
                            description: Describes a city
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                description: Name of the city
                                type: string
                              code:
                                description: City code
                                type: string
                      district:
                        description: The state this location is, or is located within
                        type: string
                      state:
                        description: The state this location is, or is located within
                        allOf:
                          - &ref_191
                            description: >-
                              A bounded geopolitical region of governance inside
                              a country.
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the state
                              code:
                                type: string
                                description: >-
                                  State code as per country or international
                                  standards
                      country:
                        description: The country this location is, or is located within
                        allOf:
                          - description: Describes a country
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the country
                              code:
                                type: string
                                description: >-
                                  Country code as per ISO 3166-1 and ISO 3166-2
                                  format
                      area_code:
                        type: string
                      circle:
                        description: >-
                          Describes a circular region of a specified radius
                          centered at a specified GPS coordinate.
                        type: object
                        additionalProperties: false
                        properties:
                          gps: *ref_177
                          radius: &ref_196
                            description: Describes a scalar
                            type: object
                            additionalProperties: false
                            properties:
                              type:
                                type: string
                                enum:
                                  - CONSTANT
                                  - VARIABLE
                              value: &ref_178
                                description: Describes a numerical value in decimal form
                                type: string
                                pattern: '[+-]?([0-9]*[.])?[0-9]+'
                              estimated_value: *ref_178
                              computed_value: *ref_178
                              range:
                                type: object
                                properties:
                                  min: *ref_178
                                  max: *ref_178
                              unit:
                                type: string
                      polygon:
                        description: The boundary polygon of this location
                        type: string
                      3dspace:
                        description: The three dimensional region describing this location
                        type: string
                      rating:
                        description: The rating of this location
                        allOf:
                          - &ref_182
                            description: >-
                              Rating value given to the object. This can be a
                              single value or can also contain an inequality
                              operator like gt, gte, lt, lte. This can also
                              contain an inequality expression containing
                              logical operators like && and ||.
                            type: string
              action:
                description: >-
                  The Beckn protocol method being called by the sender and
                  executed at the receiver.
                type: string
              version:
                type: string
                description: Version of transaction protocol being used by the sender.
              bap_id:
                description: Subscriber ID of the BAP
                allOf:
                  - &ref_179
                    description: >-
                      A globally unique identifier of the platform, Typically it
                      is the fully qualified domain name (FQDN) of the platform.
                    type: string
              bap_uri:
                description: Subscriber URL of the BAP for accepting callbacks from BPPs.
                allOf:
                  - &ref_180
                    description: >-
                      The callback URL of the Subscriber. This should
                      necessarily contain the same domain name as set in
                      `subscriber_id``.
                    type: string
                    format: uri
              bpp_id:
                description: Subscriber ID of the BPP
                allOf:
                  - *ref_179
              bpp_uri:
                description: Subscriber URL of the BPP for accepting calls from BAPs.
                allOf:
                  - *ref_180
              transaction_id:
                description: >-
                  This is a unique value which persists across all API calls
                  from `search` through `confirm`. This is done to indicate an
                  active user session across multiple requests. The BPPs can use
                  this value to push personalized recommendations, and dynamic
                  offerings related to an ongoing transaction despite being
                  unaware of the user active on the BAP.
                type: string
                format: uuid
              message_id:
                description: >-
                  This is a unique value which persists during a request /
                  callback cycle. Since beckn protocol APIs are asynchronous,
                  BAPs need a common value to match an incoming callback from a
                  BPP to an earlier call. This value can also be used to ignore
                  duplicate messages coming from the BPP. It is recommended to
                  generate a fresh message_id for every new interaction. When
                  sending unsolicited callbacks, BPPs must generate a new
                  message_id.
                type: string
                format: uuid
              timestamp:
                description: Time of request generation in RFC3339 format
                type: string
                format: date-time
              key:
                description: The encryption public key of the sender
                type: string
              ttl:
                description: >-
                  The duration in ISO8601 format after timestamp for which this
                  message holds valid
                type: string
          - type: object
            properties:
              action:
                enum:
                  - on_init
            required:
              - action
      message:
        type: object
        properties:
          order:
            description: >-
              Describes a legal purchase order. It contains the complete details
              of the legal contract created between the buyer and the seller.
            type: object
            additionalProperties: false
            properties:
              id:
                type: string
                description: >-
                  Human-readable ID of the order. This is generated at the BPP
                  layer. The BPP can either generate order id within its system
                  or forward the order ID created at the provider level.
              ref_order_ids:
                description: A list of order IDs to link this order to previous orders.
                type: array
                items:
                  type: string
                  description: ID of a previous order
              status:
                description: >-
                  Status of the order. Allowed values can be defined by the
                  network policy
                type: string
              type:
                description: >-
                  This is used to indicate the type of order being created to
                  BPPs. Sometimes orders can be linked to previous orders, like
                  a replacement order in a retail domain. A follow-up
                  consultation in healthcare domain. A single order part of a
                  subscription order. The list of order types can be
                  standardized at the network level.
                type: string
                default: DEFAULT
                enum:
                  - DRAFT
                  - DEFAULT
              provider:
                description: >-
                  Details of the provider whose catalog items have been
                  selected.
                allOf:
                  - description: Describes the catalog of a business.
                    type: object
                    properties:
                      id:
                        type: string
                        description: Id of the provider
                      descriptor: *ref_181
                      category_id:
                        type: string
                        description: Category Id of the provider at the BPP-level catalog
                      rating: *ref_182
                      time: &ref_185
                        description: >-
                          Describes time in its various forms. It can be a
                          single point in time; duration; or a structured
                          timetable of operations<br>This has properties like
                          label, time stamp,duration,range, days, schedule
                        type: object
                        additionalProperties: false
                        properties:
                          label:
                            type: string
                          timestamp:
                            type: string
                            format: date-time
                          duration: &ref_183
                            description: Describes duration as per ISO8601 format
                            type: string
                          range:
                            type: object
                            properties:
                              start:
                                type: string
                                format: date-time
                              end:
                                type: string
                                format: date-time
                          days:
                            type: string
                            description: >-
                              comma separated values representing days of the
                              week
                          schedule:
                            description: >-
                              Describes schedule as a repeating time period used
                              to describe a regularly recurring event. At a
                              minimum a schedule will specify frequency which
                              describes the interval between occurrences of the
                              event. Additional information can be provided to
                              specify the schedule more precisely. This includes
                              identifying the timestamps(s) of when the event
                              will take place. Schedules may also have holidays
                              to exclude a specific day from the
                              schedule.<br>This has properties like frequency,
                              holidays, times
                            type: object
                            additionalProperties: false
                            properties:
                              frequency: *ref_183
                              holidays:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                              times:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                      categories:
                        type: array
                        items:
                          description: >-
                            A label under which a collection of items can be
                            grouped.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_184
                              description: ID of the category
                              type: string
                            parent_category_id: *ref_184
                            descriptor: *ref_181
                            time: *ref_185
                            ttl:
                              description: Time to live for an instance of this schema
                            tags:
                              type: array
                              items: &ref_187
                                description: >-
                                  A collection of tag objects with group level
                                  attributes. For detailed documentation on the
                                  Tags and Tag Groups schema go to
                                  https://github.com/beckn/protocol-specifications/discussions/316
                                type: object
                                additionalProperties: false
                                properties:
                                  display:
                                    description: >-
                                      Indicates the display properties of the
                                      tag group. If display is set to false,
                                      then the group will not be displayed. If
                                      it is set to true, it should be displayed.
                                      However, group-level display properties
                                      can be overriden by individual tag-level
                                      display property. As this schema is purely
                                      for catalog display purposes, it is not
                                      recommended to send this value during
                                      search.
                                    type: boolean
                                    default: true
                                  descriptor:
                                    description: >-
                                      Description of the TagGroup, can be used
                                      to store detailed information.
                                    allOf:
                                      - *ref_181
                                  list:
                                    description: >-
                                      An array of Tag objects listed under this
                                      group. This property can be set by BAPs
                                      during search to narrow the `search` and
                                      achieve more relevant results. When
                                      received during `on_search`, BAPs must
                                      render this list under the heading
                                      described by the `name` property of this
                                      schema.
                                    type: array
                                    items:
                                      description: >-
                                        Describes a tag. This is used to contain
                                        extended metadata. This object can be
                                        added as a property to any schema to
                                        describe extended attributes. For BAPs,
                                        tags can be sent during search to
                                        optimize and filter search results. BPPs
                                        can use tags to index their catalog to
                                        allow better search functionality. Tags
                                        are sent by the BPP as part of the
                                        catalog response in the `on_search`
                                        callback. Tags are also meant for
                                        display purposes. Upon receiving a tag,
                                        BAPs are meant to render them as
                                        name-value pairs. This is particularly
                                        useful when rendering tabular
                                        information about a product or service.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor:
                                          description: >-
                                            Description of the Tag, can be used to
                                            store detailed information.
                                          allOf:
                                            - *ref_181
                                        value:
                                          description: >-
                                            The value of the tag. This set by the
                                            BPP and rendered as-is by the BAP.
                                          type: string
                                        display:
                                          description: >-
                                            This value indicates if the tag is
                                            intended for display purposes. If set to
                                            `true`, then this tag must be displayed.
                                            If it is set to `false`, it should not
                                            be displayed. This value can override
                                            the group display value.
                                          type: boolean
                      fulfillments:
                        type: array
                        items: &ref_208
                          description: >-
                            Describes how a an order will be rendered/fulfilled
                            to the end-customer
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_199
                              description: >-
                                Unique reference ID to the fulfillment of an
                                order
                              type: string
                            type:
                              description: >-
                                A code that describes the mode of fulfillment.
                                This is typically set when there are multiple
                                ways an order can be fulfilled. For example, a
                                retail order can be fulfilled either via store
                                pickup or a home delivery. Similarly, a medical
                                consultation can be provided either in-person or
                                via tele-consultation. The network policy must
                                publish standard fulfillment type codes for the
                                different modes of fulfillment.
                              type: string
                            rateable:
                              description: Whether the fulfillment can be rated or not
                              type: boolean
                            rating:
                              description: The rating value of the fulfullment service.
                              allOf:
                                - *ref_182
                            state:
                              description: >-
                                The current state of fulfillment. The BPP must
                                set this value whenever the state of the order
                                fulfillment changes and fire an unsolicited
                                `on_status` call.
                              allOf:
                                - &ref_202
                                  description: Describes the state of fulfillment
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    descriptor: *ref_181
                                    updated_at:
                                      type: string
                                      format: date-time
                                    updated_by:
                                      type: string
                                      description: ID of entity which changed the state
                            tracking:
                              type: boolean
                              description: >-
                                Indicates whether the fulfillment allows
                                tracking
                              default: false
                            customer:
                              description: >-
                                The person that will ultimately receive the
                                order
                              allOf:
                                - description: >-
                                    Describes a customer buying/availing a
                                    product or a service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: &ref_188
                                      description: Describes a person as any individual
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          type: string
                                          description: Describes the identity of the person
                                        url:
                                          description: Profile url of the person
                                          type: string
                                          format: uri
                                        name:
                                          description: the name of the person
                                          type: string
                                        image: *ref_186
                                        age:
                                          description: Age of the person
                                          allOf:
                                            - *ref_183
                                        dob:
                                          description: Date of birth of the person
                                          type: string
                                          format: date
                                        gender:
                                          type: string
                                          description: >-
                                            Gender of something, typically a Person,
                                            but possibly also fictional characters,
                                            animals, etc. While Male and Female may
                                            be used, text strings are also
                                            acceptable for people who do not
                                            identify as a binary gender.Allowed
                                            values for this field can be published
                                            in the network policy
                                        creds:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a credential of an entity -
                                              Person or Organization
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              id:
                                                type: string
                                              type:
                                                type: string
                                                default: VerifiableCredential
                                              url:
                                                description: URL of the credential
                                                type: string
                                                format: uri
                                        languages:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a language known to the
                                              person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        skills:
                                          type: array
                                          items:
                                            description: Describes a skill of the person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        tags:
                                          type: array
                                          items: *ref_187
                                    contact: &ref_189
                                      description: >-
                                        Describes the contact information of an
                                        entity
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        phone:
                                          type: string
                                        email:
                                          type: string
                                        jcard:
                                          type: object
                                          description: >-
                                            A Jcard object as per
                                            draft-ietf-jcardcal-jcard-03
                                            specification
                            agent:
                              description: >-
                                The agent that is currently handling the
                                fulfillment of the order
                              allOf:
                                - description: >-
                                    Describes the direct performer, driver or
                                    executor that fulfills an order. It is
                                    usually a person. But in some rare cases, it
                                    could be a non-living entity like a drone,
                                    or a bot. Some examples of agents are Doctor
                                    in the healthcare sector, a driver in the
                                    mobility sector, or a delivery person in the
                                    logistics sector. This object can be set at
                                    any stage of the order lifecycle. This can
                                    be set at the discovery stage when the BPP
                                    wants to provide details on the agent
                                    fulfilling the order, like in healthcare,
                                    where the doctor's name appears during
                                    search. This object can also used to search
                                    for a particular person that the customer
                                    wants fulfilling an order. Sometimes, this
                                    object gets instantiated after the order is
                                    confirmed, like in the case of on-demand
                                    taxis, where the driver is assigned after
                                    the user confirms the ride.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: *ref_188
                                    contact: *ref_189
                                    organization: &ref_197
                                      description: >-
                                        An organization. Usually a recognized
                                        business entity.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor: *ref_181
                                        address:
                                          description: The postal address of the organization
                                          allOf:
                                            - *ref_190
                                        state:
                                          description: >-
                                            The state where the organization's
                                            address is registered
                                          allOf:
                                            - *ref_191
                                        city:
                                          description: >-
                                            The city where the the organization's
                                            address is registered
                                          allOf:
                                            - *ref_192
                                        contact: *ref_189
                                    rating: *ref_182
                            contact: *ref_189
                            vehicle:
                              description: >-
                                Describes a vehicle is a device that is designed
                                or used to transport people or cargo over land,
                                water, air, or through space.<br>This has
                                properties like category, capacity, make, model,
                                size,variant,color,energy_type,registration
                              type: object
                              additionalProperties: false
                              properties:
                                category:
                                  type: string
                                capacity:
                                  type: integer
                                make:
                                  type: string
                                model:
                                  type: string
                                size:
                                  type: string
                                variant:
                                  type: string
                                color:
                                  type: string
                                energy_type:
                                  type: string
                                registration:
                                  type: string
                                wheels_count:
                                  type: string
                                cargo_volumne:
                                  type: string
                                wheelchair_access:
                                  type: string
                                code:
                                  type: string
                                emission_standard:
                                  type: string
                            stops:
                              description: >-
                                The list of logical stops encountered during the
                                fulfillment of an order.
                              type: array
                              items:
                                description: >-
                                  A logical point in space and time during the
                                  fulfillment of an order.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    type: string
                                  parent_stop_id:
                                    type: string
                                  location:
                                    description: Location of the stop
                                    allOf:
                                      - *ref_193
                                  type:
                                    description: >-
                                      The type of stop. Allowed values of this
                                      property can be defined by the network
                                      policy.
                                    type: string
                                  time:
                                    description: Timings applicable at the stop.
                                    allOf:
                                      - *ref_185
                                  instructions:
                                    description: >-
                                      Instructions that need to be followed at
                                      the stop
                                    allOf:
                                      - *ref_181
                                  contact:
                                    description: Contact details of the stop
                                    allOf:
                                      - *ref_189
                                  person:
                                    description: >-
                                      The details of the person present at the
                                      stop
                                    allOf:
                                      - *ref_188
                                  authorization:
                                    description: >-
                                      Describes an authorization mechanism used
                                      to start or end the fulfillment of an
                                      order. For example, in the mobility
                                      sector, the driver may require a one-time
                                      password to initiate the ride. In the
                                      healthcare sector, a patient may need to
                                      provide a password to open a video
                                      conference link during a teleconsultation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      type:
                                        description: >-
                                          Type of authorization mechanism used.
                                          The allowed values for this field can be
                                          published as part of the network policy.
                                        type: string
                                      token:
                                        description: >-
                                          Token used for authorization. This is
                                          typically generated at the BPP. The BAP
                                          can send this value to the user via any
                                          channel that it uses to authenticate the
                                          user like SMS, Email, Push notification,
                                          or in-app rendering.
                                        type: string
                                      valid_from:
                                        description: >-
                                          Timestamp in RFC3339 format from which
                                          token is valid
                                        type: string
                                        format: date-time
                                      valid_to:
                                        description: >-
                                          Timestamp in RFC3339 format until which
                                          token is valid
                                        type: string
                                        format: date-time
                                      status:
                                        description: Status of the token
                                        type: string
                            path:
                              description: >-
                                The physical path taken by the agent that can be
                                rendered on a map. The allowed format of this
                                property can be set by the network.
                              type: string
                            tags:
                              type: array
                              items: *ref_187
                      payments:
                        type: array
                        items: &ref_213
                          description: >-
                            Describes the terms of settlement between the BAP
                            and the BPP for a single transaction. When
                            instantiated, this object contains <ol><li>the
                            amount that has to be settled,</li><li>The payment
                            destination destination details</li><li>When the
                            settlement should happen, and</li><li>A transaction
                            reference ID</li></ol>. During a transaction, the
                            BPP reserves the right to decide the terms of
                            payment. However, the BAP can send its terms to the
                            BPP first. If the BPP does not agree to those terms,
                            it must overwrite the terms and return them to the
                            BAP. If overridden, the BAP must either agree to the
                            terms sent by the BPP in order to preserve the
                            provider's autonomy, or abort the transaction. In
                            case of such disagreements, the BAP and the BPP can
                            perform offline negotiations on the payment terms.
                            Once an agreement is reached, the BAP and BPP can
                            resume transactions.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_200
                              description: >-
                                ID of the payment term that can be referred at
                                an item or an order level in a catalog
                              type: string
                            collected_by:
                              description: >-
                                This field indicates who is the collector of
                                payment. The BAP can set this value to 'bap' if
                                it wants to collect the payment first and 
                                settle it to the BPP. If the BPP agrees to those
                                terms, the BPP should not send the payment url.
                                Alternatively, the BPP can set this field with
                                the value 'bpp' if it wants the payment to be
                                made directly.
                              type: string
                            url:
                              type: string
                              description: >-
                                A payment url to be called by the BAP. If empty,
                                then the payment is to be done offline. The
                                details of payment should be present in the
                                params object. If tl_method = http/get, then the
                                payment details will be sent as url params. Two
                                url param values, ```$transaction_id``` and
                                ```$amount``` are mandatory.
                              format: uri
                            tl_method:
                              type: string
                            params:
                              type: object
                              properties:
                                transaction_id:
                                  type: string
                                  description: >-
                                    The reference transaction ID associated with
                                    a payment activity
                                amount:
                                  type: string
                                currency:
                                  type: string
                                bank_code:
                                  type: string
                                bank_account_number:
                                  type: string
                                virtual_payment_address:
                                  type: string
                                source_bank_code:
                                  type: string
                                source_bank_account_number:
                                  type: string
                                source_virtual_payment_address:
                                  type: string
                            type:
                              type: string
                              enum:
                                - PRE-ORDER
                                - PRE-FULFILLMENT
                                - ON-FULFILLMENT
                                - POST-FULFILLMENT
                                - ON-ORDER
                            status:
                              type: string
                              enum:
                                - PAID
                                - NOT-PAID
                            time: *ref_185
                            tags:
                              type: array
                              items: *ref_187
                      locations:
                        type: array
                        items: *ref_193
                      offers:
                        type: array
                        items: &ref_207
                          description: >-
                            An offer associated with a catalog. This is
                            typically used to promote a particular product and
                            enable more purchases.
                          type: object
                          additionalProperties: false
                          properties:
                            id:
                              type: string
                            descriptor: *ref_181
                            location_ids:
                              type: array
                              items: *ref_194
                            category_ids:
                              type: array
                              items: *ref_184
                            item_ids:
                              type: array
                              items: &ref_195
                                description: ID of the item.
                                type: string
                            time: *ref_185
                            tags:
                              type: array
                              items: *ref_187
                      items:
                        type: array
                        items: &ref_205
                          description: >-
                            Describes a product or a service offered to the end
                            consumer by the provider. In the mobility sector, it
                            can represent a fare product like one way journey.
                            In the logistics sector, it can represent the
                            delivery service offering. In the retail domain it
                            can represent a product like a grocery item.
                          type: object
                          additionalProperties: false
                          properties:
                            id: *ref_195
                            parent_item_id:
                              description: ID of the item, this item is a variant of
                              allOf:
                                - *ref_195
                            parent_item_quantity:
                              description: >-
                                The number of units of the parent item this item
                                is a multiple of
                              allOf:
                                - &ref_198
                                  description: Describes the count or amount of an item
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    allocated:
                                      description: >-
                                        This represents the exact quantity
                                        allocated for purchase of the item.
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_196
                                    available:
                                      description: >-
                                        This represents the exact quantity
                                        available for purchase of the item. The
                                        buyer can only purchase multiples of
                                        this
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_196
                                    maximum:
                                      description: >-
                                        This represents the maximum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                        measure: *ref_196
                                    minimum:
                                      description: >-
                                        This represents the minimum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_196
                                    selected:
                                      description: >-
                                        This represents the quantity selected
                                        for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_196
                                    unitized:
                                      description: >-
                                        This represents the quantity available
                                        in a single unit of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                          maximum: 1
                                        measure: *ref_196
                            descriptor:
                              description: Physical description of the item
                              allOf:
                                - *ref_181
                            creator:
                              description: The creator of this item
                              allOf:
                                - *ref_197
                            price:
                              description: >-
                                The price of this item, if it has intrinsic
                                value
                              allOf:
                                - &ref_201
                                  description: Describes the price of a product or service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    currency:
                                      type: string
                                    value: *ref_178
                                    estimated_value: *ref_178
                                    computed_value: *ref_178
                                    listed_value: *ref_178
                                    offered_value: *ref_178
                                    minimum_value: *ref_178
                                    maximum_value: *ref_178
                            quantity:
                              description: The selling quantity of the item
                              allOf:
                                - *ref_198
                            category_ids:
                              description: Categories this item can be listed under
                              type: array
                              items:
                                allOf:
                                  - *ref_184
                            fulfillment_ids:
                              description: Modes through which this item can be fulfilled
                              type: array
                              items:
                                allOf:
                                  - *ref_199
                            location_ids:
                              description: Provider Locations this item is available in
                              type: array
                              items:
                                allOf:
                                  - *ref_194
                            payment_ids:
                              description: >-
                                Payment modalities through which this item can
                                be ordered
                              type: array
                              items:
                                allOf:
                                  - *ref_200
                            add_ons:
                              type: array
                              items: &ref_206
                                description: >-
                                  Describes an additional item offered as a
                                  value-addition to a product or service. This
                                  does not exist independently in a catalog and
                                  is always associated with an item.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    description: Provider-defined ID of the add-on
                                    type: string
                                  descriptor: *ref_181
                                  price: *ref_201
                                  quantity: *ref_198
                            cancellation_terms:
                              description: Cancellation terms of this item
                              type: array
                              items: &ref_209
                                description: >-
                                  Describes the cancellation terms of an item or
                                  an order. This can be referenced at an item or
                                  order level. Item-level cancellation terms can
                                  override the terms at the order level.
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_202
                                  reason_required:
                                    description: >-
                                      Indicates whether a reason is required to
                                      cancel the order
                                    type: boolean
                                  cancel_by:
                                    description: >-
                                      Information related to the time of
                                      cancellation.
                                    allOf:
                                      - *ref_185
                                  cancellation_fee:
                                    description: A fee applied on a particular entity
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      percentage:
                                        description: Percentage of a value
                                        allOf:
                                          - *ref_178
                                      amount:
                                        description: A fixed value
                                        allOf:
                                          - *ref_201
                                  xinput: &ref_204
                                    description: >-
                                      Contains any additional or extended inputs
                                      required to confirm an order. This is
                                      typically a Form Input. Sometimes,
                                      selection of catalog elements is not
                                      enough for the BPP to confirm an order.
                                      For example, to confirm a flight ticket,
                                      the airline requires details of the
                                      passengers along with information on
                                      baggage, identity, in addition to the
                                      class of ticket. Similarly, a logistics
                                      company may require details on the nature
                                      of shipment in order to confirm the
                                      shipping. A recruiting firm may require
                                      additional details on the applicant in
                                      order to confirm a job application. For
                                      all such purposes, the BPP can choose to
                                      send this object attached to any object in
                                      the catalog that is required to be sent
                                      while placing the order. This object can
                                      typically be sent at an item level or at
                                      the order level. The item level XInput
                                      will override the Order level XInput as it
                                      indicates a special requirement of
                                      information for that particular item.
                                      Hence the BAP must render a separate form
                                      for the Item and another form at the Order
                                      level before confirmation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      form:
                                        description: Describes a form
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          url:
                                            description: >-
                                              The URL from where the form can be
                                              fetched. The content fetched from the
                                              url must be processed as per the
                                              mime_type specified in this object. Once
                                              fetched, the rendering platform can
                                              choosed to render the form as-is as an
                                              embeddable element; or process it
                                              further to blend with the theme of the
                                              application. In case the interface is
                                              non-visual, the the render can process
                                              the form data and reproduce it as per
                                              the standard specified in the form.
                                            type: string
                                            format: uri
                                          data:
                                            description: The form submission data
                                            type: object
                                            additionalProperties:
                                              type: string
                                          mime_type:
                                            description: >-
                                              This field indicates the nature and
                                              format of the form received by querying
                                              the url. MIME types are defined and
                                              standardized in IETF's RFC 6838.
                                            type: string
                                            enum:
                                              - text/html
                                              - application/xml
                                          submission_id:
                                            type: string
                                            format: uuid
                                      required:
                                        description: >-
                                          Indicates whether the form data is
                                          mandatorily required by the BPP to
                                          confirm the order.
                                        type: boolean
                                  external_ref: *ref_203
                            refund_terms:
                              description: Refund terms of this item
                              type: array
                              items: &ref_210
                                description: Refund term of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_191
                                  refund_eligible:
                                    description: >-
                                      Indicates if cancellation will result in a
                                      refund
                                    type: boolean
                                  refund_within:
                                    description: >-
                                      Time within which refund will be processed
                                      after successful cancellation.
                                    allOf:
                                      - *ref_185
                                  refund_amount: *ref_201
                            replacement_terms:
                              description: >-
                                Terms that are applicable be met when this item
                                is replaced
                              type: array
                              items: &ref_211
                                description: The replacement policy of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_191
                                  replace_within:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to replace the item
                                      before a certain date-time, failing which
                                      they will not be eligible for replacement
                                    allOf:
                                      - *ref_185
                                  external_ref: *ref_203
                            return_terms:
                              description: >-
                                Terms that are applicable when this item is
                                returned
                              type: array
                              items: &ref_212
                                description: >-
                                  Describes the return policy of an item or an
                                  order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term IETF''s applicable.
                                    allOf:
                                      - *ref_191
                                  return_eligible:
                                    description: >-
                                      Indicates whether the item is eligible for
                                      return
                                    type: boolean
                                  return_time:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to return the item to
                                      the origin before a certain date-time,
                                      failing which they will not be eligible
                                      for refund.
                                    allOf:
                                      - *ref_185
                                  return_location:
                                    description: >-
                                      The location where the item or order must
                                      / will be returned to
                                    allOf:
                                      - *ref_193
                                  fulfillment_managed_by:
                                    description: The entity that will perform the return
                                    type: string
                                    enum:
                                      - CONSUMER
                                      - PROVIDER
                            xinput:
                              description: >-
                                Additional input required from the customer to
                                purchase / avail this item
                              allOf:
                                - *ref_204
                            time:
                              description: >-
                                Temporal attributes of this item. This property
                                is used when the item exists on the catalog only
                                for a limited period of time.
                              allOf:
                                - *ref_185
                            rateable:
                              description: Whether this item can be rated
                              type: boolean
                            rating:
                              description: The rating of the item
                              allOf:
                                - *ref_182
                            matched:
                              description: >-
                                Whether this item is an exact match of the
                                request
                              type: boolean
                            related:
                              description: >-
                                Whether this item is a related item to the
                                exactly matched item
                              type: boolean
                            recommended:
                              description: >-
                                Whether this item is a recommended item to a
                                response
                              type: boolean
                            ttl:
                              description: >-
                                Time to live in seconds for an instance of this
                                schema
                              type: string
                            tags:
                              type: array
                              items: *ref_187
                      exp:
                        type: string
                        description: Time after which catalog has to be refreshed
                        format: date-time
                      rateable:
                        description: Whether this provider can be rated or not
                        type: boolean
                      ttl:
                        description: >-
                          The time-to-live in seconds, for this object. This can
                          be overriden at deeper levels. A value of -1 indicates
                          that this object is not cacheable.
                        type: string
                      tags:
                        type: array
                        items: *ref_187
              items:
                description: The items purchased / availed in this order
                type: array
                items: *ref_205
              add_ons:
                description: The add-ons purchased / availed in this order
                type: array
                items: *ref_206
              offers:
                description: The offers applied in this order
                type: array
                items: *ref_207
              billing:
                description: The billing details of this order
                allOf:
                  - description: >-
                      Describes the billing details of an entity.<br>This has
                      properties like
                      name,organization,address,email,phone,time,tax_number,
                      created_at,updated_at
                    type: object
                    additionalProperties: false
                    properties:
                      name:
                        description: Name of the billable entity
                        type: string
                      organization:
                        description: Details of the organization being billed.
                        allOf:
                          - *ref_197
                      address:
                        description: The address of the billable entity
                        allOf:
                          - *ref_190
                      state:
                        description: >-
                          The state where the billable entity resides. This is
                          important for state-level tax calculation
                        allOf:
                          - *ref_191
                      city:
                        description: The city where the billable entity resides.
                        allOf:
                          - *ref_192
                      email:
                        description: Email address where the bill is sent to
                        type: string
                        format: email
                      phone:
                        description: Phone number of the billable entity
                        type: string
                      time:
                        description: Details regarding the billing period
                        allOf:
                          - *ref_185
                      tax_id:
                        description: >-
                          ID of the billable entity as recognized by the
                          taxation authority
                        type: string
              fulfillments:
                description: The fulfillments involved in completing this order
                type: array
                items: *ref_208
              cancellation:
                description: The cancellation details of this order
                allOf:
                  - description: Describes a cancellation event
                    type: object
                    additionalProperties: false
                    properties:
                      time:
                        description: Date-time when the order was cancelled by the buyer
                        type: string
                        format: date-time
                      cancelled_by:
                        type: string
                        enum:
                          - CONSUMER
                          - PROVIDER
                      reason:
                        description: The reason for cancellation
                        allOf:
                          - description: Describes a selectable option
                            type: object
                            additionalProperties: false
                            properties:
                              id:
                                type: string
                              descriptor: *ref_181
                      additional_description:
                        description: >-
                          Any additional information regarding the nature of
                          cancellation
                        allOf:
                          - *ref_181
              cancellation_terms:
                description: Cancellation terms of this item
                type: array
                items: *ref_209
              documents:
                type: array
                items:
                  description: Documnents associated to the order
                  type: object
                  additionalProperties: false
                  properties:
                    descriptor: *ref_181
                    mime_type:
                      description: >-
                        This field indicates the nature and format of the form
                        received by querying the url. MIME types are defined and
                        standardized in IETF's RFC 6838.
                      type: string
                      enum:
                        - text/html
                        - application/html
                        - application/xml
                        - application/pdf
                    url:
                      description: >-
                        The URL from where the form can be fetched. The content
                        fetched from the url must be processed as per the
                        mime_type specified in this object.
                      type: string
                      format: uri
              refund_terms:
                description: Refund terms of this item
                type: array
                items: *ref_210
              replacement_terms:
                description: Replacement terms of this item
                type: array
                items: *ref_211
              return_terms:
                description: Return terms of this item
                type: array
                items: *ref_212
              quote:
                description: The mutually agreed upon quotation for this order.
                allOf:
                  - description: >-
                      Describes a quote. It is the estimated price of products
                      or services from the BPP.<br>This has properties like
                      price, breakup, ttl
                    type: object
                    additionalProperties: false
                    properties:
                      id:
                        description: ID of the quote.
                        type: string
                        format: uuid
                      price:
                        description: The total quoted price
                        allOf:
                          - *ref_201
                      breakup:
                        description: the breakup of the total quoted price
                        type: array
                        items:
                          type: object
                          properties:
                            item: *ref_205
                            title:
                              type: string
                            price: *ref_201
                      ttl: *ref_183
              payments:
                description: The terms of settlement for this order
                type: array
                items: *ref_213
              created_at:
                description: The date-time of creation of this order
                type: string
                format: date-time
              updated_at:
                description: The date-time of updated of this order
                type: string
                format: date-time
              xinput:
                description: >-
                  Additional input required from the customer to confirm this
                  order
                allOf:
                  - *ref_204
              tags:
                type: array
                items: *ref_187
        required:
          - order
      error:
        description: >-
          Describes an error object that is returned by a BAP, BPP or BG as a
          response or callback to an action by another network participant. This
          object is sent when any request received by a network participant is
          unacceptable. This object can be sent either during Ack or with the
          callback.
        type: object
        additionalProperties: false
        properties:
          code:
            type: string
            description: >-
              Standard error code. For full list of error codes, refer to
              docs/protocol-drafts/BECKN-005-ERROR-CODES-DRAFT-01.md of this
              repo"
          paths:
            type: string
            description: >-
              Path to json schema generating the error. Used only during json
              schema validation errors
          message:
            type: string
            description: >-
              Human readable message describing the error. Used mainly for
              logging. Not recommended to be shown to the user.
    required:
      - context
  confirm:
    type: object
    properties:
      context:
        allOf:
          - description: >-
              Every API call in beckn protocol has a context. It provides a
              high-level overview to the receiver about the nature of the
              intended transaction. Typically, it is the BAP that sets the
              transaction context based on the consumer's location and action on
              their UI. But sometimes, during unsolicited callbacks, the BPP
              also sets the transaction context but it is usually the same as
              the context of a previous full-cycle, request-callback interaction
              between the BAP and the BPP. The context object contains four
              types of fields. <ol><li>Demographic information about the
              transaction using fields like `domain`, `country`, and
              `region`.</li><li>Addressing details like the sending and
              receiving platform's ID and API URL.</li><li>Interoperability
              information like the protocol version that implemented by the
              sender and,</li><li>Transaction details like the method being
              called at the receiver's endpoint, the transaction_id that
              represents an end-to-end user session at the BAP, a message ID to
              pair requests with callbacks, a timestamp to capture sending
              times, a ttl to specifiy the validity of the request, and a key to
              encrypt information if necessary.</li></ol> This object must be
              passed in every interaction between a BAP and a BPP. In HTTP/S
              implementations, it is not necessary to send the context during
              the synchronous response. However, in asynchronous protocols, the
              context must be sent during all interactions,
            type: object
            additionalProperties: false
            properties:
              domain:
                description: Domain code that is relevant to this transaction context
                allOf:
                  - type: string
                    description: >-
                      Standard code representing the domain. The standard is
                      usually published as part of the network policy.
                      Furthermore, the network facilitator should also provide a
                      mechanism to provide the supported domains of a network.
              location:
                description: >-
                  The location where the transaction is intended to be
                  fulfilled.
                allOf:
                  - &ref_230
                    description: The physical location of something
                    type: object
                    additionalProperties: false
                    properties:
                      id: &ref_231
                        type: string
                      descriptor: &ref_218
                        description: Physical description of something.
                        type: object
                        additionalProperties: false
                        properties:
                          name:
                            type: string
                          code:
                            type: string
                          short_desc:
                            type: string
                          long_desc:
                            type: string
                          additional_desc:
                            type: object
                            properties:
                              url:
                                type: string
                              content_type:
                                type: string
                                enum:
                                  - text/plain
                                  - text/html
                                  - application/json
                          media:
                            type: array
                            items: &ref_240
                              description: This object contains a url to a media file.
                              type: object
                              additionalProperties: false
                              properties:
                                mimetype:
                                  description: >-
                                    indicates the nature and format of the
                                    document, file, or assortment of bytes. MIME
                                    types are defined and standardized in IETF's
                                    RFC 6838
                                  type: string
                                url:
                                  description: The URL of the file
                                  type: string
                                  format: uri
                                signature:
                                  description: >-
                                    The digital signature of the file signed by
                                    the sender
                                  type: string
                                dsa:
                                  description: The signing algorithm used by the sender
                                  type: string
                          images:
                            type: array
                            items: &ref_223
                              description: Describes an image
                              type: object
                              additionalProperties: false
                              properties:
                                url:
                                  description: >-
                                    URL to the image. This can be a data url or
                                    an remote url
                                  type: string
                                  format: uri
                                size_type:
                                  description: >-
                                    The size of the image. The network policy
                                    can define the default dimensions of each
                                    type
                                  type: string
                                  enum:
                                    - xs
                                    - sm
                                    - md
                                    - lg
                                    - xl
                                    - custom
                                width:
                                  description: Width of the image in pixels
                                  type: string
                                height:
                                  description: Height of the image in pixels
                                  type: string
                      map_url:
                        description: >-
                          The url to the map of the location. This can be a
                          globally recognized map url or the one specified by
                          the network policy.
                        type: string
                        format: uri
                      gps:
                        description: The GPS co-ordinates of this location.
                        allOf:
                          - &ref_214
                            description: Describes a GPS coordinate
                            type: string
                            pattern: >-
                              ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                      address:
                        description: The address of this location.
                        allOf:
                          - &ref_227
                            description: Describes a postal address.
                            type: string
                      city:
                        description: The city this location is, or is located within
                        allOf:
                          - &ref_229
                            description: Describes a city
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                description: Name of the city
                                type: string
                              code:
                                description: City code
                                type: string
                      district:
                        description: The state this location is, or is located within
                        type: string
                      state:
                        description: The state this location is, or is located within
                        allOf:
                          - &ref_228
                            description: >-
                              A bounded geopolitical region of governance inside
                              a country.
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the state
                              code:
                                type: string
                                description: >-
                                  State code as per country or international
                                  standards
                      country:
                        description: The country this location is, or is located within
                        allOf:
                          - description: Describes a country
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the country
                              code:
                                type: string
                                description: >-
                                  Country code as per ISO 3166-1 and ISO 3166-2
                                  format
                      area_code:
                        type: string
                      circle:
                        description: >-
                          Describes a circular region of a specified radius
                          centered at a specified GPS coordinate.
                        type: object
                        additionalProperties: false
                        properties:
                          gps: *ref_214
                          radius: &ref_233
                            description: Describes a scalar
                            type: object
                            additionalProperties: false
                            properties:
                              type:
                                type: string
                                enum:
                                  - CONSTANT
                                  - VARIABLE
                              value: &ref_215
                                description: Describes a numerical value in decimal form
                                type: string
                                pattern: '[+-]?([0-9]*[.])?[0-9]+'
                              estimated_value: *ref_215
                              computed_value: *ref_215
                              range:
                                type: object
                                properties:
                                  min: *ref_215
                                  max: *ref_215
                              unit:
                                type: string
                      polygon:
                        description: The boundary polygon of this location
                        type: string
                      3dspace:
                        description: The three dimensional region describing this location
                        type: string
                      rating:
                        description: The rating of this location
                        allOf:
                          - &ref_219
                            description: >-
                              Rating value given to the object. This can be a
                              single value or can also contain an inequality
                              operator like gt, gte, lt, lte. This can also
                              contain an inequality expression containing
                              logical operators like && and ||.
                            type: string
              action:
                description: >-
                  The Beckn protocol method being called by the sender and
                  executed at the receiver.
                type: string
              version:
                type: string
                description: Version of transaction protocol being used by the sender.
              bap_id:
                description: Subscriber ID of the BAP
                allOf:
                  - &ref_216
                    description: >-
                      A globally unique identifier of the platform, Typically it
                      is the fully qualified domain name (FQDN) of the platform.
                    type: string
              bap_uri:
                description: Subscriber URL of the BAP for accepting callbacks from BPPs.
                allOf:
                  - &ref_217
                    description: >-
                      The callback URL of the Subscriber. This should
                      necessarily contain the same domain name as set in
                      `subscriber_id``.
                    type: string
                    format: uri
              bpp_id:
                description: Subscriber ID of the BPP
                allOf:
                  - *ref_216
              bpp_uri:
                description: Subscriber URL of the BPP for accepting calls from BAPs.
                allOf:
                  - *ref_217
              transaction_id:
                description: >-
                  This is a unique value which persists across all API calls
                  from `search` through `confirm`. This is done to indicate an
                  active user session across multiple requests. The BPPs can use
                  this value to push personalized recommendations, and dynamic
                  offerings related to an ongoing transaction despite being
                  unaware of the user active on the BAP.
                type: string
                format: uuid
              message_id:
                description: >-
                  This is a unique value which persists during a request /
                  callback cycle. Since beckn protocol APIs are asynchronous,
                  BAPs need a common value to match an incoming callback from a
                  BPP to an earlier call. This value can also be used to ignore
                  duplicate messages coming from the BPP. It is recommended to
                  generate a fresh message_id for every new interaction. When
                  sending unsolicited callbacks, BPPs must generate a new
                  message_id.
                type: string
                format: uuid
              timestamp:
                description: Time of request generation in RFC3339 format
                type: string
                format: date-time
              key:
                description: The encryption public key of the sender
                type: string
              ttl:
                description: >-
                  The duration in ISO8601 format after timestamp for which this
                  message holds valid
                type: string
          - type: object
            properties:
              action:
                enum:
                  - confirm
            required:
              - action
      message:
        type: object
        properties:
          order:
            description: >-
              Describes a legal purchase order. It contains the complete details
              of the legal contract created between the buyer and the seller.
            type: object
            additionalProperties: false
            properties:
              id:
                type: string
                description: >-
                  Human-readable ID of the order. This is generated at the BPP
                  layer. The BPP can either generate order id within its system
                  or forward the order ID created at the provider level.
              ref_order_ids:
                description: A list of order IDs to link this order to previous orders.
                type: array
                items:
                  type: string
                  description: ID of a previous order
              status:
                description: >-
                  Status of the order. Allowed values can be defined by the
                  network policy
                type: string
              type:
                description: >-
                  This is used to indicate the type of order being created to
                  BPPs. Sometimes orders can be linked to previous orders, like
                  a replacement order in a retail domain. A follow-up
                  consultation in healthcare domain. A single order part of a
                  subscription order. The list of order types can be
                  standardized at the network level.
                type: string
                default: DEFAULT
                enum:
                  - DRAFT
                  - DEFAULT
              provider:
                description: >-
                  Details of the provider whose catalog items have been
                  selected.
                allOf:
                  - description: Describes the catalog of a business.
                    type: object
                    properties:
                      id:
                        type: string
                        description: Id of the provider
                      descriptor: *ref_218
                      category_id:
                        type: string
                        description: Category Id of the provider at the BPP-level catalog
                      rating: *ref_219
                      time: &ref_222
                        description: >-
                          Describes time in its various forms. It can be a
                          single point in time; duration; or a structured
                          timetable of operations<br>This has properties like
                          label, time stamp,duration,range, days, schedule
                        type: object
                        additionalProperties: false
                        properties:
                          label:
                            type: string
                          timestamp:
                            type: string
                            format: date-time
                          duration: &ref_220
                            description: Describes duration as per ISO8601 format
                            type: string
                          range:
                            type: object
                            properties:
                              start:
                                type: string
                                format: date-time
                              end:
                                type: string
                                format: date-time
                          days:
                            type: string
                            description: >-
                              comma separated values representing days of the
                              week
                          schedule:
                            description: >-
                              Describes schedule as a repeating time period used
                              to describe a regularly recurring event. At a
                              minimum a schedule will specify frequency which
                              describes the interval between occurrences of the
                              event. Additional information can be provided to
                              specify the schedule more precisely. This includes
                              identifying the timestamps(s) of when the event
                              will take place. Schedules may also have holidays
                              to exclude a specific day from the
                              schedule.<br>This has properties like frequency,
                              holidays, times
                            type: object
                            additionalProperties: false
                            properties:
                              frequency: *ref_220
                              holidays:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                              times:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                      categories:
                        type: array
                        items:
                          description: >-
                            A label under which a collection of items can be
                            grouped.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_221
                              description: ID of the category
                              type: string
                            parent_category_id: *ref_221
                            descriptor: *ref_218
                            time: *ref_222
                            ttl:
                              description: Time to live for an instance of this schema
                            tags:
                              type: array
                              items: &ref_224
                                description: >-
                                  A collection of tag objects with group level
                                  attributes. For detailed documentation on the
                                  Tags and Tag Groups schema go to
                                  https://github.com/beckn/protocol-specifications/discussions/316
                                type: object
                                additionalProperties: false
                                properties:
                                  display:
                                    description: >-
                                      Indicates the display properties of the
                                      tag group. If display is set to false,
                                      then the group will not be displayed. If
                                      it is set to true, it should be displayed.
                                      However, group-level display properties
                                      can be overriden by individual tag-level
                                      display property. As this schema is purely
                                      for catalog display purposes, it is not
                                      recommended to send this value during
                                      search.
                                    type: boolean
                                    default: true
                                  descriptor:
                                    description: >-
                                      Description of the TagGroup, can be used
                                      to store detailed information.
                                    allOf:
                                      - *ref_218
                                  list:
                                    description: >-
                                      An array of Tag objects listed under this
                                      group. This property can be set by BAPs
                                      during search to narrow the `search` and
                                      achieve more relevant results. When
                                      received during `on_search`, BAPs must
                                      render this list under the heading
                                      described by the `name` property of this
                                      schema.
                                    type: array
                                    items:
                                      description: >-
                                        Describes a tag. This is used to contain
                                        extended metadata. This object can be
                                        added as a property to any schema to
                                        describe extended attributes. For BAPs,
                                        tags can be sent during search to
                                        optimize and filter search results. BPPs
                                        can use tags to index their catalog to
                                        allow better search functionality. Tags
                                        are sent by the BPP as part of the
                                        catalog response in the `on_search`
                                        callback. Tags are also meant for
                                        display purposes. Upon receiving a tag,
                                        BAPs are meant to render them as
                                        name-value pairs. This is particularly
                                        useful when rendering tabular
                                        information about a product or service.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor:
                                          description: >-
                                            Description of the Tag, can be used to
                                            store detailed information.
                                          allOf:
                                            - *ref_218
                                        value:
                                          description: >-
                                            The value of the tag. This set by the
                                            BPP and rendered as-is by the BAP.
                                          type: string
                                        display:
                                          description: >-
                                            This value indicates if the tag is
                                            intended for display purposes. If set to
                                            `true`, then this tag must be displayed.
                                            If it is set to `false`, it should not
                                            be displayed. This value can override
                                            the group display value.
                                          type: boolean
                      fulfillments:
                        type: array
                        items: &ref_245
                          description: >-
                            Describes how a an order will be rendered/fulfilled
                            to the end-customer
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_236
                              description: >-
                                Unique reference ID to the fulfillment of an
                                order
                              type: string
                            type:
                              description: >-
                                A code that describes the mode of fulfillment.
                                This is typically set when there are multiple
                                ways an order can be fulfilled. For example, a
                                retail order can be fulfilled either via store
                                pickup or a home delivery. Similarly, a medical
                                consultation can be provided either in-person or
                                via tele-consultation. The network policy must
                                publish standard fulfillment type codes for the
                                different modes of fulfillment.
                              type: string
                            rateable:
                              description: Whether the fulfillment can be rated or not
                              type: boolean
                            rating:
                              description: The rating value of the fulfullment service.
                              allOf:
                                - *ref_219
                            state:
                              description: >-
                                The current state of fulfillment. The BPP must
                                set this value whenever the state of the order
                                fulfillment changes and fire an unsolicited
                                `on_status` call.
                              allOf:
                                - &ref_239
                                  description: Describes the state of fulfillment
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    descriptor: *ref_218
                                    updated_at:
                                      type: string
                                      format: date-time
                                    updated_by:
                                      type: string
                                      description: ID of entity which changed the state
                            tracking:
                              type: boolean
                              description: >-
                                Indicates whether the fulfillment allows
                                tracking
                              default: false
                            customer:
                              description: >-
                                The person that will ultimately receive the
                                order
                              allOf:
                                - description: >-
                                    Describes a customer buying/availing a
                                    product or a service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: &ref_225
                                      description: Describes a person as any individual
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          type: string
                                          description: Describes the identity of the person
                                        url:
                                          description: Profile url of the person
                                          type: string
                                          format: uri
                                        name:
                                          description: the name of the person
                                          type: string
                                        image: *ref_223
                                        age:
                                          description: Age of the person
                                          allOf:
                                            - *ref_220
                                        dob:
                                          description: Date of birth of the person
                                          type: string
                                          format: date
                                        gender:
                                          type: string
                                          description: >-
                                            Gender of something, typically a Person,
                                            but possibly also fictional characters,
                                            animals, etc. While Male and Female may
                                            be used, text strings are also
                                            acceptable for people who do not
                                            identify as a binary gender.Allowed
                                            values for this field can be published
                                            in the network policy
                                        creds:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a credential of an entity -
                                              Person or Organization
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              id:
                                                type: string
                                              type:
                                                type: string
                                                default: VerifiableCredential
                                              url:
                                                description: URL of the credential
                                                type: string
                                                format: uri
                                        languages:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a language known to the
                                              person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        skills:
                                          type: array
                                          items:
                                            description: Describes a skill of the person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        tags:
                                          type: array
                                          items: *ref_224
                                    contact: &ref_226
                                      description: >-
                                        Describes the contact information of an
                                        entity
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        phone:
                                          type: string
                                        email:
                                          type: string
                                        jcard:
                                          type: object
                                          description: >-
                                            A Jcard object as per
                                            draft-ietf-jcardcal-jcard-03
                                            specification
                            agent:
                              description: >-
                                The agent that is currently handling the
                                fulfillment of the order
                              allOf:
                                - description: >-
                                    Describes the direct performer, driver or
                                    executor that fulfills an order. It is
                                    usually a person. But in some rare cases, it
                                    could be a non-living entity like a drone,
                                    or a bot. Some examples of agents are Doctor
                                    in the healthcare sector, a driver in the
                                    mobility sector, or a delivery person in the
                                    logistics sector. This object can be set at
                                    any stage of the order lifecycle. This can
                                    be set at the discovery stage when the BPP
                                    wants to provide details on the agent
                                    fulfilling the order, like in healthcare,
                                    where the doctor's name appears during
                                    search. This object can also used to search
                                    for a particular person that the customer
                                    wants fulfilling an order. Sometimes, this
                                    object gets instantiated after the order is
                                    confirmed, like in the case of on-demand
                                    taxis, where the driver is assigned after
                                    the user confirms the ride.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: *ref_225
                                    contact: *ref_226
                                    organization: &ref_234
                                      description: >-
                                        An organization. Usually a recognized
                                        business entity.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor: *ref_218
                                        address:
                                          description: The postal address of the organization
                                          allOf:
                                            - *ref_227
                                        state:
                                          description: >-
                                            The state where the organization's
                                            address is registered
                                          allOf:
                                            - *ref_228
                                        city:
                                          description: >-
                                            The city where the the organization's
                                            address is registered
                                          allOf:
                                            - *ref_229
                                        contact: *ref_226
                                    rating: *ref_219
                            contact: *ref_226
                            vehicle:
                              description: >-
                                Describes a vehicle is a device that is designed
                                or used to transport people or cargo over land,
                                water, air, or through space.<br>This has
                                properties like category, capacity, make, model,
                                size,variant,color,energy_type,registration
                              type: object
                              additionalProperties: false
                              properties:
                                category:
                                  type: string
                                capacity:
                                  type: integer
                                make:
                                  type: string
                                model:
                                  type: string
                                size:
                                  type: string
                                variant:
                                  type: string
                                color:
                                  type: string
                                energy_type:
                                  type: string
                                registration:
                                  type: string
                                wheels_count:
                                  type: string
                                cargo_volumne:
                                  type: string
                                wheelchair_access:
                                  type: string
                                code:
                                  type: string
                                emission_standard:
                                  type: string
                            stops:
                              description: >-
                                The list of logical stops encountered during the
                                fulfillment of an order.
                              type: array
                              items:
                                description: >-
                                  A logical point in space and time during the
                                  fulfillment of an order.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    type: string
                                  parent_stop_id:
                                    type: string
                                  location:
                                    description: Location of the stop
                                    allOf:
                                      - *ref_230
                                  type:
                                    description: >-
                                      The type of stop. Allowed values of this
                                      property can be defined by the network
                                      policy.
                                    type: string
                                  time:
                                    description: Timings applicable at the stop.
                                    allOf:
                                      - *ref_222
                                  instructions:
                                    description: >-
                                      Instructions that need to be followed at
                                      the stop
                                    allOf:
                                      - *ref_218
                                  contact:
                                    description: Contact details of the stop
                                    allOf:
                                      - *ref_226
                                  person:
                                    description: >-
                                      The details of the person present at the
                                      stop
                                    allOf:
                                      - *ref_225
                                  authorization:
                                    description: >-
                                      Describes an authorization mechanism used
                                      to start or end the fulfillment of an
                                      order. For example, in the mobility
                                      sector, the driver may require a one-time
                                      password to initiate the ride. In the
                                      healthcare sector, a patient may need to
                                      provide a password to open a video
                                      conference link during a teleconsultation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      type:
                                        description: >-
                                          Type of authorization mechanism used.
                                          The allowed values for this field can be
                                          published as part of the network policy.
                                        type: string
                                      token:
                                        description: >-
                                          Token used for authorization. This is
                                          typically generated at the BPP. The BAP
                                          can send this value to the user via any
                                          channel that it uses to authenticate the
                                          user like SMS, Email, Push notification,
                                          or in-app rendering.
                                        type: string
                                      valid_from:
                                        description: >-
                                          Timestamp in RFC3339 format from which
                                          token is valid
                                        type: string
                                        format: date-time
                                      valid_to:
                                        description: >-
                                          Timestamp in RFC3339 format until which
                                          token is valid
                                        type: string
                                        format: date-time
                                      status:
                                        description: Status of the token
                                        type: string
                            path:
                              description: >-
                                The physical path taken by the agent that can be
                                rendered on a map. The allowed format of this
                                property can be set by the network.
                              type: string
                            tags:
                              type: array
                              items: *ref_224
                      payments:
                        type: array
                        items: &ref_250
                          description: >-
                            Describes the terms of settlement between the BAP
                            and the BPP for a single transaction. When
                            instantiated, this object contains <ol><li>the
                            amount that has to be settled,</li><li>The payment
                            destination destination details</li><li>When the
                            settlement should happen, and</li><li>A transaction
                            reference ID</li></ol>. During a transaction, the
                            BPP reserves the right to decide the terms of
                            payment. However, the BAP can send its terms to the
                            BPP first. If the BPP does not agree to those terms,
                            it must overwrite the terms and return them to the
                            BAP. If overridden, the BAP must either agree to the
                            terms sent by the BPP in order to preserve the
                            provider's autonomy, or abort the transaction. In
                            case of such disagreements, the BAP and the BPP can
                            perform offline negotiations on the payment terms.
                            Once an agreement is reached, the BAP and BPP can
                            resume transactions.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_237
                              description: >-
                                ID of the payment term that can be referred at
                                an item or an order level in a catalog
                              type: string
                            collected_by:
                              description: >-
                                This field indicates who is the collector of
                                payment. The BAP can set this value to 'bap' if
                                it wants to collect the payment first and 
                                settle it to the BPP. If the BPP agrees to those
                                terms, the BPP should not send the payment url.
                                Alternatively, the BPP can set this field with
                                the value 'bpp' if it wants the payment to be
                                made directly.
                              type: string
                            url:
                              type: string
                              description: >-
                                A payment url to be called by the BAP. If empty,
                                then the payment is to be done offline. The
                                details of payment should be present in the
                                params object. If tl_method = http/get, then the
                                payment details will be sent as url params. Two
                                url param values, ```$transaction_id``` and
                                ```$amount``` are mandatory.
                              format: uri
                            tl_method:
                              type: string
                            params:
                              type: object
                              properties:
                                transaction_id:
                                  type: string
                                  description: >-
                                    The reference transaction ID associated with
                                    a payment activity
                                amount:
                                  type: string
                                currency:
                                  type: string
                                bank_code:
                                  type: string
                                bank_account_number:
                                  type: string
                                virtual_payment_address:
                                  type: string
                                source_bank_code:
                                  type: string
                                source_bank_account_number:
                                  type: string
                                source_virtual_payment_address:
                                  type: string
                            type:
                              type: string
                              enum:
                                - PRE-ORDER
                                - PRE-FULFILLMENT
                                - ON-FULFILLMENT
                                - POST-FULFILLMENT
                                - ON-ORDER
                            status:
                              type: string
                              enum:
                                - PAID
                                - NOT-PAID
                            time: *ref_222
                            tags:
                              type: array
                              items: *ref_224
                      locations:
                        type: array
                        items: *ref_230
                      offers:
                        type: array
                        items: &ref_244
                          description: >-
                            An offer associated with a catalog. This is
                            typically used to promote a particular product and
                            enable more purchases.
                          type: object
                          additionalProperties: false
                          properties:
                            id:
                              type: string
                            descriptor: *ref_218
                            location_ids:
                              type: array
                              items: *ref_231
                            category_ids:
                              type: array
                              items: *ref_221
                            item_ids:
                              type: array
                              items: &ref_232
                                description: ID of the item.
                                type: string
                            time: *ref_222
                            tags:
                              type: array
                              items: *ref_224
                      items:
                        type: array
                        items: &ref_242
                          description: >-
                            Describes a product or a service offered to the end
                            consumer by the provider. In the mobility sector, it
                            can represent a fare product like one way journey.
                            In the logistics sector, it can represent the
                            delivery service offering. In the retail domain it
                            can represent a product like a grocery item.
                          type: object
                          additionalProperties: false
                          properties:
                            id: *ref_232
                            parent_item_id:
                              description: ID of the item, this item is a variant of
                              allOf:
                                - *ref_232
                            parent_item_quantity:
                              description: >-
                                The number of units of the parent item this item
                                is a multiple of
                              allOf:
                                - &ref_235
                                  description: Describes the count or amount of an item
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    allocated:
                                      description: >-
                                        This represents the exact quantity
                                        allocated for purchase of the item.
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_233
                                    available:
                                      description: >-
                                        This represents the exact quantity
                                        available for purchase of the item. The
                                        buyer can only purchase multiples of
                                        this
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_233
                                    maximum:
                                      description: >-
                                        This represents the maximum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                        measure: *ref_233
                                    minimum:
                                      description: >-
                                        This represents the minimum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_233
                                    selected:
                                      description: >-
                                        This represents the quantity selected
                                        for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_233
                                    unitized:
                                      description: >-
                                        This represents the quantity available
                                        in a single unit of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                          maximum: 1
                                        measure: *ref_233
                            descriptor:
                              description: Physical description of the item
                              allOf:
                                - *ref_218
                            creator:
                              description: The creator of this item
                              allOf:
                                - *ref_234
                            price:
                              description: >-
                                The price of this item, if it has intrinsic
                                value
                              allOf:
                                - &ref_238
                                  description: Describes the price of a product or service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    currency:
                                      type: string
                                    value: *ref_215
                                    estimated_value: *ref_215
                                    computed_value: *ref_215
                                    listed_value: *ref_215
                                    offered_value: *ref_215
                                    minimum_value: *ref_215
                                    maximum_value: *ref_215
                            quantity:
                              description: The selling quantity of the item
                              allOf:
                                - *ref_235
                            category_ids:
                              description: Categories this item can be listed under
                              type: array
                              items:
                                allOf:
                                  - *ref_221
                            fulfillment_ids:
                              description: Modes through which this item can be fulfilled
                              type: array
                              items:
                                allOf:
                                  - *ref_236
                            location_ids:
                              description: Provider Locations this item is available in
                              type: array
                              items:
                                allOf:
                                  - *ref_231
                            payment_ids:
                              description: >-
                                Payment modalities through which this item can
                                be ordered
                              type: array
                              items:
                                allOf:
                                  - *ref_237
                            add_ons:
                              type: array
                              items: &ref_243
                                description: >-
                                  Describes an additional item offered as a
                                  value-addition to a product or service. This
                                  does not exist independently in a catalog and
                                  is always associated with an item.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    description: Provider-defined ID of the add-on
                                    type: string
                                  descriptor: *ref_218
                                  price: *ref_238
                                  quantity: *ref_235
                            cancellation_terms:
                              description: Cancellation terms of this item
                              type: array
                              items: &ref_246
                                description: >-
                                  Describes the cancellation terms of an item or
                                  an order. This can be referenced at an item or
                                  order level. Item-level cancellation terms can
                                  override the terms at the order level.
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_239
                                  reason_required:
                                    description: >-
                                      Indicates whether a reason is required to
                                      cancel the order
                                    type: boolean
                                  cancel_by:
                                    description: >-
                                      Information related to the time of
                                      cancellation.
                                    allOf:
                                      - *ref_222
                                  cancellation_fee:
                                    description: A fee applied on a particular entity
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      percentage:
                                        description: Percentage of a value
                                        allOf:
                                          - *ref_215
                                      amount:
                                        description: A fixed value
                                        allOf:
                                          - *ref_238
                                  xinput: &ref_241
                                    description: >-
                                      Contains any additional or extended inputs
                                      required to confirm an order. This is
                                      typically a Form Input. Sometimes,
                                      selection of catalog elements is not
                                      enough for the BPP to confirm an order.
                                      For example, to confirm a flight ticket,
                                      the airline requires details of the
                                      passengers along with information on
                                      baggage, identity, in addition to the
                                      class of ticket. Similarly, a logistics
                                      company may require details on the nature
                                      of shipment in order to confirm the
                                      shipping. A recruiting firm may require
                                      additional details on the applicant in
                                      order to confirm a job application. For
                                      all such purposes, the BPP can choose to
                                      send this object attached to any object in
                                      the catalog that is required to be sent
                                      while placing the order. This object can
                                      typically be sent at an item level or at
                                      the order level. The item level XInput
                                      will override the Order level XInput as it
                                      indicates a special requirement of
                                      information for that particular item.
                                      Hence the BAP must render a separate form
                                      for the Item and another form at the Order
                                      level before confirmation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      form:
                                        description: Describes a form
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          url:
                                            description: >-
                                              The URL from where the form can be
                                              fetched. The content fetched from the
                                              url must be processed as per the
                                              mime_type specified in this object. Once
                                              fetched, the rendering platform can
                                              choosed to render the form as-is as an
                                              embeddable element; or process it
                                              further to blend with the theme of the
                                              application. In case the interface is
                                              non-visual, the the render can process
                                              the form data and reproduce it as per
                                              the standard specified in the form.
                                            type: string
                                            format: uri
                                          data:
                                            description: The form submission data
                                            type: object
                                            additionalProperties:
                                              type: string
                                          mime_type:
                                            description: >-
                                              This field indicates the nature and
                                              format of the form received by querying
                                              the url. MIME types are defined and
                                              standardized in IETF's RFC 6838.
                                            type: string
                                            enum:
                                              - text/html
                                              - application/xml
                                          submission_id:
                                            type: string
                                            format: uuid
                                      required:
                                        description: >-
                                          Indicates whether the form data is
                                          mandatorily required by the BPP to
                                          confirm the order.
                                        type: boolean
                                  external_ref: *ref_240
                            refund_terms:
                              description: Refund terms of this item
                              type: array
                              items: &ref_247
                                description: Refund term of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_228
                                  refund_eligible:
                                    description: >-
                                      Indicates if cancellation will result in a
                                      refund
                                    type: boolean
                                  refund_within:
                                    description: >-
                                      Time within which refund will be processed
                                      after successful cancellation.
                                    allOf:
                                      - *ref_222
                                  refund_amount: *ref_238
                            replacement_terms:
                              description: >-
                                Terms that are applicable be met when this item
                                is replaced
                              type: array
                              items: &ref_248
                                description: The replacement policy of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_228
                                  replace_within:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to replace the item
                                      before a certain date-time, failing which
                                      they will not be eligible for replacement
                                    allOf:
                                      - *ref_222
                                  external_ref: *ref_240
                            return_terms:
                              description: >-
                                Terms that are applicable when this item is
                                returned
                              type: array
                              items: &ref_249
                                description: >-
                                  Describes the return policy of an item or an
                                  order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term IETF''s applicable.
                                    allOf:
                                      - *ref_228
                                  return_eligible:
                                    description: >-
                                      Indicates whether the item is eligible for
                                      return
                                    type: boolean
                                  return_time:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to return the item to
                                      the origin before a certain date-time,
                                      failing which they will not be eligible
                                      for refund.
                                    allOf:
                                      - *ref_222
                                  return_location:
                                    description: >-
                                      The location where the item or order must
                                      / will be returned to
                                    allOf:
                                      - *ref_230
                                  fulfillment_managed_by:
                                    description: The entity that will perform the return
                                    type: string
                                    enum:
                                      - CONSUMER
                                      - PROVIDER
                            xinput:
                              description: >-
                                Additional input required from the customer to
                                purchase / avail this item
                              allOf:
                                - *ref_241
                            time:
                              description: >-
                                Temporal attributes of this item. This property
                                is used when the item exists on the catalog only
                                for a limited period of time.
                              allOf:
                                - *ref_222
                            rateable:
                              description: Whether this item can be rated
                              type: boolean
                            rating:
                              description: The rating of the item
                              allOf:
                                - *ref_219
                            matched:
                              description: >-
                                Whether this item is an exact match of the
                                request
                              type: boolean
                            related:
                              description: >-
                                Whether this item is a related item to the
                                exactly matched item
                              type: boolean
                            recommended:
                              description: >-
                                Whether this item is a recommended item to a
                                response
                              type: boolean
                            ttl:
                              description: >-
                                Time to live in seconds for an instance of this
                                schema
                              type: string
                            tags:
                              type: array
                              items: *ref_224
                      exp:
                        type: string
                        description: Time after which catalog has to be refreshed
                        format: date-time
                      rateable:
                        description: Whether this provider can be rated or not
                        type: boolean
                      ttl:
                        description: >-
                          The time-to-live in seconds, for this object. This can
                          be overriden at deeper levels. A value of -1 indicates
                          that this object is not cacheable.
                        type: string
                      tags:
                        type: array
                        items: *ref_224
              items:
                description: The items purchased / availed in this order
                type: array
                items: *ref_242
              add_ons:
                description: The add-ons purchased / availed in this order
                type: array
                items: *ref_243
              offers:
                description: The offers applied in this order
                type: array
                items: *ref_244
              billing:
                description: The billing details of this order
                allOf:
                  - description: >-
                      Describes the billing details of an entity.<br>This has
                      properties like
                      name,organization,address,email,phone,time,tax_number,
                      created_at,updated_at
                    type: object
                    additionalProperties: false
                    properties:
                      name:
                        description: Name of the billable entity
                        type: string
                      organization:
                        description: Details of the organization being billed.
                        allOf:
                          - *ref_234
                      address:
                        description: The address of the billable entity
                        allOf:
                          - *ref_227
                      state:
                        description: >-
                          The state where the billable entity resides. This is
                          important for state-level tax calculation
                        allOf:
                          - *ref_228
                      city:
                        description: The city where the billable entity resides.
                        allOf:
                          - *ref_229
                      email:
                        description: Email address where the bill is sent to
                        type: string
                        format: email
                      phone:
                        description: Phone number of the billable entity
                        type: string
                      time:
                        description: Details regarding the billing period
                        allOf:
                          - *ref_222
                      tax_id:
                        description: >-
                          ID of the billable entity as recognized by the
                          taxation authority
                        type: string
              fulfillments:
                description: The fulfillments involved in completing this order
                type: array
                items: *ref_245
              cancellation:
                description: The cancellation details of this order
                allOf:
                  - description: Describes a cancellation event
                    type: object
                    additionalProperties: false
                    properties:
                      time:
                        description: Date-time when the order was cancelled by the buyer
                        type: string
                        format: date-time
                      cancelled_by:
                        type: string
                        enum:
                          - CONSUMER
                          - PROVIDER
                      reason:
                        description: The reason for cancellation
                        allOf:
                          - description: Describes a selectable option
                            type: object
                            additionalProperties: false
                            properties:
                              id:
                                type: string
                              descriptor: *ref_218
                      additional_description:
                        description: >-
                          Any additional information regarding the nature of
                          cancellation
                        allOf:
                          - *ref_218
              cancellation_terms:
                description: Cancellation terms of this item
                type: array
                items: *ref_246
              documents:
                type: array
                items:
                  description: Documnents associated to the order
                  type: object
                  additionalProperties: false
                  properties:
                    descriptor: *ref_218
                    mime_type:
                      description: >-
                        This field indicates the nature and format of the form
                        received by querying the url. MIME types are defined and
                        standardized in IETF's RFC 6838.
                      type: string
                      enum:
                        - text/html
                        - application/html
                        - application/xml
                        - application/pdf
                    url:
                      description: >-
                        The URL from where the form can be fetched. The content
                        fetched from the url must be processed as per the
                        mime_type specified in this object.
                      type: string
                      format: uri
              refund_terms:
                description: Refund terms of this item
                type: array
                items: *ref_247
              replacement_terms:
                description: Replacement terms of this item
                type: array
                items: *ref_248
              return_terms:
                description: Return terms of this item
                type: array
                items: *ref_249
              quote:
                description: The mutually agreed upon quotation for this order.
                allOf:
                  - description: >-
                      Describes a quote. It is the estimated price of products
                      or services from the BPP.<br>This has properties like
                      price, breakup, ttl
                    type: object
                    additionalProperties: false
                    properties:
                      id:
                        description: ID of the quote.
                        type: string
                        format: uuid
                      price:
                        description: The total quoted price
                        allOf:
                          - *ref_238
                      breakup:
                        description: the breakup of the total quoted price
                        type: array
                        items:
                          type: object
                          properties:
                            item: *ref_242
                            title:
                              type: string
                            price: *ref_238
                      ttl: *ref_220
              payments:
                description: The terms of settlement for this order
                type: array
                items: *ref_250
              created_at:
                description: The date-time of creation of this order
                type: string
                format: date-time
              updated_at:
                description: The date-time of updated of this order
                type: string
                format: date-time
              xinput:
                description: >-
                  Additional input required from the customer to confirm this
                  order
                allOf:
                  - *ref_241
              tags:
                type: array
                items: *ref_224
        required:
          - order
    required:
      - context
      - message
  on_confirm:
    type: object
    properties:
      context:
        allOf:
          - description: >-
              Every API call in beckn protocol has a context. It provides a
              high-level overview to the receiver about the nature of the
              intended transaction. Typically, it is the BAP that sets the
              transaction context based on the consumer's location and action on
              their UI. But sometimes, during unsolicited callbacks, the BPP
              also sets the transaction context but it is usually the same as
              the context of a previous full-cycle, request-callback interaction
              between the BAP and the BPP. The context object contains four
              types of fields. <ol><li>Demographic information about the
              transaction using fields like `domain`, `country`, and
              `region`.</li><li>Addressing details like the sending and
              receiving platform's ID and API URL.</li><li>Interoperability
              information like the protocol version that implemented by the
              sender and,</li><li>Transaction details like the method being
              called at the receiver's endpoint, the transaction_id that
              represents an end-to-end user session at the BAP, a message ID to
              pair requests with callbacks, a timestamp to capture sending
              times, a ttl to specifiy the validity of the request, and a key to
              encrypt information if necessary.</li></ol> This object must be
              passed in every interaction between a BAP and a BPP. In HTTP/S
              implementations, it is not necessary to send the context during
              the synchronous response. However, in asynchronous protocols, the
              context must be sent during all interactions,
            type: object
            additionalProperties: false
            properties:
              domain:
                description: Domain code that is relevant to this transaction context
                allOf:
                  - type: string
                    description: >-
                      Standard code representing the domain. The standard is
                      usually published as part of the network policy.
                      Furthermore, the network facilitator should also provide a
                      mechanism to provide the supported domains of a network.
              location:
                description: >-
                  The location where the transaction is intended to be
                  fulfilled.
                allOf:
                  - &ref_267
                    description: The physical location of something
                    type: object
                    additionalProperties: false
                    properties:
                      id: &ref_268
                        type: string
                      descriptor: &ref_255
                        description: Physical description of something.
                        type: object
                        additionalProperties: false
                        properties:
                          name:
                            type: string
                          code:
                            type: string
                          short_desc:
                            type: string
                          long_desc:
                            type: string
                          additional_desc:
                            type: object
                            properties:
                              url:
                                type: string
                              content_type:
                                type: string
                                enum:
                                  - text/plain
                                  - text/html
                                  - application/json
                          media:
                            type: array
                            items: &ref_277
                              description: This object contains a url to a media file.
                              type: object
                              additionalProperties: false
                              properties:
                                mimetype:
                                  description: >-
                                    indicates the nature and format of the
                                    document, file, or assortment of bytes. MIME
                                    types are defined and standardized in IETF's
                                    RFC 6838
                                  type: string
                                url:
                                  description: The URL of the file
                                  type: string
                                  format: uri
                                signature:
                                  description: >-
                                    The digital signature of the file signed by
                                    the sender
                                  type: string
                                dsa:
                                  description: The signing algorithm used by the sender
                                  type: string
                          images:
                            type: array
                            items: &ref_260
                              description: Describes an image
                              type: object
                              additionalProperties: false
                              properties:
                                url:
                                  description: >-
                                    URL to the image. This can be a data url or
                                    an remote url
                                  type: string
                                  format: uri
                                size_type:
                                  description: >-
                                    The size of the image. The network policy
                                    can define the default dimensions of each
                                    type
                                  type: string
                                  enum:
                                    - xs
                                    - sm
                                    - md
                                    - lg
                                    - xl
                                    - custom
                                width:
                                  description: Width of the image in pixels
                                  type: string
                                height:
                                  description: Height of the image in pixels
                                  type: string
                      map_url:
                        description: >-
                          The url to the map of the location. This can be a
                          globally recognized map url or the one specified by
                          the network policy.
                        type: string
                        format: uri
                      gps:
                        description: The GPS co-ordinates of this location.
                        allOf:
                          - &ref_251
                            description: Describes a GPS coordinate
                            type: string
                            pattern: >-
                              ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                      address:
                        description: The address of this location.
                        allOf:
                          - &ref_264
                            description: Describes a postal address.
                            type: string
                      city:
                        description: The city this location is, or is located within
                        allOf:
                          - &ref_266
                            description: Describes a city
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                description: Name of the city
                                type: string
                              code:
                                description: City code
                                type: string
                      district:
                        description: The state this location is, or is located within
                        type: string
                      state:
                        description: The state this location is, or is located within
                        allOf:
                          - &ref_265
                            description: >-
                              A bounded geopolitical region of governance inside
                              a country.
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the state
                              code:
                                type: string
                                description: >-
                                  State code as per country or international
                                  standards
                      country:
                        description: The country this location is, or is located within
                        allOf:
                          - description: Describes a country
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the country
                              code:
                                type: string
                                description: >-
                                  Country code as per ISO 3166-1 and ISO 3166-2
                                  format
                      area_code:
                        type: string
                      circle:
                        description: >-
                          Describes a circular region of a specified radius
                          centered at a specified GPS coordinate.
                        type: object
                        additionalProperties: false
                        properties:
                          gps: *ref_251
                          radius: &ref_270
                            description: Describes a scalar
                            type: object
                            additionalProperties: false
                            properties:
                              type:
                                type: string
                                enum:
                                  - CONSTANT
                                  - VARIABLE
                              value: &ref_252
                                description: Describes a numerical value in decimal form
                                type: string
                                pattern: '[+-]?([0-9]*[.])?[0-9]+'
                              estimated_value: *ref_252
                              computed_value: *ref_252
                              range:
                                type: object
                                properties:
                                  min: *ref_252
                                  max: *ref_252
                              unit:
                                type: string
                      polygon:
                        description: The boundary polygon of this location
                        type: string
                      3dspace:
                        description: The three dimensional region describing this location
                        type: string
                      rating:
                        description: The rating of this location
                        allOf:
                          - &ref_256
                            description: >-
                              Rating value given to the object. This can be a
                              single value or can also contain an inequality
                              operator like gt, gte, lt, lte. This can also
                              contain an inequality expression containing
                              logical operators like && and ||.
                            type: string
              action:
                description: >-
                  The Beckn protocol method being called by the sender and
                  executed at the receiver.
                type: string
              version:
                type: string
                description: Version of transaction protocol being used by the sender.
              bap_id:
                description: Subscriber ID of the BAP
                allOf:
                  - &ref_253
                    description: >-
                      A globally unique identifier of the platform, Typically it
                      is the fully qualified domain name (FQDN) of the platform.
                    type: string
              bap_uri:
                description: Subscriber URL of the BAP for accepting callbacks from BPPs.
                allOf:
                  - &ref_254
                    description: >-
                      The callback URL of the Subscriber. This should
                      necessarily contain the same domain name as set in
                      `subscriber_id``.
                    type: string
                    format: uri
              bpp_id:
                description: Subscriber ID of the BPP
                allOf:
                  - *ref_253
              bpp_uri:
                description: Subscriber URL of the BPP for accepting calls from BAPs.
                allOf:
                  - *ref_254
              transaction_id:
                description: >-
                  This is a unique value which persists across all API calls
                  from `search` through `confirm`. This is done to indicate an
                  active user session across multiple requests. The BPPs can use
                  this value to push personalized recommendations, and dynamic
                  offerings related to an ongoing transaction despite being
                  unaware of the user active on the BAP.
                type: string
                format: uuid
              message_id:
                description: >-
                  This is a unique value which persists during a request /
                  callback cycle. Since beckn protocol APIs are asynchronous,
                  BAPs need a common value to match an incoming callback from a
                  BPP to an earlier call. This value can also be used to ignore
                  duplicate messages coming from the BPP. It is recommended to
                  generate a fresh message_id for every new interaction. When
                  sending unsolicited callbacks, BPPs must generate a new
                  message_id.
                type: string
                format: uuid
              timestamp:
                description: Time of request generation in RFC3339 format
                type: string
                format: date-time
              key:
                description: The encryption public key of the sender
                type: string
              ttl:
                description: >-
                  The duration in ISO8601 format after timestamp for which this
                  message holds valid
                type: string
          - type: object
            properties:
              action:
                enum:
                  - on_confirm
            required:
              - action
      message:
        type: object
        properties:
          order:
            description: >-
              Describes a legal purchase order. It contains the complete details
              of the legal contract created between the buyer and the seller.
            type: object
            additionalProperties: false
            properties:
              id:
                type: string
                description: >-
                  Human-readable ID of the order. This is generated at the BPP
                  layer. The BPP can either generate order id within its system
                  or forward the order ID created at the provider level.
              ref_order_ids:
                description: A list of order IDs to link this order to previous orders.
                type: array
                items:
                  type: string
                  description: ID of a previous order
              status:
                description: >-
                  Status of the order. Allowed values can be defined by the
                  network policy
                type: string
              type:
                description: >-
                  This is used to indicate the type of order being created to
                  BPPs. Sometimes orders can be linked to previous orders, like
                  a replacement order in a retail domain. A follow-up
                  consultation in healthcare domain. A single order part of a
                  subscription order. The list of order types can be
                  standardized at the network level.
                type: string
                default: DEFAULT
                enum:
                  - DRAFT
                  - DEFAULT
              provider:
                description: >-
                  Details of the provider whose catalog items have been
                  selected.
                allOf:
                  - description: Describes the catalog of a business.
                    type: object
                    properties:
                      id:
                        type: string
                        description: Id of the provider
                      descriptor: *ref_255
                      category_id:
                        type: string
                        description: Category Id of the provider at the BPP-level catalog
                      rating: *ref_256
                      time: &ref_259
                        description: >-
                          Describes time in its various forms. It can be a
                          single point in time; duration; or a structured
                          timetable of operations<br>This has properties like
                          label, time stamp,duration,range, days, schedule
                        type: object
                        additionalProperties: false
                        properties:
                          label:
                            type: string
                          timestamp:
                            type: string
                            format: date-time
                          duration: &ref_257
                            description: Describes duration as per ISO8601 format
                            type: string
                          range:
                            type: object
                            properties:
                              start:
                                type: string
                                format: date-time
                              end:
                                type: string
                                format: date-time
                          days:
                            type: string
                            description: >-
                              comma separated values representing days of the
                              week
                          schedule:
                            description: >-
                              Describes schedule as a repeating time period used
                              to describe a regularly recurring event. At a
                              minimum a schedule will specify frequency which
                              describes the interval between occurrences of the
                              event. Additional information can be provided to
                              specify the schedule more precisely. This includes
                              identifying the timestamps(s) of when the event
                              will take place. Schedules may also have holidays
                              to exclude a specific day from the
                              schedule.<br>This has properties like frequency,
                              holidays, times
                            type: object
                            additionalProperties: false
                            properties:
                              frequency: *ref_257
                              holidays:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                              times:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                      categories:
                        type: array
                        items:
                          description: >-
                            A label under which a collection of items can be
                            grouped.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_258
                              description: ID of the category
                              type: string
                            parent_category_id: *ref_258
                            descriptor: *ref_255
                            time: *ref_259
                            ttl:
                              description: Time to live for an instance of this schema
                            tags:
                              type: array
                              items: &ref_261
                                description: >-
                                  A collection of tag objects with group level
                                  attributes. For detailed documentation on the
                                  Tags and Tag Groups schema go to
                                  https://github.com/beckn/protocol-specifications/discussions/316
                                type: object
                                additionalProperties: false
                                properties:
                                  display:
                                    description: >-
                                      Indicates the display properties of the
                                      tag group. If display is set to false,
                                      then the group will not be displayed. If
                                      it is set to true, it should be displayed.
                                      However, group-level display properties
                                      can be overriden by individual tag-level
                                      display property. As this schema is purely
                                      for catalog display purposes, it is not
                                      recommended to send this value during
                                      search.
                                    type: boolean
                                    default: true
                                  descriptor:
                                    description: >-
                                      Description of the TagGroup, can be used
                                      to store detailed information.
                                    allOf:
                                      - *ref_255
                                  list:
                                    description: >-
                                      An array of Tag objects listed under this
                                      group. This property can be set by BAPs
                                      during search to narrow the `search` and
                                      achieve more relevant results. When
                                      received during `on_search`, BAPs must
                                      render this list under the heading
                                      described by the `name` property of this
                                      schema.
                                    type: array
                                    items:
                                      description: >-
                                        Describes a tag. This is used to contain
                                        extended metadata. This object can be
                                        added as a property to any schema to
                                        describe extended attributes. For BAPs,
                                        tags can be sent during search to
                                        optimize and filter search results. BPPs
                                        can use tags to index their catalog to
                                        allow better search functionality. Tags
                                        are sent by the BPP as part of the
                                        catalog response in the `on_search`
                                        callback. Tags are also meant for
                                        display purposes. Upon receiving a tag,
                                        BAPs are meant to render them as
                                        name-value pairs. This is particularly
                                        useful when rendering tabular
                                        information about a product or service.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor:
                                          description: >-
                                            Description of the Tag, can be used to
                                            store detailed information.
                                          allOf:
                                            - *ref_255
                                        value:
                                          description: >-
                                            The value of the tag. This set by the
                                            BPP and rendered as-is by the BAP.
                                          type: string
                                        display:
                                          description: >-
                                            This value indicates if the tag is
                                            intended for display purposes. If set to
                                            `true`, then this tag must be displayed.
                                            If it is set to `false`, it should not
                                            be displayed. This value can override
                                            the group display value.
                                          type: boolean
                      fulfillments:
                        type: array
                        items: &ref_282
                          description: >-
                            Describes how a an order will be rendered/fulfilled
                            to the end-customer
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_273
                              description: >-
                                Unique reference ID to the fulfillment of an
                                order
                              type: string
                            type:
                              description: >-
                                A code that describes the mode of fulfillment.
                                This is typically set when there are multiple
                                ways an order can be fulfilled. For example, a
                                retail order can be fulfilled either via store
                                pickup or a home delivery. Similarly, a medical
                                consultation can be provided either in-person or
                                via tele-consultation. The network policy must
                                publish standard fulfillment type codes for the
                                different modes of fulfillment.
                              type: string
                            rateable:
                              description: Whether the fulfillment can be rated or not
                              type: boolean
                            rating:
                              description: The rating value of the fulfullment service.
                              allOf:
                                - *ref_256
                            state:
                              description: >-
                                The current state of fulfillment. The BPP must
                                set this value whenever the state of the order
                                fulfillment changes and fire an unsolicited
                                `on_status` call.
                              allOf:
                                - &ref_276
                                  description: Describes the state of fulfillment
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    descriptor: *ref_255
                                    updated_at:
                                      type: string
                                      format: date-time
                                    updated_by:
                                      type: string
                                      description: ID of entity which changed the state
                            tracking:
                              type: boolean
                              description: >-
                                Indicates whether the fulfillment allows
                                tracking
                              default: false
                            customer:
                              description: >-
                                The person that will ultimately receive the
                                order
                              allOf:
                                - description: >-
                                    Describes a customer buying/availing a
                                    product or a service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: &ref_262
                                      description: Describes a person as any individual
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          type: string
                                          description: Describes the identity of the person
                                        url:
                                          description: Profile url of the person
                                          type: string
                                          format: uri
                                        name:
                                          description: the name of the person
                                          type: string
                                        image: *ref_260
                                        age:
                                          description: Age of the person
                                          allOf:
                                            - *ref_257
                                        dob:
                                          description: Date of birth of the person
                                          type: string
                                          format: date
                                        gender:
                                          type: string
                                          description: >-
                                            Gender of something, typically a Person,
                                            but possibly also fictional characters,
                                            animals, etc. While Male and Female may
                                            be used, text strings are also
                                            acceptable for people who do not
                                            identify as a binary gender.Allowed
                                            values for this field can be published
                                            in the network policy
                                        creds:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a credential of an entity -
                                              Person or Organization
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              id:
                                                type: string
                                              type:
                                                type: string
                                                default: VerifiableCredential
                                              url:
                                                description: URL of the credential
                                                type: string
                                                format: uri
                                        languages:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a language known to the
                                              person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        skills:
                                          type: array
                                          items:
                                            description: Describes a skill of the person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        tags:
                                          type: array
                                          items: *ref_261
                                    contact: &ref_263
                                      description: >-
                                        Describes the contact information of an
                                        entity
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        phone:
                                          type: string
                                        email:
                                          type: string
                                        jcard:
                                          type: object
                                          description: >-
                                            A Jcard object as per
                                            draft-ietf-jcardcal-jcard-03
                                            specification
                            agent:
                              description: >-
                                The agent that is currently handling the
                                fulfillment of the order
                              allOf:
                                - description: >-
                                    Describes the direct performer, driver or
                                    executor that fulfills an order. It is
                                    usually a person. But in some rare cases, it
                                    could be a non-living entity like a drone,
                                    or a bot. Some examples of agents are Doctor
                                    in the healthcare sector, a driver in the
                                    mobility sector, or a delivery person in the
                                    logistics sector. This object can be set at
                                    any stage of the order lifecycle. This can
                                    be set at the discovery stage when the BPP
                                    wants to provide details on the agent
                                    fulfilling the order, like in healthcare,
                                    where the doctor's name appears during
                                    search. This object can also used to search
                                    for a particular person that the customer
                                    wants fulfilling an order. Sometimes, this
                                    object gets instantiated after the order is
                                    confirmed, like in the case of on-demand
                                    taxis, where the driver is assigned after
                                    the user confirms the ride.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: *ref_262
                                    contact: *ref_263
                                    organization: &ref_271
                                      description: >-
                                        An organization. Usually a recognized
                                        business entity.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor: *ref_255
                                        address:
                                          description: The postal address of the organization
                                          allOf:
                                            - *ref_264
                                        state:
                                          description: >-
                                            The state where the organization's
                                            address is registered
                                          allOf:
                                            - *ref_265
                                        city:
                                          description: >-
                                            The city where the the organization's
                                            address is registered
                                          allOf:
                                            - *ref_266
                                        contact: *ref_263
                                    rating: *ref_256
                            contact: *ref_263
                            vehicle:
                              description: >-
                                Describes a vehicle is a device that is designed
                                or used to transport people or cargo over land,
                                water, air, or through space.<br>This has
                                properties like category, capacity, make, model,
                                size,variant,color,energy_type,registration
                              type: object
                              additionalProperties: false
                              properties:
                                category:
                                  type: string
                                capacity:
                                  type: integer
                                make:
                                  type: string
                                model:
                                  type: string
                                size:
                                  type: string
                                variant:
                                  type: string
                                color:
                                  type: string
                                energy_type:
                                  type: string
                                registration:
                                  type: string
                                wheels_count:
                                  type: string
                                cargo_volumne:
                                  type: string
                                wheelchair_access:
                                  type: string
                                code:
                                  type: string
                                emission_standard:
                                  type: string
                            stops:
                              description: >-
                                The list of logical stops encountered during the
                                fulfillment of an order.
                              type: array
                              items:
                                description: >-
                                  A logical point in space and time during the
                                  fulfillment of an order.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    type: string
                                  parent_stop_id:
                                    type: string
                                  location:
                                    description: Location of the stop
                                    allOf:
                                      - *ref_267
                                  type:
                                    description: >-
                                      The type of stop. Allowed values of this
                                      property can be defined by the network
                                      policy.
                                    type: string
                                  time:
                                    description: Timings applicable at the stop.
                                    allOf:
                                      - *ref_259
                                  instructions:
                                    description: >-
                                      Instructions that need to be followed at
                                      the stop
                                    allOf:
                                      - *ref_255
                                  contact:
                                    description: Contact details of the stop
                                    allOf:
                                      - *ref_263
                                  person:
                                    description: >-
                                      The details of the person present at the
                                      stop
                                    allOf:
                                      - *ref_262
                                  authorization:
                                    description: >-
                                      Describes an authorization mechanism used
                                      to start or end the fulfillment of an
                                      order. For example, in the mobility
                                      sector, the driver may require a one-time
                                      password to initiate the ride. In the
                                      healthcare sector, a patient may need to
                                      provide a password to open a video
                                      conference link during a teleconsultation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      type:
                                        description: >-
                                          Type of authorization mechanism used.
                                          The allowed values for this field can be
                                          published as part of the network policy.
                                        type: string
                                      token:
                                        description: >-
                                          Token used for authorization. This is
                                          typically generated at the BPP. The BAP
                                          can send this value to the user via any
                                          channel that it uses to authenticate the
                                          user like SMS, Email, Push notification,
                                          or in-app rendering.
                                        type: string
                                      valid_from:
                                        description: >-
                                          Timestamp in RFC3339 format from which
                                          token is valid
                                        type: string
                                        format: date-time
                                      valid_to:
                                        description: >-
                                          Timestamp in RFC3339 format until which
                                          token is valid
                                        type: string
                                        format: date-time
                                      status:
                                        description: Status of the token
                                        type: string
                            path:
                              description: >-
                                The physical path taken by the agent that can be
                                rendered on a map. The allowed format of this
                                property can be set by the network.
                              type: string
                            tags:
                              type: array
                              items: *ref_261
                      payments:
                        type: array
                        items: &ref_287
                          description: >-
                            Describes the terms of settlement between the BAP
                            and the BPP for a single transaction. When
                            instantiated, this object contains <ol><li>the
                            amount that has to be settled,</li><li>The payment
                            destination destination details</li><li>When the
                            settlement should happen, and</li><li>A transaction
                            reference ID</li></ol>. During a transaction, the
                            BPP reserves the right to decide the terms of
                            payment. However, the BAP can send its terms to the
                            BPP first. If the BPP does not agree to those terms,
                            it must overwrite the terms and return them to the
                            BAP. If overridden, the BAP must either agree to the
                            terms sent by the BPP in order to preserve the
                            provider's autonomy, or abort the transaction. In
                            case of such disagreements, the BAP and the BPP can
                            perform offline negotiations on the payment terms.
                            Once an agreement is reached, the BAP and BPP can
                            resume transactions.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_274
                              description: >-
                                ID of the payment term that can be referred at
                                an item or an order level in a catalog
                              type: string
                            collected_by:
                              description: >-
                                This field indicates who is the collector of
                                payment. The BAP can set this value to 'bap' if
                                it wants to collect the payment first and 
                                settle it to the BPP. If the BPP agrees to those
                                terms, the BPP should not send the payment url.
                                Alternatively, the BPP can set this field with
                                the value 'bpp' if it wants the payment to be
                                made directly.
                              type: string
                            url:
                              type: string
                              description: >-
                                A payment url to be called by the BAP. If empty,
                                then the payment is to be done offline. The
                                details of payment should be present in the
                                params object. If tl_method = http/get, then the
                                payment details will be sent as url params. Two
                                url param values, ```$transaction_id``` and
                                ```$amount``` are mandatory.
                              format: uri
                            tl_method:
                              type: string
                            params:
                              type: object
                              properties:
                                transaction_id:
                                  type: string
                                  description: >-
                                    The reference transaction ID associated with
                                    a payment activity
                                amount:
                                  type: string
                                currency:
                                  type: string
                                bank_code:
                                  type: string
                                bank_account_number:
                                  type: string
                                virtual_payment_address:
                                  type: string
                                source_bank_code:
                                  type: string
                                source_bank_account_number:
                                  type: string
                                source_virtual_payment_address:
                                  type: string
                            type:
                              type: string
                              enum:
                                - PRE-ORDER
                                - PRE-FULFILLMENT
                                - ON-FULFILLMENT
                                - POST-FULFILLMENT
                                - ON-ORDER
                            status:
                              type: string
                              enum:
                                - PAID
                                - NOT-PAID
                            time: *ref_259
                            tags:
                              type: array
                              items: *ref_261
                      locations:
                        type: array
                        items: *ref_267
                      offers:
                        type: array
                        items: &ref_281
                          description: >-
                            An offer associated with a catalog. This is
                            typically used to promote a particular product and
                            enable more purchases.
                          type: object
                          additionalProperties: false
                          properties:
                            id:
                              type: string
                            descriptor: *ref_255
                            location_ids:
                              type: array
                              items: *ref_268
                            category_ids:
                              type: array
                              items: *ref_258
                            item_ids:
                              type: array
                              items: &ref_269
                                description: ID of the item.
                                type: string
                            time: *ref_259
                            tags:
                              type: array
                              items: *ref_261
                      items:
                        type: array
                        items: &ref_279
                          description: >-
                            Describes a product or a service offered to the end
                            consumer by the provider. In the mobility sector, it
                            can represent a fare product like one way journey.
                            In the logistics sector, it can represent the
                            delivery service offering. In the retail domain it
                            can represent a product like a grocery item.
                          type: object
                          additionalProperties: false
                          properties:
                            id: *ref_269
                            parent_item_id:
                              description: ID of the item, this item is a variant of
                              allOf:
                                - *ref_269
                            parent_item_quantity:
                              description: >-
                                The number of units of the parent item this item
                                is a multiple of
                              allOf:
                                - &ref_272
                                  description: Describes the count or amount of an item
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    allocated:
                                      description: >-
                                        This represents the exact quantity
                                        allocated for purchase of the item.
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_270
                                    available:
                                      description: >-
                                        This represents the exact quantity
                                        available for purchase of the item. The
                                        buyer can only purchase multiples of
                                        this
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_270
                                    maximum:
                                      description: >-
                                        This represents the maximum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                        measure: *ref_270
                                    minimum:
                                      description: >-
                                        This represents the minimum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_270
                                    selected:
                                      description: >-
                                        This represents the quantity selected
                                        for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_270
                                    unitized:
                                      description: >-
                                        This represents the quantity available
                                        in a single unit of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                          maximum: 1
                                        measure: *ref_270
                            descriptor:
                              description: Physical description of the item
                              allOf:
                                - *ref_255
                            creator:
                              description: The creator of this item
                              allOf:
                                - *ref_271
                            price:
                              description: >-
                                The price of this item, if it has intrinsic
                                value
                              allOf:
                                - &ref_275
                                  description: Describes the price of a product or service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    currency:
                                      type: string
                                    value: *ref_252
                                    estimated_value: *ref_252
                                    computed_value: *ref_252
                                    listed_value: *ref_252
                                    offered_value: *ref_252
                                    minimum_value: *ref_252
                                    maximum_value: *ref_252
                            quantity:
                              description: The selling quantity of the item
                              allOf:
                                - *ref_272
                            category_ids:
                              description: Categories this item can be listed under
                              type: array
                              items:
                                allOf:
                                  - *ref_258
                            fulfillment_ids:
                              description: Modes through which this item can be fulfilled
                              type: array
                              items:
                                allOf:
                                  - *ref_273
                            location_ids:
                              description: Provider Locations this item is available in
                              type: array
                              items:
                                allOf:
                                  - *ref_268
                            payment_ids:
                              description: >-
                                Payment modalities through which this item can
                                be ordered
                              type: array
                              items:
                                allOf:
                                  - *ref_274
                            add_ons:
                              type: array
                              items: &ref_280
                                description: >-
                                  Describes an additional item offered as a
                                  value-addition to a product or service. This
                                  does not exist independently in a catalog and
                                  is always associated with an item.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    description: Provider-defined ID of the add-on
                                    type: string
                                  descriptor: *ref_255
                                  price: *ref_275
                                  quantity: *ref_272
                            cancellation_terms:
                              description: Cancellation terms of this item
                              type: array
                              items: &ref_283
                                description: >-
                                  Describes the cancellation terms of an item or
                                  an order. This can be referenced at an item or
                                  order level. Item-level cancellation terms can
                                  override the terms at the order level.
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_276
                                  reason_required:
                                    description: >-
                                      Indicates whether a reason is required to
                                      cancel the order
                                    type: boolean
                                  cancel_by:
                                    description: >-
                                      Information related to the time of
                                      cancellation.
                                    allOf:
                                      - *ref_259
                                  cancellation_fee:
                                    description: A fee applied on a particular entity
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      percentage:
                                        description: Percentage of a value
                                        allOf:
                                          - *ref_252
                                      amount:
                                        description: A fixed value
                                        allOf:
                                          - *ref_275
                                  xinput: &ref_278
                                    description: >-
                                      Contains any additional or extended inputs
                                      required to confirm an order. This is
                                      typically a Form Input. Sometimes,
                                      selection of catalog elements is not
                                      enough for the BPP to confirm an order.
                                      For example, to confirm a flight ticket,
                                      the airline requires details of the
                                      passengers along with information on
                                      baggage, identity, in addition to the
                                      class of ticket. Similarly, a logistics
                                      company may require details on the nature
                                      of shipment in order to confirm the
                                      shipping. A recruiting firm may require
                                      additional details on the applicant in
                                      order to confirm a job application. For
                                      all such purposes, the BPP can choose to
                                      send this object attached to any object in
                                      the catalog that is required to be sent
                                      while placing the order. This object can
                                      typically be sent at an item level or at
                                      the order level. The item level XInput
                                      will override the Order level XInput as it
                                      indicates a special requirement of
                                      information for that particular item.
                                      Hence the BAP must render a separate form
                                      for the Item and another form at the Order
                                      level before confirmation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      form:
                                        description: Describes a form
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          url:
                                            description: >-
                                              The URL from where the form can be
                                              fetched. The content fetched from the
                                              url must be processed as per the
                                              mime_type specified in this object. Once
                                              fetched, the rendering platform can
                                              choosed to render the form as-is as an
                                              embeddable element; or process it
                                              further to blend with the theme of the
                                              application. In case the interface is
                                              non-visual, the the render can process
                                              the form data and reproduce it as per
                                              the standard specified in the form.
                                            type: string
                                            format: uri
                                          data:
                                            description: The form submission data
                                            type: object
                                            additionalProperties:
                                              type: string
                                          mime_type:
                                            description: >-
                                              This field indicates the nature and
                                              format of the form received by querying
                                              the url. MIME types are defined and
                                              standardized in IETF's RFC 6838.
                                            type: string
                                            enum:
                                              - text/html
                                              - application/xml
                                          submission_id:
                                            type: string
                                            format: uuid
                                      required:
                                        description: >-
                                          Indicates whether the form data is
                                          mandatorily required by the BPP to
                                          confirm the order.
                                        type: boolean
                                  external_ref: *ref_277
                            refund_terms:
                              description: Refund terms of this item
                              type: array
                              items: &ref_284
                                description: Refund term of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_265
                                  refund_eligible:
                                    description: >-
                                      Indicates if cancellation will result in a
                                      refund
                                    type: boolean
                                  refund_within:
                                    description: >-
                                      Time within which refund will be processed
                                      after successful cancellation.
                                    allOf:
                                      - *ref_259
                                  refund_amount: *ref_275
                            replacement_terms:
                              description: >-
                                Terms that are applicable be met when this item
                                is replaced
                              type: array
                              items: &ref_285
                                description: The replacement policy of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_265
                                  replace_within:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to replace the item
                                      before a certain date-time, failing which
                                      they will not be eligible for replacement
                                    allOf:
                                      - *ref_259
                                  external_ref: *ref_277
                            return_terms:
                              description: >-
                                Terms that are applicable when this item is
                                returned
                              type: array
                              items: &ref_286
                                description: >-
                                  Describes the return policy of an item or an
                                  order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term IETF''s applicable.
                                    allOf:
                                      - *ref_265
                                  return_eligible:
                                    description: >-
                                      Indicates whether the item is eligible for
                                      return
                                    type: boolean
                                  return_time:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to return the item to
                                      the origin before a certain date-time,
                                      failing which they will not be eligible
                                      for refund.
                                    allOf:
                                      - *ref_259
                                  return_location:
                                    description: >-
                                      The location where the item or order must
                                      / will be returned to
                                    allOf:
                                      - *ref_267
                                  fulfillment_managed_by:
                                    description: The entity that will perform the return
                                    type: string
                                    enum:
                                      - CONSUMER
                                      - PROVIDER
                            xinput:
                              description: >-
                                Additional input required from the customer to
                                purchase / avail this item
                              allOf:
                                - *ref_278
                            time:
                              description: >-
                                Temporal attributes of this item. This property
                                is used when the item exists on the catalog only
                                for a limited period of time.
                              allOf:
                                - *ref_259
                            rateable:
                              description: Whether this item can be rated
                              type: boolean
                            rating:
                              description: The rating of the item
                              allOf:
                                - *ref_256
                            matched:
                              description: >-
                                Whether this item is an exact match of the
                                request
                              type: boolean
                            related:
                              description: >-
                                Whether this item is a related item to the
                                exactly matched item
                              type: boolean
                            recommended:
                              description: >-
                                Whether this item is a recommended item to a
                                response
                              type: boolean
                            ttl:
                              description: >-
                                Time to live in seconds for an instance of this
                                schema
                              type: string
                            tags:
                              type: array
                              items: *ref_261
                      exp:
                        type: string
                        description: Time after which catalog has to be refreshed
                        format: date-time
                      rateable:
                        description: Whether this provider can be rated or not
                        type: boolean
                      ttl:
                        description: >-
                          The time-to-live in seconds, for this object. This can
                          be overriden at deeper levels. A value of -1 indicates
                          that this object is not cacheable.
                        type: string
                      tags:
                        type: array
                        items: *ref_261
              items:
                description: The items purchased / availed in this order
                type: array
                items: *ref_279
              add_ons:
                description: The add-ons purchased / availed in this order
                type: array
                items: *ref_280
              offers:
                description: The offers applied in this order
                type: array
                items: *ref_281
              billing:
                description: The billing details of this order
                allOf:
                  - description: >-
                      Describes the billing details of an entity.<br>This has
                      properties like
                      name,organization,address,email,phone,time,tax_number,
                      created_at,updated_at
                    type: object
                    additionalProperties: false
                    properties:
                      name:
                        description: Name of the billable entity
                        type: string
                      organization:
                        description: Details of the organization being billed.
                        allOf:
                          - *ref_271
                      address:
                        description: The address of the billable entity
                        allOf:
                          - *ref_264
                      state:
                        description: >-
                          The state where the billable entity resides. This is
                          important for state-level tax calculation
                        allOf:
                          - *ref_265
                      city:
                        description: The city where the billable entity resides.
                        allOf:
                          - *ref_266
                      email:
                        description: Email address where the bill is sent to
                        type: string
                        format: email
                      phone:
                        description: Phone number of the billable entity
                        type: string
                      time:
                        description: Details regarding the billing period
                        allOf:
                          - *ref_259
                      tax_id:
                        description: >-
                          ID of the billable entity as recognized by the
                          taxation authority
                        type: string
              fulfillments:
                description: The fulfillments involved in completing this order
                type: array
                items: *ref_282
              cancellation:
                description: The cancellation details of this order
                allOf:
                  - description: Describes a cancellation event
                    type: object
                    additionalProperties: false
                    properties:
                      time:
                        description: Date-time when the order was cancelled by the buyer
                        type: string
                        format: date-time
                      cancelled_by:
                        type: string
                        enum:
                          - CONSUMER
                          - PROVIDER
                      reason:
                        description: The reason for cancellation
                        allOf:
                          - description: Describes a selectable option
                            type: object
                            additionalProperties: false
                            properties:
                              id:
                                type: string
                              descriptor: *ref_255
                      additional_description:
                        description: >-
                          Any additional information regarding the nature of
                          cancellation
                        allOf:
                          - *ref_255
              cancellation_terms:
                description: Cancellation terms of this item
                type: array
                items: *ref_283
              documents:
                type: array
                items:
                  description: Documnents associated to the order
                  type: object
                  additionalProperties: false
                  properties:
                    descriptor: *ref_255
                    mime_type:
                      description: >-
                        This field indicates the nature and format of the form
                        received by querying the url. MIME types are defined and
                        standardized in IETF's RFC 6838.
                      type: string
                      enum:
                        - text/html
                        - application/html
                        - application/xml
                        - application/pdf
                    url:
                      description: >-
                        The URL from where the form can be fetched. The content
                        fetched from the url must be processed as per the
                        mime_type specified in this object.
                      type: string
                      format: uri
              refund_terms:
                description: Refund terms of this item
                type: array
                items: *ref_284
              replacement_terms:
                description: Replacement terms of this item
                type: array
                items: *ref_285
              return_terms:
                description: Return terms of this item
                type: array
                items: *ref_286
              quote:
                description: The mutually agreed upon quotation for this order.
                allOf:
                  - description: >-
                      Describes a quote. It is the estimated price of products
                      or services from the BPP.<br>This has properties like
                      price, breakup, ttl
                    type: object
                    additionalProperties: false
                    properties:
                      id:
                        description: ID of the quote.
                        type: string
                        format: uuid
                      price:
                        description: The total quoted price
                        allOf:
                          - *ref_275
                      breakup:
                        description: the breakup of the total quoted price
                        type: array
                        items:
                          type: object
                          properties:
                            item: *ref_279
                            title:
                              type: string
                            price: *ref_275
                      ttl: *ref_257
              payments:
                description: The terms of settlement for this order
                type: array
                items: *ref_287
              created_at:
                description: The date-time of creation of this order
                type: string
                format: date-time
              updated_at:
                description: The date-time of updated of this order
                type: string
                format: date-time
              xinput:
                description: >-
                  Additional input required from the customer to confirm this
                  order
                allOf:
                  - *ref_278
              tags:
                type: array
                items: *ref_261
        required:
          - order
      error:
        description: >-
          Describes an error object that is returned by a BAP, BPP or BG as a
          response or callback to an action by another network participant. This
          object is sent when any request received by a network participant is
          unacceptable. This object can be sent either during Ack or with the
          callback.
        type: object
        additionalProperties: false
        properties:
          code:
            type: string
            description: >-
              Standard error code. For full list of error codes, refer to
              docs/protocol-drafts/BECKN-005-ERROR-CODES-DRAFT-01.md of this
              repo"
          paths:
            type: string
            description: >-
              Path to json schema generating the error. Used only during json
              schema validation errors
          message:
            type: string
            description: >-
              Human readable message describing the error. Used mainly for
              logging. Not recommended to be shown to the user.
    required:
      - context
  update:
    type: object
    properties:
      context:
        allOf:
          - description: >-
              Every API call in beckn protocol has a context. It provides a
              high-level overview to the receiver about the nature of the
              intended transaction. Typically, it is the BAP that sets the
              transaction context based on the consumer's location and action on
              their UI. But sometimes, during unsolicited callbacks, the BPP
              also sets the transaction context but it is usually the same as
              the context of a previous full-cycle, request-callback interaction
              between the BAP and the BPP. The context object contains four
              types of fields. <ol><li>Demographic information about the
              transaction using fields like `domain`, `country`, and
              `region`.</li><li>Addressing details like the sending and
              receiving platform's ID and API URL.</li><li>Interoperability
              information like the protocol version that implemented by the
              sender and,</li><li>Transaction details like the method being
              called at the receiver's endpoint, the transaction_id that
              represents an end-to-end user session at the BAP, a message ID to
              pair requests with callbacks, a timestamp to capture sending
              times, a ttl to specifiy the validity of the request, and a key to
              encrypt information if necessary.</li></ol> This object must be
              passed in every interaction between a BAP and a BPP. In HTTP/S
              implementations, it is not necessary to send the context during
              the synchronous response. However, in asynchronous protocols, the
              context must be sent during all interactions,
            type: object
            additionalProperties: false
            properties:
              domain:
                description: Domain code that is relevant to this transaction context
                allOf:
                  - type: string
                    description: >-
                      Standard code representing the domain. The standard is
                      usually published as part of the network policy.
                      Furthermore, the network facilitator should also provide a
                      mechanism to provide the supported domains of a network.
              location:
                description: >-
                  The location where the transaction is intended to be
                  fulfilled.
                allOf:
                  - &ref_304
                    description: The physical location of something
                    type: object
                    additionalProperties: false
                    properties:
                      id: &ref_305
                        type: string
                      descriptor: &ref_292
                        description: Physical description of something.
                        type: object
                        additionalProperties: false
                        properties:
                          name:
                            type: string
                          code:
                            type: string
                          short_desc:
                            type: string
                          long_desc:
                            type: string
                          additional_desc:
                            type: object
                            properties:
                              url:
                                type: string
                              content_type:
                                type: string
                                enum:
                                  - text/plain
                                  - text/html
                                  - application/json
                          media:
                            type: array
                            items: &ref_314
                              description: This object contains a url to a media file.
                              type: object
                              additionalProperties: false
                              properties:
                                mimetype:
                                  description: >-
                                    indicates the nature and format of the
                                    document, file, or assortment of bytes. MIME
                                    types are defined and standardized in IETF's
                                    RFC 6838
                                  type: string
                                url:
                                  description: The URL of the file
                                  type: string
                                  format: uri
                                signature:
                                  description: >-
                                    The digital signature of the file signed by
                                    the sender
                                  type: string
                                dsa:
                                  description: The signing algorithm used by the sender
                                  type: string
                          images:
                            type: array
                            items: &ref_297
                              description: Describes an image
                              type: object
                              additionalProperties: false
                              properties:
                                url:
                                  description: >-
                                    URL to the image. This can be a data url or
                                    an remote url
                                  type: string
                                  format: uri
                                size_type:
                                  description: >-
                                    The size of the image. The network policy
                                    can define the default dimensions of each
                                    type
                                  type: string
                                  enum:
                                    - xs
                                    - sm
                                    - md
                                    - lg
                                    - xl
                                    - custom
                                width:
                                  description: Width of the image in pixels
                                  type: string
                                height:
                                  description: Height of the image in pixels
                                  type: string
                      map_url:
                        description: >-
                          The url to the map of the location. This can be a
                          globally recognized map url or the one specified by
                          the network policy.
                        type: string
                        format: uri
                      gps:
                        description: The GPS co-ordinates of this location.
                        allOf:
                          - &ref_288
                            description: Describes a GPS coordinate
                            type: string
                            pattern: >-
                              ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                      address:
                        description: The address of this location.
                        allOf:
                          - &ref_301
                            description: Describes a postal address.
                            type: string
                      city:
                        description: The city this location is, or is located within
                        allOf:
                          - &ref_303
                            description: Describes a city
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                description: Name of the city
                                type: string
                              code:
                                description: City code
                                type: string
                      district:
                        description: The state this location is, or is located within
                        type: string
                      state:
                        description: The state this location is, or is located within
                        allOf:
                          - &ref_302
                            description: >-
                              A bounded geopolitical region of governance inside
                              a country.
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the state
                              code:
                                type: string
                                description: >-
                                  State code as per country or international
                                  standards
                      country:
                        description: The country this location is, or is located within
                        allOf:
                          - description: Describes a country
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the country
                              code:
                                type: string
                                description: >-
                                  Country code as per ISO 3166-1 and ISO 3166-2
                                  format
                      area_code:
                        type: string
                      circle:
                        description: >-
                          Describes a circular region of a specified radius
                          centered at a specified GPS coordinate.
                        type: object
                        additionalProperties: false
                        properties:
                          gps: *ref_288
                          radius: &ref_307
                            description: Describes a scalar
                            type: object
                            additionalProperties: false
                            properties:
                              type:
                                type: string
                                enum:
                                  - CONSTANT
                                  - VARIABLE
                              value: &ref_289
                                description: Describes a numerical value in decimal form
                                type: string
                                pattern: '[+-]?([0-9]*[.])?[0-9]+'
                              estimated_value: *ref_289
                              computed_value: *ref_289
                              range:
                                type: object
                                properties:
                                  min: *ref_289
                                  max: *ref_289
                              unit:
                                type: string
                      polygon:
                        description: The boundary polygon of this location
                        type: string
                      3dspace:
                        description: The three dimensional region describing this location
                        type: string
                      rating:
                        description: The rating of this location
                        allOf:
                          - &ref_293
                            description: >-
                              Rating value given to the object. This can be a
                              single value or can also contain an inequality
                              operator like gt, gte, lt, lte. This can also
                              contain an inequality expression containing
                              logical operators like && and ||.
                            type: string
              action:
                description: >-
                  The Beckn protocol method being called by the sender and
                  executed at the receiver.
                type: string
              version:
                type: string
                description: Version of transaction protocol being used by the sender.
              bap_id:
                description: Subscriber ID of the BAP
                allOf:
                  - &ref_290
                    description: >-
                      A globally unique identifier of the platform, Typically it
                      is the fully qualified domain name (FQDN) of the platform.
                    type: string
              bap_uri:
                description: Subscriber URL of the BAP for accepting callbacks from BPPs.
                allOf:
                  - &ref_291
                    description: >-
                      The callback URL of the Subscriber. This should
                      necessarily contain the same domain name as set in
                      `subscriber_id``.
                    type: string
                    format: uri
              bpp_id:
                description: Subscriber ID of the BPP
                allOf:
                  - *ref_290
              bpp_uri:
                description: Subscriber URL of the BPP for accepting calls from BAPs.
                allOf:
                  - *ref_291
              transaction_id:
                description: >-
                  This is a unique value which persists across all API calls
                  from `search` through `confirm`. This is done to indicate an
                  active user session across multiple requests. The BPPs can use
                  this value to push personalized recommendations, and dynamic
                  offerings related to an ongoing transaction despite being
                  unaware of the user active on the BAP.
                type: string
                format: uuid
              message_id:
                description: >-
                  This is a unique value which persists during a request /
                  callback cycle. Since beckn protocol APIs are asynchronous,
                  BAPs need a common value to match an incoming callback from a
                  BPP to an earlier call. This value can also be used to ignore
                  duplicate messages coming from the BPP. It is recommended to
                  generate a fresh message_id for every new interaction. When
                  sending unsolicited callbacks, BPPs must generate a new
                  message_id.
                type: string
                format: uuid
              timestamp:
                description: Time of request generation in RFC3339 format
                type: string
                format: date-time
              key:
                description: The encryption public key of the sender
                type: string
              ttl:
                description: >-
                  The duration in ISO8601 format after timestamp for which this
                  message holds valid
                type: string
          - type: object
            properties:
              action:
                enum:
                  - update
            required:
              - action
      message:
        type: object
        properties:
          update_target:
            description: >-
              Comma separated values of order objects being updated. For
              example: ```"update_target":"item,billing,fulfillment"```
            type: string
          order:
            description: Updated order object
            allOf:
              - description: >-
                  Describes a legal purchase order. It contains the complete
                  details of the legal contract created between the buyer and
                  the seller.
                type: object
                additionalProperties: false
                properties:
                  id:
                    type: string
                    description: >-
                      Human-readable ID of the order. This is generated at the
                      BPP layer. The BPP can either generate order id within its
                      system or forward the order ID created at the provider
                      level.
                  ref_order_ids:
                    description: A list of order IDs to link this order to previous orders.
                    type: array
                    items:
                      type: string
                      description: ID of a previous order
                  status:
                    description: >-
                      Status of the order. Allowed values can be defined by the
                      network policy
                    type: string
                  type:
                    description: >-
                      This is used to indicate the type of order being created
                      to BPPs. Sometimes orders can be linked to previous
                      orders, like a replacement order in a retail domain. A
                      follow-up consultation in healthcare domain. A single
                      order part of a subscription order. The list of order
                      types can be standardized at the network level.
                    type: string
                    default: DEFAULT
                    enum:
                      - DRAFT
                      - DEFAULT
                  provider:
                    description: >-
                      Details of the provider whose catalog items have been
                      selected.
                    allOf:
                      - description: Describes the catalog of a business.
                        type: object
                        properties:
                          id:
                            type: string
                            description: Id of the provider
                          descriptor: *ref_292
                          category_id:
                            type: string
                            description: >-
                              Category Id of the provider at the BPP-level
                              catalog
                          rating: *ref_293
                          time: &ref_296
                            description: >-
                              Describes time in its various forms. It can be a
                              single point in time; duration; or a structured
                              timetable of operations<br>This has properties
                              like label, time stamp,duration,range, days,
                              schedule
                            type: object
                            additionalProperties: false
                            properties:
                              label:
                                type: string
                              timestamp:
                                type: string
                                format: date-time
                              duration: &ref_294
                                description: Describes duration as per ISO8601 format
                                type: string
                              range:
                                type: object
                                properties:
                                  start:
                                    type: string
                                    format: date-time
                                  end:
                                    type: string
                                    format: date-time
                              days:
                                type: string
                                description: >-
                                  comma separated values representing days of
                                  the week
                              schedule:
                                description: >-
                                  Describes schedule as a repeating time period
                                  used to describe a regularly recurring event.
                                  At a minimum a schedule will specify frequency
                                  which describes the interval between
                                  occurrences of the event. Additional
                                  information can be provided to specify the
                                  schedule more precisely. This includes
                                  identifying the timestamps(s) of when the
                                  event will take place. Schedules may also have
                                  holidays to exclude a specific day from the
                                  schedule.<br>This has properties like
                                  frequency, holidays, times
                                type: object
                                additionalProperties: false
                                properties:
                                  frequency: *ref_294
                                  holidays:
                                    type: array
                                    items:
                                      type: string
                                      format: date-time
                                  times:
                                    type: array
                                    items:
                                      type: string
                                      format: date-time
                          categories:
                            type: array
                            items:
                              description: >-
                                A label under which a collection of items can be
                                grouped.
                              type: object
                              additionalProperties: false
                              properties:
                                id: &ref_295
                                  description: ID of the category
                                  type: string
                                parent_category_id: *ref_295
                                descriptor: *ref_292
                                time: *ref_296
                                ttl:
                                  description: Time to live for an instance of this schema
                                tags:
                                  type: array
                                  items: &ref_298
                                    description: >-
                                      A collection of tag objects with group
                                      level attributes. For detailed
                                      documentation on the Tags and Tag Groups
                                      schema go to
                                      https://github.com/beckn/protocol-specifications/discussions/316
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      display:
                                        description: >-
                                          Indicates the display properties of the
                                          tag group. If display is set to false,
                                          then the group will not be displayed. If
                                          it is set to true, it should be
                                          displayed. However, group-level display
                                          properties can be overriden by
                                          individual tag-level display property.
                                          As this schema is purely for catalog
                                          display purposes, it is not recommended
                                          to send this value during search.
                                        type: boolean
                                        default: true
                                      descriptor:
                                        description: >-
                                          Description of the TagGroup, can be used
                                          to store detailed information.
                                        allOf:
                                          - *ref_292
                                      list:
                                        description: >-
                                          An array of Tag objects listed under
                                          this group. This property can be set by
                                          BAPs during search to narrow the
                                          `search` and achieve more relevant
                                          results. When received during
                                          `on_search`, BAPs must render this list
                                          under the heading described by the
                                          `name` property of this schema.
                                        type: array
                                        items:
                                          description: >-
                                            Describes a tag. This is used to contain
                                            extended metadata. This object can be
                                            added as a property to any schema to
                                            describe extended attributes. For BAPs,
                                            tags can be sent during search to
                                            optimize and filter search results. BPPs
                                            can use tags to index their catalog to
                                            allow better search functionality. Tags
                                            are sent by the BPP as part of the
                                            catalog response in the `on_search`
                                            callback. Tags are also meant for
                                            display purposes. Upon receiving a tag,
                                            BAPs are meant to render them as
                                            name-value pairs. This is particularly
                                            useful when rendering tabular
                                            information about a product or service.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            descriptor:
                                              description: >-
                                                Description of the Tag, can be used to
                                                store detailed information.
                                              allOf:
                                                - *ref_292
                                            value:
                                              description: >-
                                                The value of the tag. This set by the
                                                BPP and rendered as-is by the BAP.
                                              type: string
                                            display:
                                              description: >-
                                                This value indicates if the tag is
                                                intended for display purposes. If set to
                                                `true`, then this tag must be displayed.
                                                If it is set to `false`, it should not
                                                be displayed. This value can override
                                                the group display value.
                                              type: boolean
                          fulfillments:
                            type: array
                            items: &ref_319
                              description: >-
                                Describes how a an order will be
                                rendered/fulfilled to the end-customer
                              type: object
                              additionalProperties: false
                              properties:
                                id: &ref_310
                                  description: >-
                                    Unique reference ID to the fulfillment of an
                                    order
                                  type: string
                                type:
                                  description: >-
                                    A code that describes the mode of
                                    fulfillment. This is typically set when
                                    there are multiple ways an order can be
                                    fulfilled. For example, a retail order can
                                    be fulfilled either via store pickup or a
                                    home delivery. Similarly, a medical
                                    consultation can be provided either
                                    in-person or via tele-consultation. The
                                    network policy must publish standard
                                    fulfillment type codes for the different
                                    modes of fulfillment.
                                  type: string
                                rateable:
                                  description: Whether the fulfillment can be rated or not
                                  type: boolean
                                rating:
                                  description: The rating value of the fulfullment service.
                                  allOf:
                                    - *ref_293
                                state:
                                  description: >-
                                    The current state of fulfillment. The BPP
                                    must set this value whenever the state of
                                    the order fulfillment changes and fire an
                                    unsolicited `on_status` call.
                                  allOf:
                                    - &ref_313
                                      description: Describes the state of fulfillment
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor: *ref_292
                                        updated_at:
                                          type: string
                                          format: date-time
                                        updated_by:
                                          type: string
                                          description: ID of entity which changed the state
                                tracking:
                                  type: boolean
                                  description: >-
                                    Indicates whether the fulfillment allows
                                    tracking
                                  default: false
                                customer:
                                  description: >-
                                    The person that will ultimately receive the
                                    order
                                  allOf:
                                    - description: >-
                                        Describes a customer buying/availing a
                                        product or a service
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        person: &ref_299
                                          description: Describes a person as any individual
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            id:
                                              type: string
                                              description: Describes the identity of the person
                                            url:
                                              description: Profile url of the person
                                              type: string
                                              format: uri
                                            name:
                                              description: the name of the person
                                              type: string
                                            image: *ref_297
                                            age:
                                              description: Age of the person
                                              allOf:
                                                - *ref_294
                                            dob:
                                              description: Date of birth of the person
                                              type: string
                                              format: date
                                            gender:
                                              type: string
                                              description: >-
                                                Gender of something, typically a Person,
                                                but possibly also fictional characters,
                                                animals, etc. While Male and Female may
                                                be used, text strings are also
                                                acceptable for people who do not
                                                identify as a binary gender.Allowed
                                                values for this field can be published
                                                in the network policy
                                            creds:
                                              type: array
                                              items:
                                                description: >-
                                                  Describes a credential of an entity -
                                                  Person or Organization
                                                type: object
                                                additionalProperties: false
                                                properties:
                                                  id:
                                                    type: string
                                                  type:
                                                    type: string
                                                    default: VerifiableCredential
                                                  url:
                                                    description: URL of the credential
                                                    type: string
                                                    format: uri
                                            languages:
                                              type: array
                                              items:
                                                description: >-
                                                  Describes a language known to the
                                                  person.
                                                type: object
                                                additionalProperties: false
                                                properties:
                                                  code:
                                                    type: string
                                                  name:
                                                    type: string
                                            skills:
                                              type: array
                                              items:
                                                description: Describes a skill of the person.
                                                type: object
                                                additionalProperties: false
                                                properties:
                                                  code:
                                                    type: string
                                                  name:
                                                    type: string
                                            tags:
                                              type: array
                                              items: *ref_298
                                        contact: &ref_300
                                          description: >-
                                            Describes the contact information of an
                                            entity
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            phone:
                                              type: string
                                            email:
                                              type: string
                                            jcard:
                                              type: object
                                              description: >-
                                                A Jcard object as per
                                                draft-ietf-jcardcal-jcard-03
                                                specification
                                agent:
                                  description: >-
                                    The agent that is currently handling the
                                    fulfillment of the order
                                  allOf:
                                    - description: >-
                                        Describes the direct performer, driver
                                        or executor that fulfills an order. It
                                        is usually a person. But in some rare
                                        cases, it could be a non-living entity
                                        like a drone, or a bot. Some examples of
                                        agents are Doctor in the healthcare
                                        sector, a driver in the mobility sector,
                                        or a delivery person in the logistics
                                        sector. This object can be set at any
                                        stage of the order lifecycle. This can
                                        be set at the discovery stage when the
                                        BPP wants to provide details on the
                                        agent fulfilling the order, like in
                                        healthcare, where the doctor's name
                                        appears during search. This object can
                                        also used to search for a particular
                                        person that the customer wants
                                        fulfilling an order. Sometimes, this
                                        object gets instantiated after the order
                                        is confirmed, like in the case of
                                        on-demand taxis, where the driver is
                                        assigned after the user confirms the
                                        ride.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        person: *ref_299
                                        contact: *ref_300
                                        organization: &ref_308
                                          description: >-
                                            An organization. Usually a recognized
                                            business entity.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            descriptor: *ref_292
                                            address:
                                              description: The postal address of the organization
                                              allOf:
                                                - *ref_301
                                            state:
                                              description: >-
                                                The state where the organization's
                                                address is registered
                                              allOf:
                                                - *ref_302
                                            city:
                                              description: >-
                                                The city where the the organization's
                                                address is registered
                                              allOf:
                                                - *ref_303
                                            contact: *ref_300
                                        rating: *ref_293
                                contact: *ref_300
                                vehicle:
                                  description: >-
                                    Describes a vehicle is a device that is
                                    designed or used to transport people or
                                    cargo over land, water, air, or through
                                    space.<br>This has properties like category,
                                    capacity, make, model,
                                    size,variant,color,energy_type,registration
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    category:
                                      type: string
                                    capacity:
                                      type: integer
                                    make:
                                      type: string
                                    model:
                                      type: string
                                    size:
                                      type: string
                                    variant:
                                      type: string
                                    color:
                                      type: string
                                    energy_type:
                                      type: string
                                    registration:
                                      type: string
                                    wheels_count:
                                      type: string
                                    cargo_volumne:
                                      type: string
                                    wheelchair_access:
                                      type: string
                                    code:
                                      type: string
                                    emission_standard:
                                      type: string
                                stops:
                                  description: >-
                                    The list of logical stops encountered during
                                    the fulfillment of an order.
                                  type: array
                                  items:
                                    description: >-
                                      A logical point in space and time during
                                      the fulfillment of an order.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      id:
                                        type: string
                                      parent_stop_id:
                                        type: string
                                      location:
                                        description: Location of the stop
                                        allOf:
                                          - *ref_304
                                      type:
                                        description: >-
                                          The type of stop. Allowed values of this
                                          property can be defined by the network
                                          policy.
                                        type: string
                                      time:
                                        description: Timings applicable at the stop.
                                        allOf:
                                          - *ref_296
                                      instructions:
                                        description: >-
                                          Instructions that need to be followed at
                                          the stop
                                        allOf:
                                          - *ref_292
                                      contact:
                                        description: Contact details of the stop
                                        allOf:
                                          - *ref_300
                                      person:
                                        description: >-
                                          The details of the person present at the
                                          stop
                                        allOf:
                                          - *ref_299
                                      authorization:
                                        description: >-
                                          Describes an authorization mechanism
                                          used to start or end the fulfillment of
                                          an order. For example, in the mobility
                                          sector, the driver may require a
                                          one-time password to initiate the ride.
                                          In the healthcare sector, a patient may
                                          need to provide a password to open a
                                          video conference link during a
                                          teleconsultation.
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          type:
                                            description: >-
                                              Type of authorization mechanism used.
                                              The allowed values for this field can be
                                              published as part of the network policy.
                                            type: string
                                          token:
                                            description: >-
                                              Token used for authorization. This is
                                              typically generated at the BPP. The BAP
                                              can send this value to the user via any
                                              channel that it uses to authenticate the
                                              user like SMS, Email, Push notification,
                                              or in-app rendering.
                                            type: string
                                          valid_from:
                                            description: >-
                                              Timestamp in RFC3339 format from which
                                              token is valid
                                            type: string
                                            format: date-time
                                          valid_to:
                                            description: >-
                                              Timestamp in RFC3339 format until which
                                              token is valid
                                            type: string
                                            format: date-time
                                          status:
                                            description: Status of the token
                                            type: string
                                path:
                                  description: >-
                                    The physical path taken by the agent that
                                    can be rendered on a map. The allowed format
                                    of this property can be set by the network.
                                  type: string
                                tags:
                                  type: array
                                  items: *ref_298
                          payments:
                            type: array
                            items: &ref_324
                              description: >-
                                Describes the terms of settlement between the
                                BAP and the BPP for a single transaction. When
                                instantiated, this object contains <ol><li>the
                                amount that has to be settled,</li><li>The
                                payment destination destination
                                details</li><li>When the settlement should
                                happen, and</li><li>A transaction reference
                                ID</li></ol>. During a transaction, the BPP
                                reserves the right to decide the terms of
                                payment. However, the BAP can send its terms to
                                the BPP first. If the BPP does not agree to
                                those terms, it must overwrite the terms and
                                return them to the BAP. If overridden, the BAP
                                must either agree to the terms sent by the BPP
                                in order to preserve the provider's autonomy, or
                                abort the transaction. In case of such
                                disagreements, the BAP and the BPP can perform
                                offline negotiations on the payment terms. Once
                                an agreement is reached, the BAP and BPP can
                                resume transactions.
                              type: object
                              additionalProperties: false
                              properties:
                                id: &ref_311
                                  description: >-
                                    ID of the payment term that can be referred
                                    at an item or an order level in a catalog
                                  type: string
                                collected_by:
                                  description: >-
                                    This field indicates who is the collector of
                                    payment. The BAP can set this value to 'bap'
                                    if it wants to collect the payment first
                                    and  settle it to the BPP. If the BPP agrees
                                    to those terms, the BPP should not send the
                                    payment url. Alternatively, the BPP can set
                                    this field with the value 'bpp' if it wants
                                    the payment to be made directly.
                                  type: string
                                url:
                                  type: string
                                  description: >-
                                    A payment url to be called by the BAP. If
                                    empty, then the payment is to be done
                                    offline. The details of payment should be
                                    present in the params object. If tl_method =
                                    http/get, then the payment details will be
                                    sent as url params. Two url param values,
                                    ```$transaction_id``` and ```$amount``` are
                                    mandatory.
                                  format: uri
                                tl_method:
                                  type: string
                                params:
                                  type: object
                                  properties:
                                    transaction_id:
                                      type: string
                                      description: >-
                                        The reference transaction ID associated
                                        with a payment activity
                                    amount:
                                      type: string
                                    currency:
                                      type: string
                                    bank_code:
                                      type: string
                                    bank_account_number:
                                      type: string
                                    virtual_payment_address:
                                      type: string
                                    source_bank_code:
                                      type: string
                                    source_bank_account_number:
                                      type: string
                                    source_virtual_payment_address:
                                      type: string
                                type:
                                  type: string
                                  enum:
                                    - PRE-ORDER
                                    - PRE-FULFILLMENT
                                    - ON-FULFILLMENT
                                    - POST-FULFILLMENT
                                    - ON-ORDER
                                status:
                                  type: string
                                  enum:
                                    - PAID
                                    - NOT-PAID
                                time: *ref_296
                                tags:
                                  type: array
                                  items: *ref_298
                          locations:
                            type: array
                            items: *ref_304
                          offers:
                            type: array
                            items: &ref_318
                              description: >-
                                An offer associated with a catalog. This is
                                typically used to promote a particular product
                                and enable more purchases.
                              type: object
                              additionalProperties: false
                              properties:
                                id:
                                  type: string
                                descriptor: *ref_292
                                location_ids:
                                  type: array
                                  items: *ref_305
                                category_ids:
                                  type: array
                                  items: *ref_295
                                item_ids:
                                  type: array
                                  items: &ref_306
                                    description: ID of the item.
                                    type: string
                                time: *ref_296
                                tags:
                                  type: array
                                  items: *ref_298
                          items:
                            type: array
                            items: &ref_316
                              description: >-
                                Describes a product or a service offered to the
                                end consumer by the provider. In the mobility
                                sector, it can represent a fare product like one
                                way journey. In the logistics sector, it can
                                represent the delivery service offering. In the
                                retail domain it can represent a product like a
                                grocery item.
                              type: object
                              additionalProperties: false
                              properties:
                                id: *ref_306
                                parent_item_id:
                                  description: ID of the item, this item is a variant of
                                  allOf:
                                    - *ref_306
                                parent_item_quantity:
                                  description: >-
                                    The number of units of the parent item this
                                    item is a multiple of
                                  allOf:
                                    - &ref_309
                                      description: Describes the count or amount of an item
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        allocated:
                                          description: >-
                                            This represents the exact quantity
                                            allocated for purchase of the item.
                                          type: object
                                          properties:
                                            count:
                                              type: integer
                                              minimum: 0
                                            measure: *ref_307
                                        available:
                                          description: >-
                                            This represents the exact quantity
                                            available for purchase of the item. The
                                            buyer can only purchase multiples of
                                            this
                                          type: object
                                          properties:
                                            count:
                                              type: integer
                                              minimum: 0
                                            measure: *ref_307
                                        maximum:
                                          description: >-
                                            This represents the maximum quantity
                                            allowed for purchase of the item
                                          type: object
                                          properties:
                                            count:
                                              type: integer
                                              minimum: 1
                                            measure: *ref_307
                                        minimum:
                                          description: >-
                                            This represents the minimum quantity
                                            allowed for purchase of the item
                                          type: object
                                          properties:
                                            count:
                                              type: integer
                                              minimum: 0
                                            measure: *ref_307
                                        selected:
                                          description: >-
                                            This represents the quantity selected
                                            for purchase of the item
                                          type: object
                                          properties:
                                            count:
                                              type: integer
                                              minimum: 0
                                            measure: *ref_307
                                        unitized:
                                          description: >-
                                            This represents the quantity available
                                            in a single unit of the item
                                          type: object
                                          properties:
                                            count:
                                              type: integer
                                              minimum: 1
                                              maximum: 1
                                            measure: *ref_307
                                descriptor:
                                  description: Physical description of the item
                                  allOf:
                                    - *ref_292
                                creator:
                                  description: The creator of this item
                                  allOf:
                                    - *ref_308
                                price:
                                  description: >-
                                    The price of this item, if it has intrinsic
                                    value
                                  allOf:
                                    - &ref_312
                                      description: >-
                                        Describes the price of a product or
                                        service
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        currency:
                                          type: string
                                        value: *ref_289
                                        estimated_value: *ref_289
                                        computed_value: *ref_289
                                        listed_value: *ref_289
                                        offered_value: *ref_289
                                        minimum_value: *ref_289
                                        maximum_value: *ref_289
                                quantity:
                                  description: The selling quantity of the item
                                  allOf:
                                    - *ref_309
                                category_ids:
                                  description: Categories this item can be listed under
                                  type: array
                                  items:
                                    allOf:
                                      - *ref_295
                                fulfillment_ids:
                                  description: >-
                                    Modes through which this item can be
                                    fulfilled
                                  type: array
                                  items:
                                    allOf:
                                      - *ref_310
                                location_ids:
                                  description: Provider Locations this item is available in
                                  type: array
                                  items:
                                    allOf:
                                      - *ref_305
                                payment_ids:
                                  description: >-
                                    Payment modalities through which this item
                                    can be ordered
                                  type: array
                                  items:
                                    allOf:
                                      - *ref_311
                                add_ons:
                                  type: array
                                  items: &ref_317
                                    description: >-
                                      Describes an additional item offered as a
                                      value-addition to a product or service.
                                      This does not exist independently in a
                                      catalog and is always associated with an
                                      item.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      id:
                                        description: Provider-defined ID of the add-on
                                        type: string
                                      descriptor: *ref_292
                                      price: *ref_312
                                      quantity: *ref_309
                                cancellation_terms:
                                  description: Cancellation terms of this item
                                  type: array
                                  items: &ref_320
                                    description: >-
                                      Describes the cancellation terms of an
                                      item or an order. This can be referenced
                                      at an item or order level. Item-level
                                      cancellation terms can override the terms
                                      at the order level.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      fulfillment_state:
                                        description: >-
                                          The state of fulfillment during which
                                          this term is applicable.
                                        allOf:
                                          - *ref_313
                                      reason_required:
                                        description: >-
                                          Indicates whether a reason is required
                                          to cancel the order
                                        type: boolean
                                      cancel_by:
                                        description: >-
                                          Information related to the time of
                                          cancellation.
                                        allOf:
                                          - *ref_296
                                      cancellation_fee:
                                        description: A fee applied on a particular entity
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          percentage:
                                            description: Percentage of a value
                                            allOf:
                                              - *ref_289
                                          amount:
                                            description: A fixed value
                                            allOf:
                                              - *ref_312
                                      xinput: &ref_315
                                        description: >-
                                          Contains any additional or extended
                                          inputs required to confirm an order.
                                          This is typically a Form Input.
                                          Sometimes, selection of catalog elements
                                          is not enough for the BPP to confirm an
                                          order. For example, to confirm a flight
                                          ticket, the airline requires details of
                                          the passengers along with information on
                                          baggage, identity, in addition to the
                                          class of ticket. Similarly, a logistics
                                          company may require details on the
                                          nature of shipment in order to confirm
                                          the shipping. A recruiting firm may
                                          require additional details on the
                                          applicant in order to confirm a job
                                          application. For all such purposes, the
                                          BPP can choose to send this object
                                          attached to any object in the catalog
                                          that is required to be sent while
                                          placing the order. This object can
                                          typically be sent at an item level or at
                                          the order level. The item level XInput
                                          will override the Order level XInput as
                                          it indicates a special requirement of
                                          information for that particular item.
                                          Hence the BAP must render a separate
                                          form for the Item and another form at
                                          the Order level before confirmation.
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          form:
                                            description: Describes a form
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              url:
                                                description: >-
                                                  The URL from where the form can be
                                                  fetched. The content fetched from the
                                                  url must be processed as per the
                                                  mime_type specified in this object. Once
                                                  fetched, the rendering platform can
                                                  choosed to render the form as-is as an
                                                  embeddable element; or process it
                                                  further to blend with the theme of the
                                                  application. In case the interface is
                                                  non-visual, the the render can process
                                                  the form data and reproduce it as per
                                                  the standard specified in the form.
                                                type: string
                                                format: uri
                                              data:
                                                description: The form submission data
                                                type: object
                                                additionalProperties:
                                                  type: string
                                              mime_type:
                                                description: >-
                                                  This field indicates the nature and
                                                  format of the form received by querying
                                                  the url. MIME types are defined and
                                                  standardized in IETF's RFC 6838.
                                                type: string
                                                enum:
                                                  - text/html
                                                  - application/xml
                                              submission_id:
                                                type: string
                                                format: uuid
                                          required:
                                            description: >-
                                              Indicates whether the form data is
                                              mandatorily required by the BPP to
                                              confirm the order.
                                            type: boolean
                                      external_ref: *ref_314
                                refund_terms:
                                  description: Refund terms of this item
                                  type: array
                                  items: &ref_321
                                    description: Refund term of an item or an order
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      fulfillment_state:
                                        description: >-
                                          The state of fulfillment during which
                                          this term is applicable.
                                        allOf:
                                          - *ref_302
                                      refund_eligible:
                                        description: >-
                                          Indicates if cancellation will result in
                                          a refund
                                        type: boolean
                                      refund_within:
                                        description: >-
                                          Time within which refund will be
                                          processed after successful cancellation.
                                        allOf:
                                          - *ref_296
                                      refund_amount: *ref_312
                                replacement_terms:
                                  description: >-
                                    Terms that are applicable be met when this
                                    item is replaced
                                  type: array
                                  items: &ref_322
                                    description: >-
                                      The replacement policy of an item or an
                                      order
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      fulfillment_state:
                                        description: >-
                                          The state of fulfillment during which
                                          this term is applicable.
                                        allOf:
                                          - *ref_302
                                      replace_within:
                                        description: >-
                                          Applicable only for buyer managed
                                          returns where the buyer has to replace
                                          the item before a certain date-time,
                                          failing which they will not be eligible
                                          for replacement
                                        allOf:
                                          - *ref_296
                                      external_ref: *ref_314
                                return_terms:
                                  description: >-
                                    Terms that are applicable when this item is
                                    returned
                                  type: array
                                  items: &ref_323
                                    description: >-
                                      Describes the return policy of an item or
                                      an order
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      fulfillment_state:
                                        description: >-
                                          The state of fulfillment during which
                                          this term IETF''s applicable.
                                        allOf:
                                          - *ref_302
                                      return_eligible:
                                        description: >-
                                          Indicates whether the item is eligible
                                          for return
                                        type: boolean
                                      return_time:
                                        description: >-
                                          Applicable only for buyer managed
                                          returns where the buyer has to return
                                          the item to the origin before a certain
                                          date-time, failing which they will not
                                          be eligible for refund.
                                        allOf:
                                          - *ref_296
                                      return_location:
                                        description: >-
                                          The location where the item or order
                                          must / will be returned to
                                        allOf:
                                          - *ref_304
                                      fulfillment_managed_by:
                                        description: The entity that will perform the return
                                        type: string
                                        enum:
                                          - CONSUMER
                                          - PROVIDER
                                xinput:
                                  description: >-
                                    Additional input required from the customer
                                    to purchase / avail this item
                                  allOf:
                                    - *ref_315
                                time:
                                  description: >-
                                    Temporal attributes of this item. This
                                    property is used when the item exists on the
                                    catalog only for a limited period of time.
                                  allOf:
                                    - *ref_296
                                rateable:
                                  description: Whether this item can be rated
                                  type: boolean
                                rating:
                                  description: The rating of the item
                                  allOf:
                                    - *ref_293
                                matched:
                                  description: >-
                                    Whether this item is an exact match of the
                                    request
                                  type: boolean
                                related:
                                  description: >-
                                    Whether this item is a related item to the
                                    exactly matched item
                                  type: boolean
                                recommended:
                                  description: >-
                                    Whether this item is a recommended item to a
                                    response
                                  type: boolean
                                ttl:
                                  description: >-
                                    Time to live in seconds for an instance of
                                    this schema
                                  type: string
                                tags:
                                  type: array
                                  items: *ref_298
                          exp:
                            type: string
                            description: Time after which catalog has to be refreshed
                            format: date-time
                          rateable:
                            description: Whether this provider can be rated or not
                            type: boolean
                          ttl:
                            description: >-
                              The time-to-live in seconds, for this object. This
                              can be overriden at deeper levels. A value of -1
                              indicates that this object is not cacheable.
                            type: string
                          tags:
                            type: array
                            items: *ref_298
                  items:
                    description: The items purchased / availed in this order
                    type: array
                    items: *ref_316
                  add_ons:
                    description: The add-ons purchased / availed in this order
                    type: array
                    items: *ref_317
                  offers:
                    description: The offers applied in this order
                    type: array
                    items: *ref_318
                  billing:
                    description: The billing details of this order
                    allOf:
                      - description: >-
                          Describes the billing details of an entity.<br>This
                          has properties like
                          name,organization,address,email,phone,time,tax_number,
                          created_at,updated_at
                        type: object
                        additionalProperties: false
                        properties:
                          name:
                            description: Name of the billable entity
                            type: string
                          organization:
                            description: Details of the organization being billed.
                            allOf:
                              - *ref_308
                          address:
                            description: The address of the billable entity
                            allOf:
                              - *ref_301
                          state:
                            description: >-
                              The state where the billable entity resides. This
                              is important for state-level tax calculation
                            allOf:
                              - *ref_302
                          city:
                            description: The city where the billable entity resides.
                            allOf:
                              - *ref_303
                          email:
                            description: Email address where the bill is sent to
                            type: string
                            format: email
                          phone:
                            description: Phone number of the billable entity
                            type: string
                          time:
                            description: Details regarding the billing period
                            allOf:
                              - *ref_296
                          tax_id:
                            description: >-
                              ID of the billable entity as recognized by the
                              taxation authority
                            type: string
                  fulfillments:
                    description: The fulfillments involved in completing this order
                    type: array
                    items: *ref_319
                  cancellation:
                    description: The cancellation details of this order
                    allOf:
                      - description: Describes a cancellation event
                        type: object
                        additionalProperties: false
                        properties:
                          time:
                            description: >-
                              Date-time when the order was cancelled by the
                              buyer
                            type: string
                            format: date-time
                          cancelled_by:
                            type: string
                            enum:
                              - CONSUMER
                              - PROVIDER
                          reason:
                            description: The reason for cancellation
                            allOf:
                              - description: Describes a selectable option
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    type: string
                                  descriptor: *ref_292
                          additional_description:
                            description: >-
                              Any additional information regarding the nature of
                              cancellation
                            allOf:
                              - *ref_292
                  cancellation_terms:
                    description: Cancellation terms of this item
                    type: array
                    items: *ref_320
                  documents:
                    type: array
                    items:
                      description: Documnents associated to the order
                      type: object
                      additionalProperties: false
                      properties:
                        descriptor: *ref_292
                        mime_type:
                          description: >-
                            This field indicates the nature and format of the
                            form received by querying the url. MIME types are
                            defined and standardized in IETF's RFC 6838.
                          type: string
                          enum:
                            - text/html
                            - application/html
                            - application/xml
                            - application/pdf
                        url:
                          description: >-
                            The URL from where the form can be fetched. The
                            content fetched from the url must be processed as
                            per the mime_type specified in this object.
                          type: string
                          format: uri
                  refund_terms:
                    description: Refund terms of this item
                    type: array
                    items: *ref_321
                  replacement_terms:
                    description: Replacement terms of this item
                    type: array
                    items: *ref_322
                  return_terms:
                    description: Return terms of this item
                    type: array
                    items: *ref_323
                  quote:
                    description: The mutually agreed upon quotation for this order.
                    allOf:
                      - description: >-
                          Describes a quote. It is the estimated price of
                          products or services from the BPP.<br>This has
                          properties like price, breakup, ttl
                        type: object
                        additionalProperties: false
                        properties:
                          id:
                            description: ID of the quote.
                            type: string
                            format: uuid
                          price:
                            description: The total quoted price
                            allOf:
                              - *ref_312
                          breakup:
                            description: the breakup of the total quoted price
                            type: array
                            items:
                              type: object
                              properties:
                                item: *ref_316
                                title:
                                  type: string
                                price: *ref_312
                          ttl: *ref_294
                  payments:
                    description: The terms of settlement for this order
                    type: array
                    items: *ref_324
                  created_at:
                    description: The date-time of creation of this order
                    type: string
                    format: date-time
                  updated_at:
                    description: The date-time of updated of this order
                    type: string
                    format: date-time
                  xinput:
                    description: >-
                      Additional input required from the customer to confirm
                      this order
                    allOf:
                      - *ref_315
                  tags:
                    type: array
                    items: *ref_298
        required:
          - update_target
          - order
    required:
      - context
      - message
  on_update:
    type: object
    properties:
      context:
        allOf:
          - description: >-
              Every API call in beckn protocol has a context. It provides a
              high-level overview to the receiver about the nature of the
              intended transaction. Typically, it is the BAP that sets the
              transaction context based on the consumer's location and action on
              their UI. But sometimes, during unsolicited callbacks, the BPP
              also sets the transaction context but it is usually the same as
              the context of a previous full-cycle, request-callback interaction
              between the BAP and the BPP. The context object contains four
              types of fields. <ol><li>Demographic information about the
              transaction using fields like `domain`, `country`, and
              `region`.</li><li>Addressing details like the sending and
              receiving platform's ID and API URL.</li><li>Interoperability
              information like the protocol version that implemented by the
              sender and,</li><li>Transaction details like the method being
              called at the receiver's endpoint, the transaction_id that
              represents an end-to-end user session at the BAP, a message ID to
              pair requests with callbacks, a timestamp to capture sending
              times, a ttl to specifiy the validity of the request, and a key to
              encrypt information if necessary.</li></ol> This object must be
              passed in every interaction between a BAP and a BPP. In HTTP/S
              implementations, it is not necessary to send the context during
              the synchronous response. However, in asynchronous protocols, the
              context must be sent during all interactions,
            type: object
            additionalProperties: false
            properties:
              domain:
                description: Domain code that is relevant to this transaction context
                allOf:
                  - type: string
                    description: >-
                      Standard code representing the domain. The standard is
                      usually published as part of the network policy.
                      Furthermore, the network facilitator should also provide a
                      mechanism to provide the supported domains of a network.
              location:
                description: >-
                  The location where the transaction is intended to be
                  fulfilled.
                allOf:
                  - &ref_341
                    description: The physical location of something
                    type: object
                    additionalProperties: false
                    properties:
                      id: &ref_342
                        type: string
                      descriptor: &ref_329
                        description: Physical description of something.
                        type: object
                        additionalProperties: false
                        properties:
                          name:
                            type: string
                          code:
                            type: string
                          short_desc:
                            type: string
                          long_desc:
                            type: string
                          additional_desc:
                            type: object
                            properties:
                              url:
                                type: string
                              content_type:
                                type: string
                                enum:
                                  - text/plain
                                  - text/html
                                  - application/json
                          media:
                            type: array
                            items: &ref_351
                              description: This object contains a url to a media file.
                              type: object
                              additionalProperties: false
                              properties:
                                mimetype:
                                  description: >-
                                    indicates the nature and format of the
                                    document, file, or assortment of bytes. MIME
                                    types are defined and standardized in IETF's
                                    RFC 6838
                                  type: string
                                url:
                                  description: The URL of the file
                                  type: string
                                  format: uri
                                signature:
                                  description: >-
                                    The digital signature of the file signed by
                                    the sender
                                  type: string
                                dsa:
                                  description: The signing algorithm used by the sender
                                  type: string
                          images:
                            type: array
                            items: &ref_334
                              description: Describes an image
                              type: object
                              additionalProperties: false
                              properties:
                                url:
                                  description: >-
                                    URL to the image. This can be a data url or
                                    an remote url
                                  type: string
                                  format: uri
                                size_type:
                                  description: >-
                                    The size of the image. The network policy
                                    can define the default dimensions of each
                                    type
                                  type: string
                                  enum:
                                    - xs
                                    - sm
                                    - md
                                    - lg
                                    - xl
                                    - custom
                                width:
                                  description: Width of the image in pixels
                                  type: string
                                height:
                                  description: Height of the image in pixels
                                  type: string
                      map_url:
                        description: >-
                          The url to the map of the location. This can be a
                          globally recognized map url or the one specified by
                          the network policy.
                        type: string
                        format: uri
                      gps:
                        description: The GPS co-ordinates of this location.
                        allOf:
                          - &ref_325
                            description: Describes a GPS coordinate
                            type: string
                            pattern: >-
                              ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                      address:
                        description: The address of this location.
                        allOf:
                          - &ref_338
                            description: Describes a postal address.
                            type: string
                      city:
                        description: The city this location is, or is located within
                        allOf:
                          - &ref_340
                            description: Describes a city
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                description: Name of the city
                                type: string
                              code:
                                description: City code
                                type: string
                      district:
                        description: The state this location is, or is located within
                        type: string
                      state:
                        description: The state this location is, or is located within
                        allOf:
                          - &ref_339
                            description: >-
                              A bounded geopolitical region of governance inside
                              a country.
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the state
                              code:
                                type: string
                                description: >-
                                  State code as per country or international
                                  standards
                      country:
                        description: The country this location is, or is located within
                        allOf:
                          - description: Describes a country
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the country
                              code:
                                type: string
                                description: >-
                                  Country code as per ISO 3166-1 and ISO 3166-2
                                  format
                      area_code:
                        type: string
                      circle:
                        description: >-
                          Describes a circular region of a specified radius
                          centered at a specified GPS coordinate.
                        type: object
                        additionalProperties: false
                        properties:
                          gps: *ref_325
                          radius: &ref_344
                            description: Describes a scalar
                            type: object
                            additionalProperties: false
                            properties:
                              type:
                                type: string
                                enum:
                                  - CONSTANT
                                  - VARIABLE
                              value: &ref_326
                                description: Describes a numerical value in decimal form
                                type: string
                                pattern: '[+-]?([0-9]*[.])?[0-9]+'
                              estimated_value: *ref_326
                              computed_value: *ref_326
                              range:
                                type: object
                                properties:
                                  min: *ref_326
                                  max: *ref_326
                              unit:
                                type: string
                      polygon:
                        description: The boundary polygon of this location
                        type: string
                      3dspace:
                        description: The three dimensional region describing this location
                        type: string
                      rating:
                        description: The rating of this location
                        allOf:
                          - &ref_330
                            description: >-
                              Rating value given to the object. This can be a
                              single value or can also contain an inequality
                              operator like gt, gte, lt, lte. This can also
                              contain an inequality expression containing
                              logical operators like && and ||.
                            type: string
              action:
                description: >-
                  The Beckn protocol method being called by the sender and
                  executed at the receiver.
                type: string
              version:
                type: string
                description: Version of transaction protocol being used by the sender.
              bap_id:
                description: Subscriber ID of the BAP
                allOf:
                  - &ref_327
                    description: >-
                      A globally unique identifier of the platform, Typically it
                      is the fully qualified domain name (FQDN) of the platform.
                    type: string
              bap_uri:
                description: Subscriber URL of the BAP for accepting callbacks from BPPs.
                allOf:
                  - &ref_328
                    description: >-
                      The callback URL of the Subscriber. This should
                      necessarily contain the same domain name as set in
                      `subscriber_id``.
                    type: string
                    format: uri
              bpp_id:
                description: Subscriber ID of the BPP
                allOf:
                  - *ref_327
              bpp_uri:
                description: Subscriber URL of the BPP for accepting calls from BAPs.
                allOf:
                  - *ref_328
              transaction_id:
                description: >-
                  This is a unique value which persists across all API calls
                  from `search` through `confirm`. This is done to indicate an
                  active user session across multiple requests. The BPPs can use
                  this value to push personalized recommendations, and dynamic
                  offerings related to an ongoing transaction despite being
                  unaware of the user active on the BAP.
                type: string
                format: uuid
              message_id:
                description: >-
                  This is a unique value which persists during a request /
                  callback cycle. Since beckn protocol APIs are asynchronous,
                  BAPs need a common value to match an incoming callback from a
                  BPP to an earlier call. This value can also be used to ignore
                  duplicate messages coming from the BPP. It is recommended to
                  generate a fresh message_id for every new interaction. When
                  sending unsolicited callbacks, BPPs must generate a new
                  message_id.
                type: string
                format: uuid
              timestamp:
                description: Time of request generation in RFC3339 format
                type: string
                format: date-time
              key:
                description: The encryption public key of the sender
                type: string
              ttl:
                description: >-
                  The duration in ISO8601 format after timestamp for which this
                  message holds valid
                type: string
          - type: object
            properties:
              action:
                enum:
                  - on_update
            required:
              - action
      message:
        type: object
        properties:
          order:
            description: >-
              Describes a legal purchase order. It contains the complete details
              of the legal contract created between the buyer and the seller.
            type: object
            additionalProperties: false
            properties:
              id:
                type: string
                description: >-
                  Human-readable ID of the order. This is generated at the BPP
                  layer. The BPP can either generate order id within its system
                  or forward the order ID created at the provider level.
              ref_order_ids:
                description: A list of order IDs to link this order to previous orders.
                type: array
                items:
                  type: string
                  description: ID of a previous order
              status:
                description: >-
                  Status of the order. Allowed values can be defined by the
                  network policy
                type: string
              type:
                description: >-
                  This is used to indicate the type of order being created to
                  BPPs. Sometimes orders can be linked to previous orders, like
                  a replacement order in a retail domain. A follow-up
                  consultation in healthcare domain. A single order part of a
                  subscription order. The list of order types can be
                  standardized at the network level.
                type: string
                default: DEFAULT
                enum:
                  - DRAFT
                  - DEFAULT
              provider:
                description: >-
                  Details of the provider whose catalog items have been
                  selected.
                allOf:
                  - description: Describes the catalog of a business.
                    type: object
                    properties:
                      id:
                        type: string
                        description: Id of the provider
                      descriptor: *ref_329
                      category_id:
                        type: string
                        description: Category Id of the provider at the BPP-level catalog
                      rating: *ref_330
                      time: &ref_333
                        description: >-
                          Describes time in its various forms. It can be a
                          single point in time; duration; or a structured
                          timetable of operations<br>This has properties like
                          label, time stamp,duration,range, days, schedule
                        type: object
                        additionalProperties: false
                        properties:
                          label:
                            type: string
                          timestamp:
                            type: string
                            format: date-time
                          duration: &ref_331
                            description: Describes duration as per ISO8601 format
                            type: string
                          range:
                            type: object
                            properties:
                              start:
                                type: string
                                format: date-time
                              end:
                                type: string
                                format: date-time
                          days:
                            type: string
                            description: >-
                              comma separated values representing days of the
                              week
                          schedule:
                            description: >-
                              Describes schedule as a repeating time period used
                              to describe a regularly recurring event. At a
                              minimum a schedule will specify frequency which
                              describes the interval between occurrences of the
                              event. Additional information can be provided to
                              specify the schedule more precisely. This includes
                              identifying the timestamps(s) of when the event
                              will take place. Schedules may also have holidays
                              to exclude a specific day from the
                              schedule.<br>This has properties like frequency,
                              holidays, times
                            type: object
                            additionalProperties: false
                            properties:
                              frequency: *ref_331
                              holidays:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                              times:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                      categories:
                        type: array
                        items:
                          description: >-
                            A label under which a collection of items can be
                            grouped.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_332
                              description: ID of the category
                              type: string
                            parent_category_id: *ref_332
                            descriptor: *ref_329
                            time: *ref_333
                            ttl:
                              description: Time to live for an instance of this schema
                            tags:
                              type: array
                              items: &ref_335
                                description: >-
                                  A collection of tag objects with group level
                                  attributes. For detailed documentation on the
                                  Tags and Tag Groups schema go to
                                  https://github.com/beckn/protocol-specifications/discussions/316
                                type: object
                                additionalProperties: false
                                properties:
                                  display:
                                    description: >-
                                      Indicates the display properties of the
                                      tag group. If display is set to false,
                                      then the group will not be displayed. If
                                      it is set to true, it should be displayed.
                                      However, group-level display properties
                                      can be overriden by individual tag-level
                                      display property. As this schema is purely
                                      for catalog display purposes, it is not
                                      recommended to send this value during
                                      search.
                                    type: boolean
                                    default: true
                                  descriptor:
                                    description: >-
                                      Description of the TagGroup, can be used
                                      to store detailed information.
                                    allOf:
                                      - *ref_329
                                  list:
                                    description: >-
                                      An array of Tag objects listed under this
                                      group. This property can be set by BAPs
                                      during search to narrow the `search` and
                                      achieve more relevant results. When
                                      received during `on_search`, BAPs must
                                      render this list under the heading
                                      described by the `name` property of this
                                      schema.
                                    type: array
                                    items:
                                      description: >-
                                        Describes a tag. This is used to contain
                                        extended metadata. This object can be
                                        added as a property to any schema to
                                        describe extended attributes. For BAPs,
                                        tags can be sent during search to
                                        optimize and filter search results. BPPs
                                        can use tags to index their catalog to
                                        allow better search functionality. Tags
                                        are sent by the BPP as part of the
                                        catalog response in the `on_search`
                                        callback. Tags are also meant for
                                        display purposes. Upon receiving a tag,
                                        BAPs are meant to render them as
                                        name-value pairs. This is particularly
                                        useful when rendering tabular
                                        information about a product or service.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor:
                                          description: >-
                                            Description of the Tag, can be used to
                                            store detailed information.
                                          allOf:
                                            - *ref_329
                                        value:
                                          description: >-
                                            The value of the tag. This set by the
                                            BPP and rendered as-is by the BAP.
                                          type: string
                                        display:
                                          description: >-
                                            This value indicates if the tag is
                                            intended for display purposes. If set to
                                            `true`, then this tag must be displayed.
                                            If it is set to `false`, it should not
                                            be displayed. This value can override
                                            the group display value.
                                          type: boolean
                      fulfillments:
                        type: array
                        items: &ref_356
                          description: >-
                            Describes how a an order will be rendered/fulfilled
                            to the end-customer
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_347
                              description: >-
                                Unique reference ID to the fulfillment of an
                                order
                              type: string
                            type:
                              description: >-
                                A code that describes the mode of fulfillment.
                                This is typically set when there are multiple
                                ways an order can be fulfilled. For example, a
                                retail order can be fulfilled either via store
                                pickup or a home delivery. Similarly, a medical
                                consultation can be provided either in-person or
                                via tele-consultation. The network policy must
                                publish standard fulfillment type codes for the
                                different modes of fulfillment.
                              type: string
                            rateable:
                              description: Whether the fulfillment can be rated or not
                              type: boolean
                            rating:
                              description: The rating value of the fulfullment service.
                              allOf:
                                - *ref_330
                            state:
                              description: >-
                                The current state of fulfillment. The BPP must
                                set this value whenever the state of the order
                                fulfillment changes and fire an unsolicited
                                `on_status` call.
                              allOf:
                                - &ref_350
                                  description: Describes the state of fulfillment
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    descriptor: *ref_329
                                    updated_at:
                                      type: string
                                      format: date-time
                                    updated_by:
                                      type: string
                                      description: ID of entity which changed the state
                            tracking:
                              type: boolean
                              description: >-
                                Indicates whether the fulfillment allows
                                tracking
                              default: false
                            customer:
                              description: >-
                                The person that will ultimately receive the
                                order
                              allOf:
                                - description: >-
                                    Describes a customer buying/availing a
                                    product or a service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: &ref_336
                                      description: Describes a person as any individual
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          type: string
                                          description: Describes the identity of the person
                                        url:
                                          description: Profile url of the person
                                          type: string
                                          format: uri
                                        name:
                                          description: the name of the person
                                          type: string
                                        image: *ref_334
                                        age:
                                          description: Age of the person
                                          allOf:
                                            - *ref_331
                                        dob:
                                          description: Date of birth of the person
                                          type: string
                                          format: date
                                        gender:
                                          type: string
                                          description: >-
                                            Gender of something, typically a Person,
                                            but possibly also fictional characters,
                                            animals, etc. While Male and Female may
                                            be used, text strings are also
                                            acceptable for people who do not
                                            identify as a binary gender.Allowed
                                            values for this field can be published
                                            in the network policy
                                        creds:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a credential of an entity -
                                              Person or Organization
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              id:
                                                type: string
                                              type:
                                                type: string
                                                default: VerifiableCredential
                                              url:
                                                description: URL of the credential
                                                type: string
                                                format: uri
                                        languages:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a language known to the
                                              person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        skills:
                                          type: array
                                          items:
                                            description: Describes a skill of the person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        tags:
                                          type: array
                                          items: *ref_335
                                    contact: &ref_337
                                      description: >-
                                        Describes the contact information of an
                                        entity
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        phone:
                                          type: string
                                        email:
                                          type: string
                                        jcard:
                                          type: object
                                          description: >-
                                            A Jcard object as per
                                            draft-ietf-jcardcal-jcard-03
                                            specification
                            agent:
                              description: >-
                                The agent that is currently handling the
                                fulfillment of the order
                              allOf:
                                - description: >-
                                    Describes the direct performer, driver or
                                    executor that fulfills an order. It is
                                    usually a person. But in some rare cases, it
                                    could be a non-living entity like a drone,
                                    or a bot. Some examples of agents are Doctor
                                    in the healthcare sector, a driver in the
                                    mobility sector, or a delivery person in the
                                    logistics sector. This object can be set at
                                    any stage of the order lifecycle. This can
                                    be set at the discovery stage when the BPP
                                    wants to provide details on the agent
                                    fulfilling the order, like in healthcare,
                                    where the doctor's name appears during
                                    search. This object can also used to search
                                    for a particular person that the customer
                                    wants fulfilling an order. Sometimes, this
                                    object gets instantiated after the order is
                                    confirmed, like in the case of on-demand
                                    taxis, where the driver is assigned after
                                    the user confirms the ride.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: *ref_336
                                    contact: *ref_337
                                    organization: &ref_345
                                      description: >-
                                        An organization. Usually a recognized
                                        business entity.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor: *ref_329
                                        address:
                                          description: The postal address of the organization
                                          allOf:
                                            - *ref_338
                                        state:
                                          description: >-
                                            The state where the organization's
                                            address is registered
                                          allOf:
                                            - *ref_339
                                        city:
                                          description: >-
                                            The city where the the organization's
                                            address is registered
                                          allOf:
                                            - *ref_340
                                        contact: *ref_337
                                    rating: *ref_330
                            contact: *ref_337
                            vehicle:
                              description: >-
                                Describes a vehicle is a device that is designed
                                or used to transport people or cargo over land,
                                water, air, or through space.<br>This has
                                properties like category, capacity, make, model,
                                size,variant,color,energy_type,registration
                              type: object
                              additionalProperties: false
                              properties:
                                category:
                                  type: string
                                capacity:
                                  type: integer
                                make:
                                  type: string
                                model:
                                  type: string
                                size:
                                  type: string
                                variant:
                                  type: string
                                color:
                                  type: string
                                energy_type:
                                  type: string
                                registration:
                                  type: string
                                wheels_count:
                                  type: string
                                cargo_volumne:
                                  type: string
                                wheelchair_access:
                                  type: string
                                code:
                                  type: string
                                emission_standard:
                                  type: string
                            stops:
                              description: >-
                                The list of logical stops encountered during the
                                fulfillment of an order.
                              type: array
                              items:
                                description: >-
                                  A logical point in space and time during the
                                  fulfillment of an order.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    type: string
                                  parent_stop_id:
                                    type: string
                                  location:
                                    description: Location of the stop
                                    allOf:
                                      - *ref_341
                                  type:
                                    description: >-
                                      The type of stop. Allowed values of this
                                      property can be defined by the network
                                      policy.
                                    type: string
                                  time:
                                    description: Timings applicable at the stop.
                                    allOf:
                                      - *ref_333
                                  instructions:
                                    description: >-
                                      Instructions that need to be followed at
                                      the stop
                                    allOf:
                                      - *ref_329
                                  contact:
                                    description: Contact details of the stop
                                    allOf:
                                      - *ref_337
                                  person:
                                    description: >-
                                      The details of the person present at the
                                      stop
                                    allOf:
                                      - *ref_336
                                  authorization:
                                    description: >-
                                      Describes an authorization mechanism used
                                      to start or end the fulfillment of an
                                      order. For example, in the mobility
                                      sector, the driver may require a one-time
                                      password to initiate the ride. In the
                                      healthcare sector, a patient may need to
                                      provide a password to open a video
                                      conference link during a teleconsultation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      type:
                                        description: >-
                                          Type of authorization mechanism used.
                                          The allowed values for this field can be
                                          published as part of the network policy.
                                        type: string
                                      token:
                                        description: >-
                                          Token used for authorization. This is
                                          typically generated at the BPP. The BAP
                                          can send this value to the user via any
                                          channel that it uses to authenticate the
                                          user like SMS, Email, Push notification,
                                          or in-app rendering.
                                        type: string
                                      valid_from:
                                        description: >-
                                          Timestamp in RFC3339 format from which
                                          token is valid
                                        type: string
                                        format: date-time
                                      valid_to:
                                        description: >-
                                          Timestamp in RFC3339 format until which
                                          token is valid
                                        type: string
                                        format: date-time
                                      status:
                                        description: Status of the token
                                        type: string
                            path:
                              description: >-
                                The physical path taken by the agent that can be
                                rendered on a map. The allowed format of this
                                property can be set by the network.
                              type: string
                            tags:
                              type: array
                              items: *ref_335
                      payments:
                        type: array
                        items: &ref_361
                          description: >-
                            Describes the terms of settlement between the BAP
                            and the BPP for a single transaction. When
                            instantiated, this object contains <ol><li>the
                            amount that has to be settled,</li><li>The payment
                            destination destination details</li><li>When the
                            settlement should happen, and</li><li>A transaction
                            reference ID</li></ol>. During a transaction, the
                            BPP reserves the right to decide the terms of
                            payment. However, the BAP can send its terms to the
                            BPP first. If the BPP does not agree to those terms,
                            it must overwrite the terms and return them to the
                            BAP. If overridden, the BAP must either agree to the
                            terms sent by the BPP in order to preserve the
                            provider's autonomy, or abort the transaction. In
                            case of such disagreements, the BAP and the BPP can
                            perform offline negotiations on the payment terms.
                            Once an agreement is reached, the BAP and BPP can
                            resume transactions.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_348
                              description: >-
                                ID of the payment term that can be referred at
                                an item or an order level in a catalog
                              type: string
                            collected_by:
                              description: >-
                                This field indicates who is the collector of
                                payment. The BAP can set this value to 'bap' if
                                it wants to collect the payment first and 
                                settle it to the BPP. If the BPP agrees to those
                                terms, the BPP should not send the payment url.
                                Alternatively, the BPP can set this field with
                                the value 'bpp' if it wants the payment to be
                                made directly.
                              type: string
                            url:
                              type: string
                              description: >-
                                A payment url to be called by the BAP. If empty,
                                then the payment is to be done offline. The
                                details of payment should be present in the
                                params object. If tl_method = http/get, then the
                                payment details will be sent as url params. Two
                                url param values, ```$transaction_id``` and
                                ```$amount``` are mandatory.
                              format: uri
                            tl_method:
                              type: string
                            params:
                              type: object
                              properties:
                                transaction_id:
                                  type: string
                                  description: >-
                                    The reference transaction ID associated with
                                    a payment activity
                                amount:
                                  type: string
                                currency:
                                  type: string
                                bank_code:
                                  type: string
                                bank_account_number:
                                  type: string
                                virtual_payment_address:
                                  type: string
                                source_bank_code:
                                  type: string
                                source_bank_account_number:
                                  type: string
                                source_virtual_payment_address:
                                  type: string
                            type:
                              type: string
                              enum:
                                - PRE-ORDER
                                - PRE-FULFILLMENT
                                - ON-FULFILLMENT
                                - POST-FULFILLMENT
                                - ON-ORDER
                            status:
                              type: string
                              enum:
                                - PAID
                                - NOT-PAID
                            time: *ref_333
                            tags:
                              type: array
                              items: *ref_335
                      locations:
                        type: array
                        items: *ref_341
                      offers:
                        type: array
                        items: &ref_355
                          description: >-
                            An offer associated with a catalog. This is
                            typically used to promote a particular product and
                            enable more purchases.
                          type: object
                          additionalProperties: false
                          properties:
                            id:
                              type: string
                            descriptor: *ref_329
                            location_ids:
                              type: array
                              items: *ref_342
                            category_ids:
                              type: array
                              items: *ref_332
                            item_ids:
                              type: array
                              items: &ref_343
                                description: ID of the item.
                                type: string
                            time: *ref_333
                            tags:
                              type: array
                              items: *ref_335
                      items:
                        type: array
                        items: &ref_353
                          description: >-
                            Describes a product or a service offered to the end
                            consumer by the provider. In the mobility sector, it
                            can represent a fare product like one way journey.
                            In the logistics sector, it can represent the
                            delivery service offering. In the retail domain it
                            can represent a product like a grocery item.
                          type: object
                          additionalProperties: false
                          properties:
                            id: *ref_343
                            parent_item_id:
                              description: ID of the item, this item is a variant of
                              allOf:
                                - *ref_343
                            parent_item_quantity:
                              description: >-
                                The number of units of the parent item this item
                                is a multiple of
                              allOf:
                                - &ref_346
                                  description: Describes the count or amount of an item
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    allocated:
                                      description: >-
                                        This represents the exact quantity
                                        allocated for purchase of the item.
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_344
                                    available:
                                      description: >-
                                        This represents the exact quantity
                                        available for purchase of the item. The
                                        buyer can only purchase multiples of
                                        this
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_344
                                    maximum:
                                      description: >-
                                        This represents the maximum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                        measure: *ref_344
                                    minimum:
                                      description: >-
                                        This represents the minimum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_344
                                    selected:
                                      description: >-
                                        This represents the quantity selected
                                        for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_344
                                    unitized:
                                      description: >-
                                        This represents the quantity available
                                        in a single unit of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                          maximum: 1
                                        measure: *ref_344
                            descriptor:
                              description: Physical description of the item
                              allOf:
                                - *ref_329
                            creator:
                              description: The creator of this item
                              allOf:
                                - *ref_345
                            price:
                              description: >-
                                The price of this item, if it has intrinsic
                                value
                              allOf:
                                - &ref_349
                                  description: Describes the price of a product or service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    currency:
                                      type: string
                                    value: *ref_326
                                    estimated_value: *ref_326
                                    computed_value: *ref_326
                                    listed_value: *ref_326
                                    offered_value: *ref_326
                                    minimum_value: *ref_326
                                    maximum_value: *ref_326
                            quantity:
                              description: The selling quantity of the item
                              allOf:
                                - *ref_346
                            category_ids:
                              description: Categories this item can be listed under
                              type: array
                              items:
                                allOf:
                                  - *ref_332
                            fulfillment_ids:
                              description: Modes through which this item can be fulfilled
                              type: array
                              items:
                                allOf:
                                  - *ref_347
                            location_ids:
                              description: Provider Locations this item is available in
                              type: array
                              items:
                                allOf:
                                  - *ref_342
                            payment_ids:
                              description: >-
                                Payment modalities through which this item can
                                be ordered
                              type: array
                              items:
                                allOf:
                                  - *ref_348
                            add_ons:
                              type: array
                              items: &ref_354
                                description: >-
                                  Describes an additional item offered as a
                                  value-addition to a product or service. This
                                  does not exist independently in a catalog and
                                  is always associated with an item.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    description: Provider-defined ID of the add-on
                                    type: string
                                  descriptor: *ref_329
                                  price: *ref_349
                                  quantity: *ref_346
                            cancellation_terms:
                              description: Cancellation terms of this item
                              type: array
                              items: &ref_357
                                description: >-
                                  Describes the cancellation terms of an item or
                                  an order. This can be referenced at an item or
                                  order level. Item-level cancellation terms can
                                  override the terms at the order level.
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_350
                                  reason_required:
                                    description: >-
                                      Indicates whether a reason is required to
                                      cancel the order
                                    type: boolean
                                  cancel_by:
                                    description: >-
                                      Information related to the time of
                                      cancellation.
                                    allOf:
                                      - *ref_333
                                  cancellation_fee:
                                    description: A fee applied on a particular entity
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      percentage:
                                        description: Percentage of a value
                                        allOf:
                                          - *ref_326
                                      amount:
                                        description: A fixed value
                                        allOf:
                                          - *ref_349
                                  xinput: &ref_352
                                    description: >-
                                      Contains any additional or extended inputs
                                      required to confirm an order. This is
                                      typically a Form Input. Sometimes,
                                      selection of catalog elements is not
                                      enough for the BPP to confirm an order.
                                      For example, to confirm a flight ticket,
                                      the airline requires details of the
                                      passengers along with information on
                                      baggage, identity, in addition to the
                                      class of ticket. Similarly, a logistics
                                      company may require details on the nature
                                      of shipment in order to confirm the
                                      shipping. A recruiting firm may require
                                      additional details on the applicant in
                                      order to confirm a job application. For
                                      all such purposes, the BPP can choose to
                                      send this object attached to any object in
                                      the catalog that is required to be sent
                                      while placing the order. This object can
                                      typically be sent at an item level or at
                                      the order level. The item level XInput
                                      will override the Order level XInput as it
                                      indicates a special requirement of
                                      information for that particular item.
                                      Hence the BAP must render a separate form
                                      for the Item and another form at the Order
                                      level before confirmation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      form:
                                        description: Describes a form
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          url:
                                            description: >-
                                              The URL from where the form can be
                                              fetched. The content fetched from the
                                              url must be processed as per the
                                              mime_type specified in this object. Once
                                              fetched, the rendering platform can
                                              choosed to render the form as-is as an
                                              embeddable element; or process it
                                              further to blend with the theme of the
                                              application. In case the interface is
                                              non-visual, the the render can process
                                              the form data and reproduce it as per
                                              the standard specified in the form.
                                            type: string
                                            format: uri
                                          data:
                                            description: The form submission data
                                            type: object
                                            additionalProperties:
                                              type: string
                                          mime_type:
                                            description: >-
                                              This field indicates the nature and
                                              format of the form received by querying
                                              the url. MIME types are defined and
                                              standardized in IETF's RFC 6838.
                                            type: string
                                            enum:
                                              - text/html
                                              - application/xml
                                          submission_id:
                                            type: string
                                            format: uuid
                                      required:
                                        description: >-
                                          Indicates whether the form data is
                                          mandatorily required by the BPP to
                                          confirm the order.
                                        type: boolean
                                  external_ref: *ref_351
                            refund_terms:
                              description: Refund terms of this item
                              type: array
                              items: &ref_358
                                description: Refund term of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_339
                                  refund_eligible:
                                    description: >-
                                      Indicates if cancellation will result in a
                                      refund
                                    type: boolean
                                  refund_within:
                                    description: >-
                                      Time within which refund will be processed
                                      after successful cancellation.
                                    allOf:
                                      - *ref_333
                                  refund_amount: *ref_349
                            replacement_terms:
                              description: >-
                                Terms that are applicable be met when this item
                                is replaced
                              type: array
                              items: &ref_359
                                description: The replacement policy of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_339
                                  replace_within:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to replace the item
                                      before a certain date-time, failing which
                                      they will not be eligible for replacement
                                    allOf:
                                      - *ref_333
                                  external_ref: *ref_351
                            return_terms:
                              description: >-
                                Terms that are applicable when this item is
                                returned
                              type: array
                              items: &ref_360
                                description: >-
                                  Describes the return policy of an item or an
                                  order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term IETF''s applicable.
                                    allOf:
                                      - *ref_339
                                  return_eligible:
                                    description: >-
                                      Indicates whether the item is eligible for
                                      return
                                    type: boolean
                                  return_time:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to return the item to
                                      the origin before a certain date-time,
                                      failing which they will not be eligible
                                      for refund.
                                    allOf:
                                      - *ref_333
                                  return_location:
                                    description: >-
                                      The location where the item or order must
                                      / will be returned to
                                    allOf:
                                      - *ref_341
                                  fulfillment_managed_by:
                                    description: The entity that will perform the return
                                    type: string
                                    enum:
                                      - CONSUMER
                                      - PROVIDER
                            xinput:
                              description: >-
                                Additional input required from the customer to
                                purchase / avail this item
                              allOf:
                                - *ref_352
                            time:
                              description: >-
                                Temporal attributes of this item. This property
                                is used when the item exists on the catalog only
                                for a limited period of time.
                              allOf:
                                - *ref_333
                            rateable:
                              description: Whether this item can be rated
                              type: boolean
                            rating:
                              description: The rating of the item
                              allOf:
                                - *ref_330
                            matched:
                              description: >-
                                Whether this item is an exact match of the
                                request
                              type: boolean
                            related:
                              description: >-
                                Whether this item is a related item to the
                                exactly matched item
                              type: boolean
                            recommended:
                              description: >-
                                Whether this item is a recommended item to a
                                response
                              type: boolean
                            ttl:
                              description: >-
                                Time to live in seconds for an instance of this
                                schema
                              type: string
                            tags:
                              type: array
                              items: *ref_335
                      exp:
                        type: string
                        description: Time after which catalog has to be refreshed
                        format: date-time
                      rateable:
                        description: Whether this provider can be rated or not
                        type: boolean
                      ttl:
                        description: >-
                          The time-to-live in seconds, for this object. This can
                          be overriden at deeper levels. A value of -1 indicates
                          that this object is not cacheable.
                        type: string
                      tags:
                        type: array
                        items: *ref_335
              items:
                description: The items purchased / availed in this order
                type: array
                items: *ref_353
              add_ons:
                description: The add-ons purchased / availed in this order
                type: array
                items: *ref_354
              offers:
                description: The offers applied in this order
                type: array
                items: *ref_355
              billing:
                description: The billing details of this order
                allOf:
                  - description: >-
                      Describes the billing details of an entity.<br>This has
                      properties like
                      name,organization,address,email,phone,time,tax_number,
                      created_at,updated_at
                    type: object
                    additionalProperties: false
                    properties:
                      name:
                        description: Name of the billable entity
                        type: string
                      organization:
                        description: Details of the organization being billed.
                        allOf:
                          - *ref_345
                      address:
                        description: The address of the billable entity
                        allOf:
                          - *ref_338
                      state:
                        description: >-
                          The state where the billable entity resides. This is
                          important for state-level tax calculation
                        allOf:
                          - *ref_339
                      city:
                        description: The city where the billable entity resides.
                        allOf:
                          - *ref_340
                      email:
                        description: Email address where the bill is sent to
                        type: string
                        format: email
                      phone:
                        description: Phone number of the billable entity
                        type: string
                      time:
                        description: Details regarding the billing period
                        allOf:
                          - *ref_333
                      tax_id:
                        description: >-
                          ID of the billable entity as recognized by the
                          taxation authority
                        type: string
              fulfillments:
                description: The fulfillments involved in completing this order
                type: array
                items: *ref_356
              cancellation:
                description: The cancellation details of this order
                allOf:
                  - description: Describes a cancellation event
                    type: object
                    additionalProperties: false
                    properties:
                      time:
                        description: Date-time when the order was cancelled by the buyer
                        type: string
                        format: date-time
                      cancelled_by:
                        type: string
                        enum:
                          - CONSUMER
                          - PROVIDER
                      reason:
                        description: The reason for cancellation
                        allOf:
                          - description: Describes a selectable option
                            type: object
                            additionalProperties: false
                            properties:
                              id:
                                type: string
                              descriptor: *ref_329
                      additional_description:
                        description: >-
                          Any additional information regarding the nature of
                          cancellation
                        allOf:
                          - *ref_329
              cancellation_terms:
                description: Cancellation terms of this item
                type: array
                items: *ref_357
              documents:
                type: array
                items:
                  description: Documnents associated to the order
                  type: object
                  additionalProperties: false
                  properties:
                    descriptor: *ref_329
                    mime_type:
                      description: >-
                        This field indicates the nature and format of the form
                        received by querying the url. MIME types are defined and
                        standardized in IETF's RFC 6838.
                      type: string
                      enum:
                        - text/html
                        - application/html
                        - application/xml
                        - application/pdf
                    url:
                      description: >-
                        The URL from where the form can be fetched. The content
                        fetched from the url must be processed as per the
                        mime_type specified in this object.
                      type: string
                      format: uri
              refund_terms:
                description: Refund terms of this item
                type: array
                items: *ref_358
              replacement_terms:
                description: Replacement terms of this item
                type: array
                items: *ref_359
              return_terms:
                description: Return terms of this item
                type: array
                items: *ref_360
              quote:
                description: The mutually agreed upon quotation for this order.
                allOf:
                  - description: >-
                      Describes a quote. It is the estimated price of products
                      or services from the BPP.<br>This has properties like
                      price, breakup, ttl
                    type: object
                    additionalProperties: false
                    properties:
                      id:
                        description: ID of the quote.
                        type: string
                        format: uuid
                      price:
                        description: The total quoted price
                        allOf:
                          - *ref_349
                      breakup:
                        description: the breakup of the total quoted price
                        type: array
                        items:
                          type: object
                          properties:
                            item: *ref_353
                            title:
                              type: string
                            price: *ref_349
                      ttl: *ref_331
              payments:
                description: The terms of settlement for this order
                type: array
                items: *ref_361
              created_at:
                description: The date-time of creation of this order
                type: string
                format: date-time
              updated_at:
                description: The date-time of updated of this order
                type: string
                format: date-time
              xinput:
                description: >-
                  Additional input required from the customer to confirm this
                  order
                allOf:
                  - *ref_352
              tags:
                type: array
                items: *ref_335
        required:
          - order
      error:
        description: >-
          Describes an error object that is returned by a BAP, BPP or BG as a
          response or callback to an action by another network participant. This
          object is sent when any request received by a network participant is
          unacceptable. This object can be sent either during Ack or with the
          callback.
        type: object
        additionalProperties: false
        properties:
          code:
            type: string
            description: >-
              Standard error code. For full list of error codes, refer to
              docs/protocol-drafts/BECKN-005-ERROR-CODES-DRAFT-01.md of this
              repo"
          paths:
            type: string
            description: >-
              Path to json schema generating the error. Used only during json
              schema validation errors
          message:
            type: string
            description: >-
              Human readable message describing the error. Used mainly for
              logging. Not recommended to be shown to the user.
    required:
      - context
  cancel:
    type: object
    properties:
      context:
        allOf:
          - description: >-
              Every API call in beckn protocol has a context. It provides a
              high-level overview to the receiver about the nature of the
              intended transaction. Typically, it is the BAP that sets the
              transaction context based on the consumer's location and action on
              their UI. But sometimes, during unsolicited callbacks, the BPP
              also sets the transaction context but it is usually the same as
              the context of a previous full-cycle, request-callback interaction
              between the BAP and the BPP. The context object contains four
              types of fields. <ol><li>Demographic information about the
              transaction using fields like `domain`, `country`, and
              `region`.</li><li>Addressing details like the sending and
              receiving platform's ID and API URL.</li><li>Interoperability
              information like the protocol version that implemented by the
              sender and,</li><li>Transaction details like the method being
              called at the receiver's endpoint, the transaction_id that
              represents an end-to-end user session at the BAP, a message ID to
              pair requests with callbacks, a timestamp to capture sending
              times, a ttl to specifiy the validity of the request, and a key to
              encrypt information if necessary.</li></ol> This object must be
              passed in every interaction between a BAP and a BPP. In HTTP/S
              implementations, it is not necessary to send the context during
              the synchronous response. However, in asynchronous protocols, the
              context must be sent during all interactions,
            type: object
            additionalProperties: false
            properties:
              domain:
                description: Domain code that is relevant to this transaction context
                allOf:
                  - type: string
                    description: >-
                      Standard code representing the domain. The standard is
                      usually published as part of the network policy.
                      Furthermore, the network facilitator should also provide a
                      mechanism to provide the supported domains of a network.
              location:
                description: >-
                  The location where the transaction is intended to be
                  fulfilled.
                allOf:
                  - description: The physical location of something
                    type: object
                    additionalProperties: false
                    properties:
                      id:
                        type: string
                      descriptor: &ref_366
                        description: Physical description of something.
                        type: object
                        additionalProperties: false
                        properties:
                          name:
                            type: string
                          code:
                            type: string
                          short_desc:
                            type: string
                          long_desc:
                            type: string
                          additional_desc:
                            type: object
                            properties:
                              url:
                                type: string
                              content_type:
                                type: string
                                enum:
                                  - text/plain
                                  - text/html
                                  - application/json
                          media:
                            type: array
                            items:
                              description: This object contains a url to a media file.
                              type: object
                              additionalProperties: false
                              properties:
                                mimetype:
                                  description: >-
                                    indicates the nature and format of the
                                    document, file, or assortment of bytes. MIME
                                    types are defined and standardized in IETF's
                                    RFC 6838
                                  type: string
                                url:
                                  description: The URL of the file
                                  type: string
                                  format: uri
                                signature:
                                  description: >-
                                    The digital signature of the file signed by
                                    the sender
                                  type: string
                                dsa:
                                  description: The signing algorithm used by the sender
                                  type: string
                          images:
                            type: array
                            items:
                              description: Describes an image
                              type: object
                              additionalProperties: false
                              properties:
                                url:
                                  description: >-
                                    URL to the image. This can be a data url or
                                    an remote url
                                  type: string
                                  format: uri
                                size_type:
                                  description: >-
                                    The size of the image. The network policy
                                    can define the default dimensions of each
                                    type
                                  type: string
                                  enum:
                                    - xs
                                    - sm
                                    - md
                                    - lg
                                    - xl
                                    - custom
                                width:
                                  description: Width of the image in pixels
                                  type: string
                                height:
                                  description: Height of the image in pixels
                                  type: string
                      map_url:
                        description: >-
                          The url to the map of the location. This can be a
                          globally recognized map url or the one specified by
                          the network policy.
                        type: string
                        format: uri
                      gps:
                        description: The GPS co-ordinates of this location.
                        allOf:
                          - &ref_362
                            description: Describes a GPS coordinate
                            type: string
                            pattern: >-
                              ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                      address:
                        description: The address of this location.
                        allOf:
                          - description: Describes a postal address.
                            type: string
                      city:
                        description: The city this location is, or is located within
                        allOf:
                          - description: Describes a city
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                description: Name of the city
                                type: string
                              code:
                                description: City code
                                type: string
                      district:
                        description: The state this location is, or is located within
                        type: string
                      state:
                        description: The state this location is, or is located within
                        allOf:
                          - description: >-
                              A bounded geopolitical region of governance inside
                              a country.
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the state
                              code:
                                type: string
                                description: >-
                                  State code as per country or international
                                  standards
                      country:
                        description: The country this location is, or is located within
                        allOf:
                          - description: Describes a country
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the country
                              code:
                                type: string
                                description: >-
                                  Country code as per ISO 3166-1 and ISO 3166-2
                                  format
                      area_code:
                        type: string
                      circle:
                        description: >-
                          Describes a circular region of a specified radius
                          centered at a specified GPS coordinate.
                        type: object
                        additionalProperties: false
                        properties:
                          gps: *ref_362
                          radius:
                            description: Describes a scalar
                            type: object
                            additionalProperties: false
                            properties:
                              type:
                                type: string
                                enum:
                                  - CONSTANT
                                  - VARIABLE
                              value: &ref_363
                                description: Describes a numerical value in decimal form
                                type: string
                                pattern: '[+-]?([0-9]*[.])?[0-9]+'
                              estimated_value: *ref_363
                              computed_value: *ref_363
                              range:
                                type: object
                                properties:
                                  min: *ref_363
                                  max: *ref_363
                              unit:
                                type: string
                      polygon:
                        description: The boundary polygon of this location
                        type: string
                      3dspace:
                        description: The three dimensional region describing this location
                        type: string
                      rating:
                        description: The rating of this location
                        allOf:
                          - description: >-
                              Rating value given to the object. This can be a
                              single value or can also contain an inequality
                              operator like gt, gte, lt, lte. This can also
                              contain an inequality expression containing
                              logical operators like && and ||.
                            type: string
              action:
                description: >-
                  The Beckn protocol method being called by the sender and
                  executed at the receiver.
                type: string
              version:
                type: string
                description: Version of transaction protocol being used by the sender.
              bap_id:
                description: Subscriber ID of the BAP
                allOf:
                  - &ref_364
                    description: >-
                      A globally unique identifier of the platform, Typically it
                      is the fully qualified domain name (FQDN) of the platform.
                    type: string
              bap_uri:
                description: Subscriber URL of the BAP for accepting callbacks from BPPs.
                allOf:
                  - &ref_365
                    description: >-
                      The callback URL of the Subscriber. This should
                      necessarily contain the same domain name as set in
                      `subscriber_id``.
                    type: string
                    format: uri
              bpp_id:
                description: Subscriber ID of the BPP
                allOf:
                  - *ref_364
              bpp_uri:
                description: Subscriber URL of the BPP for accepting calls from BAPs.
                allOf:
                  - *ref_365
              transaction_id:
                description: >-
                  This is a unique value which persists across all API calls
                  from `search` through `confirm`. This is done to indicate an
                  active user session across multiple requests. The BPPs can use
                  this value to push personalized recommendations, and dynamic
                  offerings related to an ongoing transaction despite being
                  unaware of the user active on the BAP.
                type: string
                format: uuid
              message_id:
                description: >-
                  This is a unique value which persists during a request /
                  callback cycle. Since beckn protocol APIs are asynchronous,
                  BAPs need a common value to match an incoming callback from a
                  BPP to an earlier call. This value can also be used to ignore
                  duplicate messages coming from the BPP. It is recommended to
                  generate a fresh message_id for every new interaction. When
                  sending unsolicited callbacks, BPPs must generate a new
                  message_id.
                type: string
                format: uuid
              timestamp:
                description: Time of request generation in RFC3339 format
                type: string
                format: date-time
              key:
                description: The encryption public key of the sender
                type: string
              ttl:
                description: >-
                  The duration in ISO8601 format after timestamp for which this
                  message holds valid
                type: string
          - type: object
            properties:
              action:
                enum:
                  - cancel
            required:
              - action
      message:
        type: object
        properties:
          order_id:
            type: string
            description: >-
              Human-readable ID of the order. This is generated at the BPP
              layer. The BPP can either generate order id within its system or
              forward the order ID created at the provider level.
          cancellation_reason_id:
            type: string
          descriptor: *ref_366
        required:
          - order_id
    required:
      - context
      - message
  on_cancel:
    type: object
    properties:
      context:
        allOf:
          - description: >-
              Every API call in beckn protocol has a context. It provides a
              high-level overview to the receiver about the nature of the
              intended transaction. Typically, it is the BAP that sets the
              transaction context based on the consumer's location and action on
              their UI. But sometimes, during unsolicited callbacks, the BPP
              also sets the transaction context but it is usually the same as
              the context of a previous full-cycle, request-callback interaction
              between the BAP and the BPP. The context object contains four
              types of fields. <ol><li>Demographic information about the
              transaction using fields like `domain`, `country`, and
              `region`.</li><li>Addressing details like the sending and
              receiving platform's ID and API URL.</li><li>Interoperability
              information like the protocol version that implemented by the
              sender and,</li><li>Transaction details like the method being
              called at the receiver's endpoint, the transaction_id that
              represents an end-to-end user session at the BAP, a message ID to
              pair requests with callbacks, a timestamp to capture sending
              times, a ttl to specifiy the validity of the request, and a key to
              encrypt information if necessary.</li></ol> This object must be
              passed in every interaction between a BAP and a BPP. In HTTP/S
              implementations, it is not necessary to send the context during
              the synchronous response. However, in asynchronous protocols, the
              context must be sent during all interactions,
            type: object
            additionalProperties: false
            properties:
              domain:
                description: Domain code that is relevant to this transaction context
                allOf:
                  - type: string
                    description: >-
                      Standard code representing the domain. The standard is
                      usually published as part of the network policy.
                      Furthermore, the network facilitator should also provide a
                      mechanism to provide the supported domains of a network.
              location:
                description: >-
                  The location where the transaction is intended to be
                  fulfilled.
                allOf:
                  - &ref_383
                    description: The physical location of something
                    type: object
                    additionalProperties: false
                    properties:
                      id: &ref_384
                        type: string
                      descriptor: &ref_371
                        description: Physical description of something.
                        type: object
                        additionalProperties: false
                        properties:
                          name:
                            type: string
                          code:
                            type: string
                          short_desc:
                            type: string
                          long_desc:
                            type: string
                          additional_desc:
                            type: object
                            properties:
                              url:
                                type: string
                              content_type:
                                type: string
                                enum:
                                  - text/plain
                                  - text/html
                                  - application/json
                          media:
                            type: array
                            items: &ref_393
                              description: This object contains a url to a media file.
                              type: object
                              additionalProperties: false
                              properties:
                                mimetype:
                                  description: >-
                                    indicates the nature and format of the
                                    document, file, or assortment of bytes. MIME
                                    types are defined and standardized in IETF's
                                    RFC 6838
                                  type: string
                                url:
                                  description: The URL of the file
                                  type: string
                                  format: uri
                                signature:
                                  description: >-
                                    The digital signature of the file signed by
                                    the sender
                                  type: string
                                dsa:
                                  description: The signing algorithm used by the sender
                                  type: string
                          images:
                            type: array
                            items: &ref_376
                              description: Describes an image
                              type: object
                              additionalProperties: false
                              properties:
                                url:
                                  description: >-
                                    URL to the image. This can be a data url or
                                    an remote url
                                  type: string
                                  format: uri
                                size_type:
                                  description: >-
                                    The size of the image. The network policy
                                    can define the default dimensions of each
                                    type
                                  type: string
                                  enum:
                                    - xs
                                    - sm
                                    - md
                                    - lg
                                    - xl
                                    - custom
                                width:
                                  description: Width of the image in pixels
                                  type: string
                                height:
                                  description: Height of the image in pixels
                                  type: string
                      map_url:
                        description: >-
                          The url to the map of the location. This can be a
                          globally recognized map url or the one specified by
                          the network policy.
                        type: string
                        format: uri
                      gps:
                        description: The GPS co-ordinates of this location.
                        allOf:
                          - &ref_367
                            description: Describes a GPS coordinate
                            type: string
                            pattern: >-
                              ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                      address:
                        description: The address of this location.
                        allOf:
                          - &ref_380
                            description: Describes a postal address.
                            type: string
                      city:
                        description: The city this location is, or is located within
                        allOf:
                          - &ref_382
                            description: Describes a city
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                description: Name of the city
                                type: string
                              code:
                                description: City code
                                type: string
                      district:
                        description: The state this location is, or is located within
                        type: string
                      state:
                        description: The state this location is, or is located within
                        allOf:
                          - &ref_381
                            description: >-
                              A bounded geopolitical region of governance inside
                              a country.
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the state
                              code:
                                type: string
                                description: >-
                                  State code as per country or international
                                  standards
                      country:
                        description: The country this location is, or is located within
                        allOf:
                          - description: Describes a country
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the country
                              code:
                                type: string
                                description: >-
                                  Country code as per ISO 3166-1 and ISO 3166-2
                                  format
                      area_code:
                        type: string
                      circle:
                        description: >-
                          Describes a circular region of a specified radius
                          centered at a specified GPS coordinate.
                        type: object
                        additionalProperties: false
                        properties:
                          gps: *ref_367
                          radius: &ref_386
                            description: Describes a scalar
                            type: object
                            additionalProperties: false
                            properties:
                              type:
                                type: string
                                enum:
                                  - CONSTANT
                                  - VARIABLE
                              value: &ref_368
                                description: Describes a numerical value in decimal form
                                type: string
                                pattern: '[+-]?([0-9]*[.])?[0-9]+'
                              estimated_value: *ref_368
                              computed_value: *ref_368
                              range:
                                type: object
                                properties:
                                  min: *ref_368
                                  max: *ref_368
                              unit:
                                type: string
                      polygon:
                        description: The boundary polygon of this location
                        type: string
                      3dspace:
                        description: The three dimensional region describing this location
                        type: string
                      rating:
                        description: The rating of this location
                        allOf:
                          - &ref_372
                            description: >-
                              Rating value given to the object. This can be a
                              single value or can also contain an inequality
                              operator like gt, gte, lt, lte. This can also
                              contain an inequality expression containing
                              logical operators like && and ||.
                            type: string
              action:
                description: >-
                  The Beckn protocol method being called by the sender and
                  executed at the receiver.
                type: string
              version:
                type: string
                description: Version of transaction protocol being used by the sender.
              bap_id:
                description: Subscriber ID of the BAP
                allOf:
                  - &ref_369
                    description: >-
                      A globally unique identifier of the platform, Typically it
                      is the fully qualified domain name (FQDN) of the platform.
                    type: string
              bap_uri:
                description: Subscriber URL of the BAP for accepting callbacks from BPPs.
                allOf:
                  - &ref_370
                    description: >-
                      The callback URL of the Subscriber. This should
                      necessarily contain the same domain name as set in
                      `subscriber_id``.
                    type: string
                    format: uri
              bpp_id:
                description: Subscriber ID of the BPP
                allOf:
                  - *ref_369
              bpp_uri:
                description: Subscriber URL of the BPP for accepting calls from BAPs.
                allOf:
                  - *ref_370
              transaction_id:
                description: >-
                  This is a unique value which persists across all API calls
                  from `search` through `confirm`. This is done to indicate an
                  active user session across multiple requests. The BPPs can use
                  this value to push personalized recommendations, and dynamic
                  offerings related to an ongoing transaction despite being
                  unaware of the user active on the BAP.
                type: string
                format: uuid
              message_id:
                description: >-
                  This is a unique value which persists during a request /
                  callback cycle. Since beckn protocol APIs are asynchronous,
                  BAPs need a common value to match an incoming callback from a
                  BPP to an earlier call. This value can also be used to ignore
                  duplicate messages coming from the BPP. It is recommended to
                  generate a fresh message_id for every new interaction. When
                  sending unsolicited callbacks, BPPs must generate a new
                  message_id.
                type: string
                format: uuid
              timestamp:
                description: Time of request generation in RFC3339 format
                type: string
                format: date-time
              key:
                description: The encryption public key of the sender
                type: string
              ttl:
                description: >-
                  The duration in ISO8601 format after timestamp for which this
                  message holds valid
                type: string
          - type: object
            properties:
              action:
                enum:
                  - on_cancel
            required:
              - action
      message:
        type: object
        properties:
          order:
            description: >-
              Describes a legal purchase order. It contains the complete details
              of the legal contract created between the buyer and the seller.
            type: object
            additionalProperties: false
            properties:
              id:
                type: string
                description: >-
                  Human-readable ID of the order. This is generated at the BPP
                  layer. The BPP can either generate order id within its system
                  or forward the order ID created at the provider level.
              ref_order_ids:
                description: A list of order IDs to link this order to previous orders.
                type: array
                items:
                  type: string
                  description: ID of a previous order
              status:
                description: >-
                  Status of the order. Allowed values can be defined by the
                  network policy
                type: string
              type:
                description: >-
                  This is used to indicate the type of order being created to
                  BPPs. Sometimes orders can be linked to previous orders, like
                  a replacement order in a retail domain. A follow-up
                  consultation in healthcare domain. A single order part of a
                  subscription order. The list of order types can be
                  standardized at the network level.
                type: string
                default: DEFAULT
                enum:
                  - DRAFT
                  - DEFAULT
              provider:
                description: >-
                  Details of the provider whose catalog items have been
                  selected.
                allOf:
                  - description: Describes the catalog of a business.
                    type: object
                    properties:
                      id:
                        type: string
                        description: Id of the provider
                      descriptor: *ref_371
                      category_id:
                        type: string
                        description: Category Id of the provider at the BPP-level catalog
                      rating: *ref_372
                      time: &ref_375
                        description: >-
                          Describes time in its various forms. It can be a
                          single point in time; duration; or a structured
                          timetable of operations<br>This has properties like
                          label, time stamp,duration,range, days, schedule
                        type: object
                        additionalProperties: false
                        properties:
                          label:
                            type: string
                          timestamp:
                            type: string
                            format: date-time
                          duration: &ref_373
                            description: Describes duration as per ISO8601 format
                            type: string
                          range:
                            type: object
                            properties:
                              start:
                                type: string
                                format: date-time
                              end:
                                type: string
                                format: date-time
                          days:
                            type: string
                            description: >-
                              comma separated values representing days of the
                              week
                          schedule:
                            description: >-
                              Describes schedule as a repeating time period used
                              to describe a regularly recurring event. At a
                              minimum a schedule will specify frequency which
                              describes the interval between occurrences of the
                              event. Additional information can be provided to
                              specify the schedule more precisely. This includes
                              identifying the timestamps(s) of when the event
                              will take place. Schedules may also have holidays
                              to exclude a specific day from the
                              schedule.<br>This has properties like frequency,
                              holidays, times
                            type: object
                            additionalProperties: false
                            properties:
                              frequency: *ref_373
                              holidays:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                              times:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                      categories:
                        type: array
                        items:
                          description: >-
                            A label under which a collection of items can be
                            grouped.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_374
                              description: ID of the category
                              type: string
                            parent_category_id: *ref_374
                            descriptor: *ref_371
                            time: *ref_375
                            ttl:
                              description: Time to live for an instance of this schema
                            tags:
                              type: array
                              items: &ref_377
                                description: >-
                                  A collection of tag objects with group level
                                  attributes. For detailed documentation on the
                                  Tags and Tag Groups schema go to
                                  https://github.com/beckn/protocol-specifications/discussions/316
                                type: object
                                additionalProperties: false
                                properties:
                                  display:
                                    description: >-
                                      Indicates the display properties of the
                                      tag group. If display is set to false,
                                      then the group will not be displayed. If
                                      it is set to true, it should be displayed.
                                      However, group-level display properties
                                      can be overriden by individual tag-level
                                      display property. As this schema is purely
                                      for catalog display purposes, it is not
                                      recommended to send this value during
                                      search.
                                    type: boolean
                                    default: true
                                  descriptor:
                                    description: >-
                                      Description of the TagGroup, can be used
                                      to store detailed information.
                                    allOf:
                                      - *ref_371
                                  list:
                                    description: >-
                                      An array of Tag objects listed under this
                                      group. This property can be set by BAPs
                                      during search to narrow the `search` and
                                      achieve more relevant results. When
                                      received during `on_search`, BAPs must
                                      render this list under the heading
                                      described by the `name` property of this
                                      schema.
                                    type: array
                                    items:
                                      description: >-
                                        Describes a tag. This is used to contain
                                        extended metadata. This object can be
                                        added as a property to any schema to
                                        describe extended attributes. For BAPs,
                                        tags can be sent during search to
                                        optimize and filter search results. BPPs
                                        can use tags to index their catalog to
                                        allow better search functionality. Tags
                                        are sent by the BPP as part of the
                                        catalog response in the `on_search`
                                        callback. Tags are also meant for
                                        display purposes. Upon receiving a tag,
                                        BAPs are meant to render them as
                                        name-value pairs. This is particularly
                                        useful when rendering tabular
                                        information about a product or service.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor:
                                          description: >-
                                            Description of the Tag, can be used to
                                            store detailed information.
                                          allOf:
                                            - *ref_371
                                        value:
                                          description: >-
                                            The value of the tag. This set by the
                                            BPP and rendered as-is by the BAP.
                                          type: string
                                        display:
                                          description: >-
                                            This value indicates if the tag is
                                            intended for display purposes. If set to
                                            `true`, then this tag must be displayed.
                                            If it is set to `false`, it should not
                                            be displayed. This value can override
                                            the group display value.
                                          type: boolean
                      fulfillments:
                        type: array
                        items: &ref_398
                          description: >-
                            Describes how a an order will be rendered/fulfilled
                            to the end-customer
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_389
                              description: >-
                                Unique reference ID to the fulfillment of an
                                order
                              type: string
                            type:
                              description: >-
                                A code that describes the mode of fulfillment.
                                This is typically set when there are multiple
                                ways an order can be fulfilled. For example, a
                                retail order can be fulfilled either via store
                                pickup or a home delivery. Similarly, a medical
                                consultation can be provided either in-person or
                                via tele-consultation. The network policy must
                                publish standard fulfillment type codes for the
                                different modes of fulfillment.
                              type: string
                            rateable:
                              description: Whether the fulfillment can be rated or not
                              type: boolean
                            rating:
                              description: The rating value of the fulfullment service.
                              allOf:
                                - *ref_372
                            state:
                              description: >-
                                The current state of fulfillment. The BPP must
                                set this value whenever the state of the order
                                fulfillment changes and fire an unsolicited
                                `on_status` call.
                              allOf:
                                - &ref_392
                                  description: Describes the state of fulfillment
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    descriptor: *ref_371
                                    updated_at:
                                      type: string
                                      format: date-time
                                    updated_by:
                                      type: string
                                      description: ID of entity which changed the state
                            tracking:
                              type: boolean
                              description: >-
                                Indicates whether the fulfillment allows
                                tracking
                              default: false
                            customer:
                              description: >-
                                The person that will ultimately receive the
                                order
                              allOf:
                                - description: >-
                                    Describes a customer buying/availing a
                                    product or a service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: &ref_378
                                      description: Describes a person as any individual
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          type: string
                                          description: Describes the identity of the person
                                        url:
                                          description: Profile url of the person
                                          type: string
                                          format: uri
                                        name:
                                          description: the name of the person
                                          type: string
                                        image: *ref_376
                                        age:
                                          description: Age of the person
                                          allOf:
                                            - *ref_373
                                        dob:
                                          description: Date of birth of the person
                                          type: string
                                          format: date
                                        gender:
                                          type: string
                                          description: >-
                                            Gender of something, typically a Person,
                                            but possibly also fictional characters,
                                            animals, etc. While Male and Female may
                                            be used, text strings are also
                                            acceptable for people who do not
                                            identify as a binary gender.Allowed
                                            values for this field can be published
                                            in the network policy
                                        creds:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a credential of an entity -
                                              Person or Organization
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              id:
                                                type: string
                                              type:
                                                type: string
                                                default: VerifiableCredential
                                              url:
                                                description: URL of the credential
                                                type: string
                                                format: uri
                                        languages:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a language known to the
                                              person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        skills:
                                          type: array
                                          items:
                                            description: Describes a skill of the person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        tags:
                                          type: array
                                          items: *ref_377
                                    contact: &ref_379
                                      description: >-
                                        Describes the contact information of an
                                        entity
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        phone:
                                          type: string
                                        email:
                                          type: string
                                        jcard:
                                          type: object
                                          description: >-
                                            A Jcard object as per
                                            draft-ietf-jcardcal-jcard-03
                                            specification
                            agent:
                              description: >-
                                The agent that is currently handling the
                                fulfillment of the order
                              allOf:
                                - description: >-
                                    Describes the direct performer, driver or
                                    executor that fulfills an order. It is
                                    usually a person. But in some rare cases, it
                                    could be a non-living entity like a drone,
                                    or a bot. Some examples of agents are Doctor
                                    in the healthcare sector, a driver in the
                                    mobility sector, or a delivery person in the
                                    logistics sector. This object can be set at
                                    any stage of the order lifecycle. This can
                                    be set at the discovery stage when the BPP
                                    wants to provide details on the agent
                                    fulfilling the order, like in healthcare,
                                    where the doctor's name appears during
                                    search. This object can also used to search
                                    for a particular person that the customer
                                    wants fulfilling an order. Sometimes, this
                                    object gets instantiated after the order is
                                    confirmed, like in the case of on-demand
                                    taxis, where the driver is assigned after
                                    the user confirms the ride.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: *ref_378
                                    contact: *ref_379
                                    organization: &ref_387
                                      description: >-
                                        An organization. Usually a recognized
                                        business entity.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor: *ref_371
                                        address:
                                          description: The postal address of the organization
                                          allOf:
                                            - *ref_380
                                        state:
                                          description: >-
                                            The state where the organization's
                                            address is registered
                                          allOf:
                                            - *ref_381
                                        city:
                                          description: >-
                                            The city where the the organization's
                                            address is registered
                                          allOf:
                                            - *ref_382
                                        contact: *ref_379
                                    rating: *ref_372
                            contact: *ref_379
                            vehicle:
                              description: >-
                                Describes a vehicle is a device that is designed
                                or used to transport people or cargo over land,
                                water, air, or through space.<br>This has
                                properties like category, capacity, make, model,
                                size,variant,color,energy_type,registration
                              type: object
                              additionalProperties: false
                              properties:
                                category:
                                  type: string
                                capacity:
                                  type: integer
                                make:
                                  type: string
                                model:
                                  type: string
                                size:
                                  type: string
                                variant:
                                  type: string
                                color:
                                  type: string
                                energy_type:
                                  type: string
                                registration:
                                  type: string
                                wheels_count:
                                  type: string
                                cargo_volumne:
                                  type: string
                                wheelchair_access:
                                  type: string
                                code:
                                  type: string
                                emission_standard:
                                  type: string
                            stops:
                              description: >-
                                The list of logical stops encountered during the
                                fulfillment of an order.
                              type: array
                              items:
                                description: >-
                                  A logical point in space and time during the
                                  fulfillment of an order.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    type: string
                                  parent_stop_id:
                                    type: string
                                  location:
                                    description: Location of the stop
                                    allOf:
                                      - *ref_383
                                  type:
                                    description: >-
                                      The type of stop. Allowed values of this
                                      property can be defined by the network
                                      policy.
                                    type: string
                                  time:
                                    description: Timings applicable at the stop.
                                    allOf:
                                      - *ref_375
                                  instructions:
                                    description: >-
                                      Instructions that need to be followed at
                                      the stop
                                    allOf:
                                      - *ref_371
                                  contact:
                                    description: Contact details of the stop
                                    allOf:
                                      - *ref_379
                                  person:
                                    description: >-
                                      The details of the person present at the
                                      stop
                                    allOf:
                                      - *ref_378
                                  authorization:
                                    description: >-
                                      Describes an authorization mechanism used
                                      to start or end the fulfillment of an
                                      order. For example, in the mobility
                                      sector, the driver may require a one-time
                                      password to initiate the ride. In the
                                      healthcare sector, a patient may need to
                                      provide a password to open a video
                                      conference link during a teleconsultation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      type:
                                        description: >-
                                          Type of authorization mechanism used.
                                          The allowed values for this field can be
                                          published as part of the network policy.
                                        type: string
                                      token:
                                        description: >-
                                          Token used for authorization. This is
                                          typically generated at the BPP. The BAP
                                          can send this value to the user via any
                                          channel that it uses to authenticate the
                                          user like SMS, Email, Push notification,
                                          or in-app rendering.
                                        type: string
                                      valid_from:
                                        description: >-
                                          Timestamp in RFC3339 format from which
                                          token is valid
                                        type: string
                                        format: date-time
                                      valid_to:
                                        description: >-
                                          Timestamp in RFC3339 format until which
                                          token is valid
                                        type: string
                                        format: date-time
                                      status:
                                        description: Status of the token
                                        type: string
                            path:
                              description: >-
                                The physical path taken by the agent that can be
                                rendered on a map. The allowed format of this
                                property can be set by the network.
                              type: string
                            tags:
                              type: array
                              items: *ref_377
                      payments:
                        type: array
                        items: &ref_403
                          description: >-
                            Describes the terms of settlement between the BAP
                            and the BPP for a single transaction. When
                            instantiated, this object contains <ol><li>the
                            amount that has to be settled,</li><li>The payment
                            destination destination details</li><li>When the
                            settlement should happen, and</li><li>A transaction
                            reference ID</li></ol>. During a transaction, the
                            BPP reserves the right to decide the terms of
                            payment. However, the BAP can send its terms to the
                            BPP first. If the BPP does not agree to those terms,
                            it must overwrite the terms and return them to the
                            BAP. If overridden, the BAP must either agree to the
                            terms sent by the BPP in order to preserve the
                            provider's autonomy, or abort the transaction. In
                            case of such disagreements, the BAP and the BPP can
                            perform offline negotiations on the payment terms.
                            Once an agreement is reached, the BAP and BPP can
                            resume transactions.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_390
                              description: >-
                                ID of the payment term that can be referred at
                                an item or an order level in a catalog
                              type: string
                            collected_by:
                              description: >-
                                This field indicates who is the collector of
                                payment. The BAP can set this value to 'bap' if
                                it wants to collect the payment first and 
                                settle it to the BPP. If the BPP agrees to those
                                terms, the BPP should not send the payment url.
                                Alternatively, the BPP can set this field with
                                the value 'bpp' if it wants the payment to be
                                made directly.
                              type: string
                            url:
                              type: string
                              description: >-
                                A payment url to be called by the BAP. If empty,
                                then the payment is to be done offline. The
                                details of payment should be present in the
                                params object. If tl_method = http/get, then the
                                payment details will be sent as url params. Two
                                url param values, ```$transaction_id``` and
                                ```$amount``` are mandatory.
                              format: uri
                            tl_method:
                              type: string
                            params:
                              type: object
                              properties:
                                transaction_id:
                                  type: string
                                  description: >-
                                    The reference transaction ID associated with
                                    a payment activity
                                amount:
                                  type: string
                                currency:
                                  type: string
                                bank_code:
                                  type: string
                                bank_account_number:
                                  type: string
                                virtual_payment_address:
                                  type: string
                                source_bank_code:
                                  type: string
                                source_bank_account_number:
                                  type: string
                                source_virtual_payment_address:
                                  type: string
                            type:
                              type: string
                              enum:
                                - PRE-ORDER
                                - PRE-FULFILLMENT
                                - ON-FULFILLMENT
                                - POST-FULFILLMENT
                                - ON-ORDER
                            status:
                              type: string
                              enum:
                                - PAID
                                - NOT-PAID
                            time: *ref_375
                            tags:
                              type: array
                              items: *ref_377
                      locations:
                        type: array
                        items: *ref_383
                      offers:
                        type: array
                        items: &ref_397
                          description: >-
                            An offer associated with a catalog. This is
                            typically used to promote a particular product and
                            enable more purchases.
                          type: object
                          additionalProperties: false
                          properties:
                            id:
                              type: string
                            descriptor: *ref_371
                            location_ids:
                              type: array
                              items: *ref_384
                            category_ids:
                              type: array
                              items: *ref_374
                            item_ids:
                              type: array
                              items: &ref_385
                                description: ID of the item.
                                type: string
                            time: *ref_375
                            tags:
                              type: array
                              items: *ref_377
                      items:
                        type: array
                        items: &ref_395
                          description: >-
                            Describes a product or a service offered to the end
                            consumer by the provider. In the mobility sector, it
                            can represent a fare product like one way journey.
                            In the logistics sector, it can represent the
                            delivery service offering. In the retail domain it
                            can represent a product like a grocery item.
                          type: object
                          additionalProperties: false
                          properties:
                            id: *ref_385
                            parent_item_id:
                              description: ID of the item, this item is a variant of
                              allOf:
                                - *ref_385
                            parent_item_quantity:
                              description: >-
                                The number of units of the parent item this item
                                is a multiple of
                              allOf:
                                - &ref_388
                                  description: Describes the count or amount of an item
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    allocated:
                                      description: >-
                                        This represents the exact quantity
                                        allocated for purchase of the item.
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_386
                                    available:
                                      description: >-
                                        This represents the exact quantity
                                        available for purchase of the item. The
                                        buyer can only purchase multiples of
                                        this
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_386
                                    maximum:
                                      description: >-
                                        This represents the maximum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                        measure: *ref_386
                                    minimum:
                                      description: >-
                                        This represents the minimum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_386
                                    selected:
                                      description: >-
                                        This represents the quantity selected
                                        for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_386
                                    unitized:
                                      description: >-
                                        This represents the quantity available
                                        in a single unit of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                          maximum: 1
                                        measure: *ref_386
                            descriptor:
                              description: Physical description of the item
                              allOf:
                                - *ref_371
                            creator:
                              description: The creator of this item
                              allOf:
                                - *ref_387
                            price:
                              description: >-
                                The price of this item, if it has intrinsic
                                value
                              allOf:
                                - &ref_391
                                  description: Describes the price of a product or service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    currency:
                                      type: string
                                    value: *ref_368
                                    estimated_value: *ref_368
                                    computed_value: *ref_368
                                    listed_value: *ref_368
                                    offered_value: *ref_368
                                    minimum_value: *ref_368
                                    maximum_value: *ref_368
                            quantity:
                              description: The selling quantity of the item
                              allOf:
                                - *ref_388
                            category_ids:
                              description: Categories this item can be listed under
                              type: array
                              items:
                                allOf:
                                  - *ref_374
                            fulfillment_ids:
                              description: Modes through which this item can be fulfilled
                              type: array
                              items:
                                allOf:
                                  - *ref_389
                            location_ids:
                              description: Provider Locations this item is available in
                              type: array
                              items:
                                allOf:
                                  - *ref_384
                            payment_ids:
                              description: >-
                                Payment modalities through which this item can
                                be ordered
                              type: array
                              items:
                                allOf:
                                  - *ref_390
                            add_ons:
                              type: array
                              items: &ref_396
                                description: >-
                                  Describes an additional item offered as a
                                  value-addition to a product or service. This
                                  does not exist independently in a catalog and
                                  is always associated with an item.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    description: Provider-defined ID of the add-on
                                    type: string
                                  descriptor: *ref_371
                                  price: *ref_391
                                  quantity: *ref_388
                            cancellation_terms:
                              description: Cancellation terms of this item
                              type: array
                              items: &ref_399
                                description: >-
                                  Describes the cancellation terms of an item or
                                  an order. This can be referenced at an item or
                                  order level. Item-level cancellation terms can
                                  override the terms at the order level.
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_392
                                  reason_required:
                                    description: >-
                                      Indicates whether a reason is required to
                                      cancel the order
                                    type: boolean
                                  cancel_by:
                                    description: >-
                                      Information related to the time of
                                      cancellation.
                                    allOf:
                                      - *ref_375
                                  cancellation_fee:
                                    description: A fee applied on a particular entity
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      percentage:
                                        description: Percentage of a value
                                        allOf:
                                          - *ref_368
                                      amount:
                                        description: A fixed value
                                        allOf:
                                          - *ref_391
                                  xinput: &ref_394
                                    description: >-
                                      Contains any additional or extended inputs
                                      required to confirm an order. This is
                                      typically a Form Input. Sometimes,
                                      selection of catalog elements is not
                                      enough for the BPP to confirm an order.
                                      For example, to confirm a flight ticket,
                                      the airline requires details of the
                                      passengers along with information on
                                      baggage, identity, in addition to the
                                      class of ticket. Similarly, a logistics
                                      company may require details on the nature
                                      of shipment in order to confirm the
                                      shipping. A recruiting firm may require
                                      additional details on the applicant in
                                      order to confirm a job application. For
                                      all such purposes, the BPP can choose to
                                      send this object attached to any object in
                                      the catalog that is required to be sent
                                      while placing the order. This object can
                                      typically be sent at an item level or at
                                      the order level. The item level XInput
                                      will override the Order level XInput as it
                                      indicates a special requirement of
                                      information for that particular item.
                                      Hence the BAP must render a separate form
                                      for the Item and another form at the Order
                                      level before confirmation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      form:
                                        description: Describes a form
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          url:
                                            description: >-
                                              The URL from where the form can be
                                              fetched. The content fetched from the
                                              url must be processed as per the
                                              mime_type specified in this object. Once
                                              fetched, the rendering platform can
                                              choosed to render the form as-is as an
                                              embeddable element; or process it
                                              further to blend with the theme of the
                                              application. In case the interface is
                                              non-visual, the the render can process
                                              the form data and reproduce it as per
                                              the standard specified in the form.
                                            type: string
                                            format: uri
                                          data:
                                            description: The form submission data
                                            type: object
                                            additionalProperties:
                                              type: string
                                          mime_type:
                                            description: >-
                                              This field indicates the nature and
                                              format of the form received by querying
                                              the url. MIME types are defined and
                                              standardized in IETF's RFC 6838.
                                            type: string
                                            enum:
                                              - text/html
                                              - application/xml
                                          submission_id:
                                            type: string
                                            format: uuid
                                      required:
                                        description: >-
                                          Indicates whether the form data is
                                          mandatorily required by the BPP to
                                          confirm the order.
                                        type: boolean
                                  external_ref: *ref_393
                            refund_terms:
                              description: Refund terms of this item
                              type: array
                              items: &ref_400
                                description: Refund term of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_381
                                  refund_eligible:
                                    description: >-
                                      Indicates if cancellation will result in a
                                      refund
                                    type: boolean
                                  refund_within:
                                    description: >-
                                      Time within which refund will be processed
                                      after successful cancellation.
                                    allOf:
                                      - *ref_375
                                  refund_amount: *ref_391
                            replacement_terms:
                              description: >-
                                Terms that are applicable be met when this item
                                is replaced
                              type: array
                              items: &ref_401
                                description: The replacement policy of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_381
                                  replace_within:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to replace the item
                                      before a certain date-time, failing which
                                      they will not be eligible for replacement
                                    allOf:
                                      - *ref_375
                                  external_ref: *ref_393
                            return_terms:
                              description: >-
                                Terms that are applicable when this item is
                                returned
                              type: array
                              items: &ref_402
                                description: >-
                                  Describes the return policy of an item or an
                                  order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term IETF''s applicable.
                                    allOf:
                                      - *ref_381
                                  return_eligible:
                                    description: >-
                                      Indicates whether the item is eligible for
                                      return
                                    type: boolean
                                  return_time:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to return the item to
                                      the origin before a certain date-time,
                                      failing which they will not be eligible
                                      for refund.
                                    allOf:
                                      - *ref_375
                                  return_location:
                                    description: >-
                                      The location where the item or order must
                                      / will be returned to
                                    allOf:
                                      - *ref_383
                                  fulfillment_managed_by:
                                    description: The entity that will perform the return
                                    type: string
                                    enum:
                                      - CONSUMER
                                      - PROVIDER
                            xinput:
                              description: >-
                                Additional input required from the customer to
                                purchase / avail this item
                              allOf:
                                - *ref_394
                            time:
                              description: >-
                                Temporal attributes of this item. This property
                                is used when the item exists on the catalog only
                                for a limited period of time.
                              allOf:
                                - *ref_375
                            rateable:
                              description: Whether this item can be rated
                              type: boolean
                            rating:
                              description: The rating of the item
                              allOf:
                                - *ref_372
                            matched:
                              description: >-
                                Whether this item is an exact match of the
                                request
                              type: boolean
                            related:
                              description: >-
                                Whether this item is a related item to the
                                exactly matched item
                              type: boolean
                            recommended:
                              description: >-
                                Whether this item is a recommended item to a
                                response
                              type: boolean
                            ttl:
                              description: >-
                                Time to live in seconds for an instance of this
                                schema
                              type: string
                            tags:
                              type: array
                              items: *ref_377
                      exp:
                        type: string
                        description: Time after which catalog has to be refreshed
                        format: date-time
                      rateable:
                        description: Whether this provider can be rated or not
                        type: boolean
                      ttl:
                        description: >-
                          The time-to-live in seconds, for this object. This can
                          be overriden at deeper levels. A value of -1 indicates
                          that this object is not cacheable.
                        type: string
                      tags:
                        type: array
                        items: *ref_377
              items:
                description: The items purchased / availed in this order
                type: array
                items: *ref_395
              add_ons:
                description: The add-ons purchased / availed in this order
                type: array
                items: *ref_396
              offers:
                description: The offers applied in this order
                type: array
                items: *ref_397
              billing:
                description: The billing details of this order
                allOf:
                  - description: >-
                      Describes the billing details of an entity.<br>This has
                      properties like
                      name,organization,address,email,phone,time,tax_number,
                      created_at,updated_at
                    type: object
                    additionalProperties: false
                    properties:
                      name:
                        description: Name of the billable entity
                        type: string
                      organization:
                        description: Details of the organization being billed.
                        allOf:
                          - *ref_387
                      address:
                        description: The address of the billable entity
                        allOf:
                          - *ref_380
                      state:
                        description: >-
                          The state where the billable entity resides. This is
                          important for state-level tax calculation
                        allOf:
                          - *ref_381
                      city:
                        description: The city where the billable entity resides.
                        allOf:
                          - *ref_382
                      email:
                        description: Email address where the bill is sent to
                        type: string
                        format: email
                      phone:
                        description: Phone number of the billable entity
                        type: string
                      time:
                        description: Details regarding the billing period
                        allOf:
                          - *ref_375
                      tax_id:
                        description: >-
                          ID of the billable entity as recognized by the
                          taxation authority
                        type: string
              fulfillments:
                description: The fulfillments involved in completing this order
                type: array
                items: *ref_398
              cancellation:
                description: The cancellation details of this order
                allOf:
                  - description: Describes a cancellation event
                    type: object
                    additionalProperties: false
                    properties:
                      time:
                        description: Date-time when the order was cancelled by the buyer
                        type: string
                        format: date-time
                      cancelled_by:
                        type: string
                        enum:
                          - CONSUMER
                          - PROVIDER
                      reason:
                        description: The reason for cancellation
                        allOf:
                          - description: Describes a selectable option
                            type: object
                            additionalProperties: false
                            properties:
                              id:
                                type: string
                              descriptor: *ref_371
                      additional_description:
                        description: >-
                          Any additional information regarding the nature of
                          cancellation
                        allOf:
                          - *ref_371
              cancellation_terms:
                description: Cancellation terms of this item
                type: array
                items: *ref_399
              documents:
                type: array
                items:
                  description: Documnents associated to the order
                  type: object
                  additionalProperties: false
                  properties:
                    descriptor: *ref_371
                    mime_type:
                      description: >-
                        This field indicates the nature and format of the form
                        received by querying the url. MIME types are defined and
                        standardized in IETF's RFC 6838.
                      type: string
                      enum:
                        - text/html
                        - application/html
                        - application/xml
                        - application/pdf
                    url:
                      description: >-
                        The URL from where the form can be fetched. The content
                        fetched from the url must be processed as per the
                        mime_type specified in this object.
                      type: string
                      format: uri
              refund_terms:
                description: Refund terms of this item
                type: array
                items: *ref_400
              replacement_terms:
                description: Replacement terms of this item
                type: array
                items: *ref_401
              return_terms:
                description: Return terms of this item
                type: array
                items: *ref_402
              quote:
                description: The mutually agreed upon quotation for this order.
                allOf:
                  - description: >-
                      Describes a quote. It is the estimated price of products
                      or services from the BPP.<br>This has properties like
                      price, breakup, ttl
                    type: object
                    additionalProperties: false
                    properties:
                      id:
                        description: ID of the quote.
                        type: string
                        format: uuid
                      price:
                        description: The total quoted price
                        allOf:
                          - *ref_391
                      breakup:
                        description: the breakup of the total quoted price
                        type: array
                        items:
                          type: object
                          properties:
                            item: *ref_395
                            title:
                              type: string
                            price: *ref_391
                      ttl: *ref_373
              payments:
                description: The terms of settlement for this order
                type: array
                items: *ref_403
              created_at:
                description: The date-time of creation of this order
                type: string
                format: date-time
              updated_at:
                description: The date-time of updated of this order
                type: string
                format: date-time
              xinput:
                description: >-
                  Additional input required from the customer to confirm this
                  order
                allOf:
                  - *ref_394
              tags:
                type: array
                items: *ref_377
        required:
          - order
      error:
        description: >-
          Describes an error object that is returned by a BAP, BPP or BG as a
          response or callback to an action by another network participant. This
          object is sent when any request received by a network participant is
          unacceptable. This object can be sent either during Ack or with the
          callback.
        type: object
        additionalProperties: false
        properties:
          code:
            type: string
            description: >-
              Standard error code. For full list of error codes, refer to
              docs/protocol-drafts/BECKN-005-ERROR-CODES-DRAFT-01.md of this
              repo"
          paths:
            type: string
            description: >-
              Path to json schema generating the error. Used only during json
              schema validation errors
          message:
            type: string
            description: >-
              Human readable message describing the error. Used mainly for
              logging. Not recommended to be shown to the user.
    required:
      - context
  status:
    type: object
    properties:
      context:
        allOf:
          - description: >-
              Every API call in beckn protocol has a context. It provides a
              high-level overview to the receiver about the nature of the
              intended transaction. Typically, it is the BAP that sets the
              transaction context based on the consumer's location and action on
              their UI. But sometimes, during unsolicited callbacks, the BPP
              also sets the transaction context but it is usually the same as
              the context of a previous full-cycle, request-callback interaction
              between the BAP and the BPP. The context object contains four
              types of fields. <ol><li>Demographic information about the
              transaction using fields like `domain`, `country`, and
              `region`.</li><li>Addressing details like the sending and
              receiving platform's ID and API URL.</li><li>Interoperability
              information like the protocol version that implemented by the
              sender and,</li><li>Transaction details like the method being
              called at the receiver's endpoint, the transaction_id that
              represents an end-to-end user session at the BAP, a message ID to
              pair requests with callbacks, a timestamp to capture sending
              times, a ttl to specifiy the validity of the request, and a key to
              encrypt information if necessary.</li></ol> This object must be
              passed in every interaction between a BAP and a BPP. In HTTP/S
              implementations, it is not necessary to send the context during
              the synchronous response. However, in asynchronous protocols, the
              context must be sent during all interactions,
            type: object
            additionalProperties: false
            properties:
              domain:
                description: Domain code that is relevant to this transaction context
                allOf:
                  - type: string
                    description: >-
                      Standard code representing the domain. The standard is
                      usually published as part of the network policy.
                      Furthermore, the network facilitator should also provide a
                      mechanism to provide the supported domains of a network.
              location:
                description: >-
                  The location where the transaction is intended to be
                  fulfilled.
                allOf:
                  - description: The physical location of something
                    type: object
                    additionalProperties: false
                    properties:
                      id:
                        type: string
                      descriptor:
                        description: Physical description of something.
                        type: object
                        additionalProperties: false
                        properties:
                          name:
                            type: string
                          code:
                            type: string
                          short_desc:
                            type: string
                          long_desc:
                            type: string
                          additional_desc:
                            type: object
                            properties:
                              url:
                                type: string
                              content_type:
                                type: string
                                enum:
                                  - text/plain
                                  - text/html
                                  - application/json
                          media:
                            type: array
                            items:
                              description: This object contains a url to a media file.
                              type: object
                              additionalProperties: false
                              properties:
                                mimetype:
                                  description: >-
                                    indicates the nature and format of the
                                    document, file, or assortment of bytes. MIME
                                    types are defined and standardized in IETF's
                                    RFC 6838
                                  type: string
                                url:
                                  description: The URL of the file
                                  type: string
                                  format: uri
                                signature:
                                  description: >-
                                    The digital signature of the file signed by
                                    the sender
                                  type: string
                                dsa:
                                  description: The signing algorithm used by the sender
                                  type: string
                          images:
                            type: array
                            items:
                              description: Describes an image
                              type: object
                              additionalProperties: false
                              properties:
                                url:
                                  description: >-
                                    URL to the image. This can be a data url or
                                    an remote url
                                  type: string
                                  format: uri
                                size_type:
                                  description: >-
                                    The size of the image. The network policy
                                    can define the default dimensions of each
                                    type
                                  type: string
                                  enum:
                                    - xs
                                    - sm
                                    - md
                                    - lg
                                    - xl
                                    - custom
                                width:
                                  description: Width of the image in pixels
                                  type: string
                                height:
                                  description: Height of the image in pixels
                                  type: string
                      map_url:
                        description: >-
                          The url to the map of the location. This can be a
                          globally recognized map url or the one specified by
                          the network policy.
                        type: string
                        format: uri
                      gps:
                        description: The GPS co-ordinates of this location.
                        allOf:
                          - &ref_404
                            description: Describes a GPS coordinate
                            type: string
                            pattern: >-
                              ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                      address:
                        description: The address of this location.
                        allOf:
                          - description: Describes a postal address.
                            type: string
                      city:
                        description: The city this location is, or is located within
                        allOf:
                          - description: Describes a city
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                description: Name of the city
                                type: string
                              code:
                                description: City code
                                type: string
                      district:
                        description: The state this location is, or is located within
                        type: string
                      state:
                        description: The state this location is, or is located within
                        allOf:
                          - description: >-
                              A bounded geopolitical region of governance inside
                              a country.
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the state
                              code:
                                type: string
                                description: >-
                                  State code as per country or international
                                  standards
                      country:
                        description: The country this location is, or is located within
                        allOf:
                          - description: Describes a country
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the country
                              code:
                                type: string
                                description: >-
                                  Country code as per ISO 3166-1 and ISO 3166-2
                                  format
                      area_code:
                        type: string
                      circle:
                        description: >-
                          Describes a circular region of a specified radius
                          centered at a specified GPS coordinate.
                        type: object
                        additionalProperties: false
                        properties:
                          gps: *ref_404
                          radius:
                            description: Describes a scalar
                            type: object
                            additionalProperties: false
                            properties:
                              type:
                                type: string
                                enum:
                                  - CONSTANT
                                  - VARIABLE
                              value: &ref_405
                                description: Describes a numerical value in decimal form
                                type: string
                                pattern: '[+-]?([0-9]*[.])?[0-9]+'
                              estimated_value: *ref_405
                              computed_value: *ref_405
                              range:
                                type: object
                                properties:
                                  min: *ref_405
                                  max: *ref_405
                              unit:
                                type: string
                      polygon:
                        description: The boundary polygon of this location
                        type: string
                      3dspace:
                        description: The three dimensional region describing this location
                        type: string
                      rating:
                        description: The rating of this location
                        allOf:
                          - description: >-
                              Rating value given to the object. This can be a
                              single value or can also contain an inequality
                              operator like gt, gte, lt, lte. This can also
                              contain an inequality expression containing
                              logical operators like && and ||.
                            type: string
              action:
                description: >-
                  The Beckn protocol method being called by the sender and
                  executed at the receiver.
                type: string
              version:
                type: string
                description: Version of transaction protocol being used by the sender.
              bap_id:
                description: Subscriber ID of the BAP
                allOf:
                  - &ref_406
                    description: >-
                      A globally unique identifier of the platform, Typically it
                      is the fully qualified domain name (FQDN) of the platform.
                    type: string
              bap_uri:
                description: Subscriber URL of the BAP for accepting callbacks from BPPs.
                allOf:
                  - &ref_407
                    description: >-
                      The callback URL of the Subscriber. This should
                      necessarily contain the same domain name as set in
                      `subscriber_id``.
                    type: string
                    format: uri
              bpp_id:
                description: Subscriber ID of the BPP
                allOf:
                  - *ref_406
              bpp_uri:
                description: Subscriber URL of the BPP for accepting calls from BAPs.
                allOf:
                  - *ref_407
              transaction_id:
                description: >-
                  This is a unique value which persists across all API calls
                  from `search` through `confirm`. This is done to indicate an
                  active user session across multiple requests. The BPPs can use
                  this value to push personalized recommendations, and dynamic
                  offerings related to an ongoing transaction despite being
                  unaware of the user active on the BAP.
                type: string
                format: uuid
              message_id:
                description: >-
                  This is a unique value which persists during a request /
                  callback cycle. Since beckn protocol APIs are asynchronous,
                  BAPs need a common value to match an incoming callback from a
                  BPP to an earlier call. This value can also be used to ignore
                  duplicate messages coming from the BPP. It is recommended to
                  generate a fresh message_id for every new interaction. When
                  sending unsolicited callbacks, BPPs must generate a new
                  message_id.
                type: string
                format: uuid
              timestamp:
                description: Time of request generation in RFC3339 format
                type: string
                format: date-time
              key:
                description: The encryption public key of the sender
                type: string
              ttl:
                description: >-
                  The duration in ISO8601 format after timestamp for which this
                  message holds valid
                type: string
          - type: object
            properties:
              action:
                enum:
                  - status
            required:
              - action
      message:
        type: object
        properties:
          order_id:
            type: string
            description: >-
              Human-readable ID of the order. This is generated at the BPP
              layer. The BPP can either generate order id within its system or
              forward the order ID created at the provider level.
        required:
          - order_id
    required:
      - context
      - message
  on_status:
    type: object
    properties:
      context:
        allOf:
          - description: >-
              Every API call in beckn protocol has a context. It provides a
              high-level overview to the receiver about the nature of the
              intended transaction. Typically, it is the BAP that sets the
              transaction context based on the consumer's location and action on
              their UI. But sometimes, during unsolicited callbacks, the BPP
              also sets the transaction context but it is usually the same as
              the context of a previous full-cycle, request-callback interaction
              between the BAP and the BPP. The context object contains four
              types of fields. <ol><li>Demographic information about the
              transaction using fields like `domain`, `country`, and
              `region`.</li><li>Addressing details like the sending and
              receiving platform's ID and API URL.</li><li>Interoperability
              information like the protocol version that implemented by the
              sender and,</li><li>Transaction details like the method being
              called at the receiver's endpoint, the transaction_id that
              represents an end-to-end user session at the BAP, a message ID to
              pair requests with callbacks, a timestamp to capture sending
              times, a ttl to specifiy the validity of the request, and a key to
              encrypt information if necessary.</li></ol> This object must be
              passed in every interaction between a BAP and a BPP. In HTTP/S
              implementations, it is not necessary to send the context during
              the synchronous response. However, in asynchronous protocols, the
              context must be sent during all interactions,
            type: object
            additionalProperties: false
            properties:
              domain:
                description: Domain code that is relevant to this transaction context
                allOf:
                  - type: string
                    description: >-
                      Standard code representing the domain. The standard is
                      usually published as part of the network policy.
                      Furthermore, the network facilitator should also provide a
                      mechanism to provide the supported domains of a network.
              location:
                description: >-
                  The location where the transaction is intended to be
                  fulfilled.
                allOf:
                  - &ref_424
                    description: The physical location of something
                    type: object
                    additionalProperties: false
                    properties:
                      id: &ref_425
                        type: string
                      descriptor: &ref_412
                        description: Physical description of something.
                        type: object
                        additionalProperties: false
                        properties:
                          name:
                            type: string
                          code:
                            type: string
                          short_desc:
                            type: string
                          long_desc:
                            type: string
                          additional_desc:
                            type: object
                            properties:
                              url:
                                type: string
                              content_type:
                                type: string
                                enum:
                                  - text/plain
                                  - text/html
                                  - application/json
                          media:
                            type: array
                            items: &ref_434
                              description: This object contains a url to a media file.
                              type: object
                              additionalProperties: false
                              properties:
                                mimetype:
                                  description: >-
                                    indicates the nature and format of the
                                    document, file, or assortment of bytes. MIME
                                    types are defined and standardized in IETF's
                                    RFC 6838
                                  type: string
                                url:
                                  description: The URL of the file
                                  type: string
                                  format: uri
                                signature:
                                  description: >-
                                    The digital signature of the file signed by
                                    the sender
                                  type: string
                                dsa:
                                  description: The signing algorithm used by the sender
                                  type: string
                          images:
                            type: array
                            items: &ref_417
                              description: Describes an image
                              type: object
                              additionalProperties: false
                              properties:
                                url:
                                  description: >-
                                    URL to the image. This can be a data url or
                                    an remote url
                                  type: string
                                  format: uri
                                size_type:
                                  description: >-
                                    The size of the image. The network policy
                                    can define the default dimensions of each
                                    type
                                  type: string
                                  enum:
                                    - xs
                                    - sm
                                    - md
                                    - lg
                                    - xl
                                    - custom
                                width:
                                  description: Width of the image in pixels
                                  type: string
                                height:
                                  description: Height of the image in pixels
                                  type: string
                      map_url:
                        description: >-
                          The url to the map of the location. This can be a
                          globally recognized map url or the one specified by
                          the network policy.
                        type: string
                        format: uri
                      gps:
                        description: The GPS co-ordinates of this location.
                        allOf:
                          - &ref_408
                            description: Describes a GPS coordinate
                            type: string
                            pattern: >-
                              ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                      address:
                        description: The address of this location.
                        allOf:
                          - &ref_421
                            description: Describes a postal address.
                            type: string
                      city:
                        description: The city this location is, or is located within
                        allOf:
                          - &ref_423
                            description: Describes a city
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                description: Name of the city
                                type: string
                              code:
                                description: City code
                                type: string
                      district:
                        description: The state this location is, or is located within
                        type: string
                      state:
                        description: The state this location is, or is located within
                        allOf:
                          - &ref_422
                            description: >-
                              A bounded geopolitical region of governance inside
                              a country.
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the state
                              code:
                                type: string
                                description: >-
                                  State code as per country or international
                                  standards
                      country:
                        description: The country this location is, or is located within
                        allOf:
                          - description: Describes a country
                            type: object
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Name of the country
                              code:
                                type: string
                                description: >-
                                  Country code as per ISO 3166-1 and ISO 3166-2
                                  format
                      area_code:
                        type: string
                      circle:
                        description: >-
                          Describes a circular region of a specified radius
                          centered at a specified GPS coordinate.
                        type: object
                        additionalProperties: false
                        properties:
                          gps: *ref_408
                          radius: &ref_427
                            description: Describes a scalar
                            type: object
                            additionalProperties: false
                            properties:
                              type:
                                type: string
                                enum:
                                  - CONSTANT
                                  - VARIABLE
                              value: &ref_409
                                description: Describes a numerical value in decimal form
                                type: string
                                pattern: '[+-]?([0-9]*[.])?[0-9]+'
                              estimated_value: *ref_409
                              computed_value: *ref_409
                              range:
                                type: object
                                properties:
                                  min: *ref_409
                                  max: *ref_409
                              unit:
                                type: string
                      polygon:
                        description: The boundary polygon of this location
                        type: string
                      3dspace:
                        description: The three dimensional region describing this location
                        type: string
                      rating:
                        description: The rating of this location
                        allOf:
                          - &ref_413
                            description: >-
                              Rating value given to the object. This can be a
                              single value or can also contain an inequality
                              operator like gt, gte, lt, lte. This can also
                              contain an inequality expression containing
                              logical operators like && and ||.
                            type: string
              action:
                description: >-
                  The Beckn protocol method being called by the sender and
                  executed at the receiver.
                type: string
              version:
                type: string
                description: Version of transaction protocol being used by the sender.
              bap_id:
                description: Subscriber ID of the BAP
                allOf:
                  - &ref_410
                    description: >-
                      A globally unique identifier of the platform, Typically it
                      is the fully qualified domain name (FQDN) of the platform.
                    type: string
              bap_uri:
                description: Subscriber URL of the BAP for accepting callbacks from BPPs.
                allOf:
                  - &ref_411
                    description: >-
                      The callback URL of the Subscriber. This should
                      necessarily contain the same domain name as set in
                      `subscriber_id``.
                    type: string
                    format: uri
              bpp_id:
                description: Subscriber ID of the BPP
                allOf:
                  - *ref_410
              bpp_uri:
                description: Subscriber URL of the BPP for accepting calls from BAPs.
                allOf:
                  - *ref_411
              transaction_id:
                description: >-
                  This is a unique value which persists across all API calls
                  from `search` through `confirm`. This is done to indicate an
                  active user session across multiple requests. The BPPs can use
                  this value to push personalized recommendations, and dynamic
                  offerings related to an ongoing transaction despite being
                  unaware of the user active on the BAP.
                type: string
                format: uuid
              message_id:
                description: >-
                  This is a unique value which persists during a request /
                  callback cycle. Since beckn protocol APIs are asynchronous,
                  BAPs need a common value to match an incoming callback from a
                  BPP to an earlier call. This value can also be used to ignore
                  duplicate messages coming from the BPP. It is recommended to
                  generate a fresh message_id for every new interaction. When
                  sending unsolicited callbacks, BPPs must generate a new
                  message_id.
                type: string
                format: uuid
              timestamp:
                description: Time of request generation in RFC3339 format
                type: string
                format: date-time
              key:
                description: The encryption public key of the sender
                type: string
              ttl:
                description: >-
                  The duration in ISO8601 format after timestamp for which this
                  message holds valid
                type: string
          - type: object
            properties:
              action:
                enum:
                  - on_status
            required:
              - action
      message:
        type: object
        properties:
          order:
            description: >-
              Describes a legal purchase order. It contains the complete details
              of the legal contract created between the buyer and the seller.
            type: object
            additionalProperties: false
            properties:
              id:
                type: string
                description: >-
                  Human-readable ID of the order. This is generated at the BPP
                  layer. The BPP can either generate order id within its system
                  or forward the order ID created at the provider level.
              ref_order_ids:
                description: A list of order IDs to link this order to previous orders.
                type: array
                items:
                  type: string
                  description: ID of a previous order
              status:
                description: >-
                  Status of the order. Allowed values can be defined by the
                  network policy
                type: string
              type:
                description: >-
                  This is used to indicate the type of order being created to
                  BPPs. Sometimes orders can be linked to previous orders, like
                  a replacement order in a retail domain. A follow-up
                  consultation in healthcare domain. A single order part of a
                  subscription order. The list of order types can be
                  standardized at the network level.
                type: string
                default: DEFAULT
                enum:
                  - DRAFT
                  - DEFAULT
              provider:
                description: >-
                  Details of the provider whose catalog items have been
                  selected.
                allOf:
                  - description: Describes the catalog of a business.
                    type: object
                    properties:
                      id:
                        type: string
                        description: Id of the provider
                      descriptor: *ref_412
                      category_id:
                        type: string
                        description: Category Id of the provider at the BPP-level catalog
                      rating: *ref_413
                      time: &ref_416
                        description: >-
                          Describes time in its various forms. It can be a
                          single point in time; duration; or a structured
                          timetable of operations<br>This has properties like
                          label, time stamp,duration,range, days, schedule
                        type: object
                        additionalProperties: false
                        properties:
                          label:
                            type: string
                          timestamp:
                            type: string
                            format: date-time
                          duration: &ref_414
                            description: Describes duration as per ISO8601 format
                            type: string
                          range:
                            type: object
                            properties:
                              start:
                                type: string
                                format: date-time
                              end:
                                type: string
                                format: date-time
                          days:
                            type: string
                            description: >-
                              comma separated values representing days of the
                              week
                          schedule:
                            description: >-
                              Describes schedule as a repeating time period used
                              to describe a regularly recurring event. At a
                              minimum a schedule will specify frequency which
                              describes the interval between occurrences of the
                              event. Additional information can be provided to
                              specify the schedule more precisely. This includes
                              identifying the timestamps(s) of when the event
                              will take place. Schedules may also have holidays
                              to exclude a specific day from the
                              schedule.<br>This has properties like frequency,
                              holidays, times
                            type: object
                            additionalProperties: false
                            properties:
                              frequency: *ref_414
                              holidays:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                              times:
                                type: array
                                items:
                                  type: string
                                  format: date-time
                      categories:
                        type: array
                        items:
                          description: >-
                            A label under which a collection of items can be
                            grouped.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_415
                              description: ID of the category
                              type: string
                            parent_category_id: *ref_415
                            descriptor: *ref_412
                            time: *ref_416
                            ttl:
                              description: Time to live for an instance of this schema
                            tags:
                              type: array
                              items: &ref_418
                                description: >-
                                  A collection of tag objects with group level
                                  attributes. For detailed documentation on the
                                  Tags and Tag Groups schema go to
                                  https://github.com/beckn/protocol-specifications/discussions/316
                                type: object
                                additionalProperties: false
                                properties:
                                  display:
                                    description: >-
                                      Indicates the display properties of the
                                      tag group. If display is set to false,
                                      then the group will not be displayed. If
                                      it is set to true, it should be displayed.
                                      However, group-level display properties
                                      can be overriden by individual tag-level
                                      display property. As this schema is purely
                                      for catalog display purposes, it is not
                                      recommended to send this value during
                                      search.
                                    type: boolean
                                    default: true
                                  descriptor:
                                    description: >-
                                      Description of the TagGroup, can be used
                                      to store detailed information.
                                    allOf:
                                      - *ref_412
                                  list:
                                    description: >-
                                      An array of Tag objects listed under this
                                      group. This property can be set by BAPs
                                      during search to narrow the `search` and
                                      achieve more relevant results. When
                                      received during `on_search`, BAPs must
                                      render this list under the heading
                                      described by the `name` property of this
                                      schema.
                                    type: array
                                    items:
                                      description: >-
                                        Describes a tag. This is used to contain
                                        extended metadata. This object can be
                                        added as a property to any schema to
                                        describe extended attributes. For BAPs,
                                        tags can be sent during search to
                                        optimize and filter search results. BPPs
                                        can use tags to index their catalog to
                                        allow better search functionality. Tags
                                        are sent by the BPP as part of the
                                        catalog response in the `on_search`
                                        callback. Tags are also meant for
                                        display purposes. Upon receiving a tag,
                                        BAPs are meant to render them as
                                        name-value pairs. This is particularly
                                        useful when rendering tabular
                                        information about a product or service.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor:
                                          description: >-
                                            Description of the Tag, can be used to
                                            store detailed information.
                                          allOf:
                                            - *ref_412
                                        value:
                                          description: >-
                                            The value of the tag. This set by the
                                            BPP and rendered as-is by the BAP.
                                          type: string
                                        display:
                                          description: >-
                                            This value indicates if the tag is
                                            intended for display purposes. If set to
                                            `true`, then this tag must be displayed.
                                            If it is set to `false`, it should not
                                            be displayed. This value can override
                                            the group display value.
                                          type: boolean
                      fulfillments:
                        type: array
                        items: &ref_439
                          description: >-
                            Describes how a an order will be rendered/fulfilled
                            to the end-customer
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_430
                              description: >-
                                Unique reference ID to the fulfillment of an
                                order
                              type: string
                            type:
                              description: >-
                                A code that describes the mode of fulfillment.
                                This is typically set when there are multiple
                                ways an order can be fulfilled. For example, a
                                retail order can be fulfilled either via store
                                pickup or a home delivery. Similarly, a medical
                                consultation can be provided either in-person or
                                via tele-consultation. The network policy must
                                publish standard fulfillment type codes for the
                                different modes of fulfillment.
                              type: string
                            rateable:
                              description: Whether the fulfillment can be rated or not
                              type: boolean
                            rating:
                              description: The rating value of the fulfullment service.
                              allOf:
                                - *ref_413
                            state:
                              description: >-
                                The current state of fulfillment. The BPP must
                                set this value whenever the state of the order
                                fulfillment changes and fire an unsolicited
                                `on_status` call.
                              allOf:
                                - &ref_433
                                  description: Describes the state of fulfillment
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    descriptor: *ref_412
                                    updated_at:
                                      type: string
                                      format: date-time
                                    updated_by:
                                      type: string
                                      description: ID of entity which changed the state
                            tracking:
                              type: boolean
                              description: >-
                                Indicates whether the fulfillment allows
                                tracking
                              default: false
                            customer:
                              description: >-
                                The person that will ultimately receive the
                                order
                              allOf:
                                - description: >-
                                    Describes a customer buying/availing a
                                    product or a service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: &ref_419
                                      description: Describes a person as any individual
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          type: string
                                          description: Describes the identity of the person
                                        url:
                                          description: Profile url of the person
                                          type: string
                                          format: uri
                                        name:
                                          description: the name of the person
                                          type: string
                                        image: *ref_417
                                        age:
                                          description: Age of the person
                                          allOf:
                                            - *ref_414
                                        dob:
                                          description: Date of birth of the person
                                          type: string
                                          format: date
                                        gender:
                                          type: string
                                          description: >-
                                            Gender of something, typically a Person,
                                            but possibly also fictional characters,
                                            animals, etc. While Male and Female may
                                            be used, text strings are also
                                            acceptable for people who do not
                                            identify as a binary gender.Allowed
                                            values for this field can be published
                                            in the network policy
                                        creds:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a credential of an entity -
                                              Person or Organization
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              id:
                                                type: string
                                              type:
                                                type: string
                                                default: VerifiableCredential
                                              url:
                                                description: URL of the credential
                                                type: string
                                                format: uri
                                        languages:
                                          type: array
                                          items:
                                            description: >-
                                              Describes a language known to the
                                              person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        skills:
                                          type: array
                                          items:
                                            description: Describes a skill of the person.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              code:
                                                type: string
                                              name:
                                                type: string
                                        tags:
                                          type: array
                                          items: *ref_418
                                    contact: &ref_420
                                      description: >-
                                        Describes the contact information of an
                                        entity
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        phone:
                                          type: string
                                        email:
                                          type: string
                                        jcard:
                                          type: object
                                          description: >-
                                            A Jcard object as per
                                            draft-ietf-jcardcal-jcard-03
                                            specification
                            agent:
                              description: >-
                                The agent that is currently handling the
                                fulfillment of the order
                              allOf:
                                - description: >-
                                    Describes the direct performer, driver or
                                    executor that fulfills an order. It is
                                    usually a person. But in some rare cases, it
                                    could be a non-living entity like a drone,
                                    or a bot. Some examples of agents are Doctor
                                    in the healthcare sector, a driver in the
                                    mobility sector, or a delivery person in the
                                    logistics sector. This object can be set at
                                    any stage of the order lifecycle. This can
                                    be set at the discovery stage when the BPP
                                    wants to provide details on the agent
                                    fulfilling the order, like in healthcare,
                                    where the doctor's name appears during
                                    search. This object can also used to search
                                    for a particular person that the customer
                                    wants fulfilling an order. Sometimes, this
                                    object gets instantiated after the order is
                                    confirmed, like in the case of on-demand
                                    taxis, where the driver is assigned after
                                    the user confirms the ride.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    person: *ref_419
                                    contact: *ref_420
                                    organization: &ref_428
                                      description: >-
                                        An organization. Usually a recognized
                                        business entity.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        descriptor: *ref_412
                                        address:
                                          description: The postal address of the organization
                                          allOf:
                                            - *ref_421
                                        state:
                                          description: >-
                                            The state where the organization's
                                            address is registered
                                          allOf:
                                            - *ref_422
                                        city:
                                          description: >-
                                            The city where the the organization's
                                            address is registered
                                          allOf:
                                            - *ref_423
                                        contact: *ref_420
                                    rating: *ref_413
                            contact: *ref_420
                            vehicle:
                              description: >-
                                Describes a vehicle is a device that is designed
                                or used to transport people or cargo over land,
                                water, air, or through space.<br>This has
                                properties like category, capacity, make, model,
                                size,variant,color,energy_type,registration
                              type: object
                              additionalProperties: false
                              properties:
                                category:
                                  type: string
                                capacity:
                                  type: integer
                                make:
                                  type: string
                                model:
                                  type: string
                                size:
                                  type: string
                                variant:
                                  type: string
                                color:
                                  type: string
                                energy_type:
                                  type: string
                                registration:
                                  type: string
                                wheels_count:
                                  type: string
                                cargo_volumne:
                                  type: string
                                wheelchair_access:
                                  type: string
                                code:
                                  type: string
                                emission_standard:
                                  type: string
                            stops:
                              description: >-
                                The list of logical stops encountered during the
                                fulfillment of an order.
                              type: array
                              items:
                                description: >-
                                  A logical point in space and time during the
                                  fulfillment of an order.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    type: string
                                  parent_stop_id:
                                    type: string
                                  location:
                                    description: Location of the stop
                                    allOf:
                                      - *ref_424
                                  type:
                                    description: >-
                                      The type of stop. Allowed values of this
                                      property can be defined by the network
                                      policy.
                                    type: string
                                  time:
                                    description: Timings applicable at the stop.
                                    allOf:
                                      - *ref_416
                                  instructions:
                                    description: >-
                                      Instructions that need to be followed at
                                      the stop
                                    allOf:
                                      - *ref_412
                                  contact:
                                    description: Contact details of the stop
                                    allOf:
                                      - *ref_420
                                  person:
                                    description: >-
                                      The details of the person present at the
                                      stop
                                    allOf:
                                      - *ref_419
                                  authorization:
                                    description: >-
                                      Describes an authorization mechanism used
                                      to start or end the fulfillment of an
                                      order. For example, in the mobility
                                      sector, the driver may require a one-time
                                      password to initiate the ride. In the
                                      healthcare sector, a patient may need to
                                      provide a password to open a video
                                      conference link during a teleconsultation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      type:
                                        description: >-
                                          Type of authorization mechanism used.
                                          The allowed values for this field can be
                                          published as part of the network policy.
                                        type: string
                                      token:
                                        description: >-
                                          Token used for authorization. This is
                                          typically generated at the BPP. The BAP
                                          can send this value to the user via any
                                          channel that it uses to authenticate the
                                          user like SMS, Email, Push notification,
                                          or in-app rendering.
                                        type: string
                                      valid_from:
                                        description: >-
                                          Timestamp in RFC3339 format from which
                                          token is valid
                                        type: string
                                        format: date-time
                                      valid_to:
                                        description: >-
                                          Timestamp in RFC3339 format until which
                                          token is valid
                                        type: string
                                        format: date-time
                                      status:
                                        description: Status of the token
                                        type: string
                            path:
                              description: >-
                                The physical path taken by the agent that can be
                                rendered on a map. The allowed format of this
                                property can be set by the network.
                              type: string
                            tags:
                              type: array
                              items: *ref_418
                      payments:
                        type: array
                        items: &ref_444
                          description: >-
                            Describes the terms of settlement between the BAP
                            and the BPP for a single transaction. When
                            instantiated, this object contains <ol><li>the
                            amount that has to be settled,</li><li>The payment
                            destination destination details</li><li>When the
                            settlement should happen, and</li><li>A transaction
                            reference ID</li></ol>. During a transaction, the
                            BPP reserves the right to decide the terms of
                            payment. However, the BAP can send its terms to the
                            BPP first. If the BPP does not agree to those terms,
                            it must overwrite the terms and return them to the
                            BAP. If overridden, the BAP must either agree to the
                            terms sent by the BPP in order to preserve the
                            provider's autonomy, or abort the transaction. In
                            case of such disagreements, the BAP and the BPP can
                            perform offline negotiations on the payment terms.
                            Once an agreement is reached, the BAP and BPP can
                            resume transactions.
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_431
                              description: >-
                                ID of the payment term that can be referred at
                                an item or an order level in a catalog
                              type: string
                            collected_by:
                              description: >-
                                This field indicates who is the collector of
                                payment. The BAP can set this value to 'bap' if
                                it wants to collect the payment first and 
                                settle it to the BPP. If the BPP agrees to those
                                terms, the BPP should not send the payment url.
                                Alternatively, the BPP can set this field with
                                the value 'bpp' if it wants the payment to be
                                made directly.
                              type: string
                            url:
                              type: string
                              description: >-
                                A payment url to be called by the BAP. If empty,
                                then the payment is to be done offline. The
                                details of payment should be present in the
                                params object. If tl_method = http/get, then the
                                payment details will be sent as url params. Two
                                url param values, ```$transaction_id``` and
                                ```$amount``` are mandatory.
                              format: uri
                            tl_method:
                              type: string
                            params:
                              type: object
                              properties:
                                transaction_id:
                                  type: string
                                  description: >-
                                    The reference transaction ID associated with
                                    a payment activity
                                amount:
                                  type: string
                                currency:
                                  type: string
                                bank_code:
                                  type: string
                                bank_account_number:
                                  type: string
                                virtual_payment_address:
                                  type: string
                                source_bank_code:
                                  type: string
                                source_bank_account_number:
                                  type: string
                                source_virtual_payment_address:
                                  type: string
                            type:
                              type: string
                              enum:
                                - PRE-ORDER
                                - PRE-FULFILLMENT
                                - ON-FULFILLMENT
                                - POST-FULFILLMENT
                                - ON-ORDER
                            status:
                              type: string
                              enum:
                                - PAID
                                - NOT-PAID
                            time: *ref_416
                            tags:
                              type: array
                              items: *ref_418
                      locations:
                        type: array
                        items: *ref_424
                      offers:
                        type: array
                        items: &ref_438
                          description: >-
                            An offer associated with a catalog. This is
                            typically used to promote a particular product and
                            enable more purchases.
                          type: object
                          additionalProperties: false
                          properties:
                            id:
                              type: string
                            descriptor: *ref_412
                            location_ids:
                              type: array
                              items: *ref_425
                            category_ids:
                              type: array
                              items: *ref_415
                            item_ids:
                              type: array
                              items: &ref_426
                                description: ID of the item.
                                type: string
                            time: *ref_416
                            tags:
                              type: array
                              items: *ref_418
                      items:
                        type: array
                        items: &ref_436
                          description: >-
                            Describes a product or a service offered to the end
                            consumer by the provider. In the mobility sector, it
                            can represent a fare product like one way journey.
                            In the logistics sector, it can represent the
                            delivery service offering. In the retail domain it
                            can represent a product like a grocery item.
                          type: object
                          additionalProperties: false
                          properties:
                            id: *ref_426
                            parent_item_id:
                              description: ID of the item, this item is a variant of
                              allOf:
                                - *ref_426
                            parent_item_quantity:
                              description: >-
                                The number of units of the parent item this item
                                is a multiple of
                              allOf:
                                - &ref_429
                                  description: Describes the count or amount of an item
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    allocated:
                                      description: >-
                                        This represents the exact quantity
                                        allocated for purchase of the item.
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_427
                                    available:
                                      description: >-
                                        This represents the exact quantity
                                        available for purchase of the item. The
                                        buyer can only purchase multiples of
                                        this
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_427
                                    maximum:
                                      description: >-
                                        This represents the maximum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                        measure: *ref_427
                                    minimum:
                                      description: >-
                                        This represents the minimum quantity
                                        allowed for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_427
                                    selected:
                                      description: >-
                                        This represents the quantity selected
                                        for purchase of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 0
                                        measure: *ref_427
                                    unitized:
                                      description: >-
                                        This represents the quantity available
                                        in a single unit of the item
                                      type: object
                                      properties:
                                        count:
                                          type: integer
                                          minimum: 1
                                          maximum: 1
                                        measure: *ref_427
                            descriptor:
                              description: Physical description of the item
                              allOf:
                                - *ref_412
                            creator:
                              description: The creator of this item
                              allOf:
                                - *ref_428
                            price:
                              description: >-
                                The price of this item, if it has intrinsic
                                value
                              allOf:
                                - &ref_432
                                  description: Describes the price of a product or service
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    currency:
                                      type: string
                                    value: *ref_409
                                    estimated_value: *ref_409
                                    computed_value: *ref_409
                                    listed_value: *ref_409
                                    offered_value: *ref_409
                                    minimum_value: *ref_409
                                    maximum_value: *ref_409
                            quantity:
                              description: The selling quantity of the item
                              allOf:
                                - *ref_429
                            category_ids:
                              description: Categories this item can be listed under
                              type: array
                              items:
                                allOf:
                                  - *ref_415
                            fulfillment_ids:
                              description: Modes through which this item can be fulfilled
                              type: array
                              items:
                                allOf:
                                  - *ref_430
                            location_ids:
                              description: Provider Locations this item is available in
                              type: array
                              items:
                                allOf:
                                  - *ref_425
                            payment_ids:
                              description: >-
                                Payment modalities through which this item can
                                be ordered
                              type: array
                              items:
                                allOf:
                                  - *ref_431
                            add_ons:
                              type: array
                              items: &ref_437
                                description: >-
                                  Describes an additional item offered as a
                                  value-addition to a product or service. This
                                  does not exist independently in a catalog and
                                  is always associated with an item.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    description: Provider-defined ID of the add-on
                                    type: string
                                  descriptor: *ref_412
                                  price: *ref_432
                                  quantity: *ref_429
                            cancellation_terms:
                              description: Cancellation terms of this item
                              type: array
                              items: &ref_440
                                description: >-
                                  Describes the cancellation terms of an item or
                                  an order. This can be referenced at an item or
                                  order level. Item-level cancellation terms can
                                  override the terms at the order level.
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_433
                                  reason_required:
                                    description: >-
                                      Indicates whether a reason is required to
                                      cancel the order
                                    type: boolean
                                  cancel_by:
                                    description: >-
                                      Information related to the time of
                                      cancellation.
                                    allOf:
                                      - *ref_416
                                  cancellation_fee:
                                    description: A fee applied on a particular entity
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      percentage:
                                        description: Percentage of a value
                                        allOf:
                                          - *ref_409
                                      amount:
                                        description: A fixed value
                                        allOf:
                                          - *ref_432
                                  xinput: &ref_435
                                    description: >-
                                      Contains any additional or extended inputs
                                      required to confirm an order. This is
                                      typically a Form Input. Sometimes,
                                      selection of catalog elements is not
                                      enough for the BPP to confirm an order.
                                      For example, to confirm a flight ticket,
                                      the airline requires details of the
                                      passengers along with information on
                                      baggage, identity, in addition to the
                                      class of ticket. Similarly, a logistics
                                      company may require details on the nature
                                      of shipment in order to confirm the
                                      shipping. A recruiting firm may require
                                      additional details on the applicant in
                                      order to confirm a job application. For
                                      all such purposes, the BPP can choose to
                                      send this object attached to any object in
                                      the catalog that is required to be sent
                                      while placing the order. This object can
                                      typically be sent at an item level or at
                                      the order level. The item level XInput
                                      will override the Order level XInput as it
                                      indicates a special requirement of
                                      information for that particular item.
                                      Hence the BAP must render a separate form
                                      for the Item and another form at the Order
                                      level before confirmation.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      form:
                                        description: Describes a form
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          url:
                                            description: >-
                                              The URL from where the form can be
                                              fetched. The content fetched from the
                                              url must be processed as per the
                                              mime_type specified in this object. Once
                                              fetched, the rendering platform can
                                              choosed to render the form as-is as an
                                              embeddable element; or process it
                                              further to blend with the theme of the
                                              application. In case the interface is
                                              non-visual, the the render can process
                                              the form data and reproduce it as per
                                              the standard specified in the form.
                                            type: string
                                            format: uri
                                          data:
                                            description: The form submission data
                                            type: object
                                            additionalProperties:
                                              type: string
                                          mime_type:
                                            description: >-
                                              This field indicates the nature and
                                              format of the form received by querying
                                              the url. MIME types are defined and
                                              standardized in IETF's RFC 6838.
                                            type: string
                                            enum:
                                              - text/html
                                              - application/xml
                                          submission_id:
                                            type: string
                                            format: uuid
                                      required:
                                        description: >-
                                          Indicates whether the form data is
                                          mandatorily required by the BPP to
                                          confirm the order.
                                        type: boolean
                                  external_ref: *ref_434
                            refund_terms:
                              description: Refund terms of this item
                              type: array
                              items: &ref_441
                                description: Refund term of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_422
                                  refund_eligible:
                                    description: >-
                                      Indicates if cancellation will result in a
                                      refund
                                    type: boolean
                                  refund_within:
                                    description: >-
                                      Time within which refund will be processed
                                      after successful cancellation.
                                    allOf:
                                      - *ref_416
                                  refund_amount: *ref_432
                            replacement_terms:
                              description: >-
                                Terms that are applicable be met when this item
                                is replaced
                              type: array
                              items: &ref_442
                                description: The replacement policy of an item or an order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term is applicable.
                                    allOf:
                                      - *ref_422
                                  replace_within:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to replace the item
                                      before a certain date-time, failing which
                                      they will not be eligible for replacement
                                    allOf:
                                      - *ref_416
                                  external_ref: *ref_434
                            return_terms:
                              description: >-
                                Terms that are applicable when this item is
                                returned
                              type: array
                              items: &ref_443
                                description: >-
                                  Describes the return policy of an item or an
                                  order
                                type: object
                                additionalProperties: false
                                properties:
                                  fulfillment_state:
                                    description: >-
                                      The state of fulfillment during which this
                                      term IETF''s applicable.
                                    allOf:
                                      - *ref_422
                                  return_eligible:
                                    description: >-
                                      Indicates whether the item is eligible for
                                      return
                                    type: boolean
                                  return_time:
                                    description: >-
                                      Applicable only for buyer managed returns
                                      where the buyer has to return the item to
                                      the origin before a certain date-time,
                                      failing which they will not be eligible
                                      for refund.
                                    allOf:
                                      - *ref_416
                                  return_location:
                                    description: >-
                                      The location where the item or order must
                                      / will be returned to
                                    allOf:
                                      - *ref_424
                                  fulfillment_managed_by:
                                    description: The entity that will perform the return
                                    type: string
                                    enum:
                                      - CONSUMER
                                      - PROVIDER
                            xinput:
                              description: >-
                                Additional input required from the customer to
                                purchase / avail this item
                              allOf:
                                - *ref_435
                            time:
                              description: >-
                                Temporal attributes of this item. This property
                                is used when the item exists on the catalog only
                                for a limited period of time.
                              allOf:
                                - *ref_416
                            rateable:
                              description: Whether this item can be rated
                              type: boolean
                            rating:
                              description: The rating of the item
                              allOf:
                                - *ref_413
                            matched:
                              description: >-
                                Whether this item is an exact match of the
                                request
                              type: boolean
                            related:
                              description: >-
                                Whether this item is a related item to the
                                exactly matched item
                              type: boolean
                            recommended:
                              description: >-
                                Whether this item is a recommended item to a
                                response
                              type: boolean
                            ttl:
                              description: >-
                                Time to live in seconds for an instance of this
                                schema
                              type: string
                            tags:
                              type: array
                              items: *ref_418
                      exp:
                        type: string
                        description: Time after which catalog has to be refreshed
                        format: date-time
                      rateable:
                        description: Whether this provider can be rated or not
                        type: boolean
                      ttl:
                        description: >-
                          The time-to-live in seconds, for this object. This can
                          be overriden at deeper levels. A value of -1 indicates
                          that this object is not cacheable.
                        type: string
                      tags:
                        type: array
                        items: *ref_418
              items:
                description: The items purchased / availed in this order
                type: array
                items: *ref_436
              add_ons:
                description: The add-ons purchased / availed in this order
                type: array
                items: *ref_437
              offers:
                description: The offers applied in this order
                type: array
                items: *ref_438
              billing:
                description: The billing details of this order
                allOf:
                  - description: >-
                      Describes the billing details of an entity.<br>This has
                      properties like
                      name,organization,address,email,phone,time,tax_number,
                      created_at,updated_at
                    type: object
                    additionalProperties: false
                    properties:
                      name:
                        description: Name of the billable entity
                        type: string
                      organization:
                        description: Details of the organization being billed.
                        allOf:
                          - *ref_428
                      address:
                        description: The address of the billable entity
                        allOf:
                          - *ref_421
                      state:
                        description: >-
                          The state where the billable entity resides. This is
                          important for state-level tax calculation
                        allOf:
                          - *ref_422
                      city:
                        description: The city where the billable entity resides.
                        allOf:
                          - *ref_423
                      email:
                        description: Email address where the bill is sent to
                        type: string
                        format: email
                      phone:
                        description: Phone number of the billable entity
                        type: string
                      time:
                        description: Details regarding the billing period
                        allOf:
                          - *ref_416
                      tax_id:
                        description: >-
                          ID of the billable entity as recognized by the
                          taxation authority
                        type: string
              fulfillments:
                description: The fulfillments involved in completing this order
                type: array
                items: *ref_439
              cancellation:
                description: The cancellation details of this order
                allOf:
                  - description: Describes a cancellation event
                    type: object
                    additionalProperties: false
                    properties:
                      time:
                        description: Date-time when the order was cancelled by the buyer
                        type: string
                        format: date-time
                      cancelled_by:
                        type: string
                        enum:
                          - CONSUMER
                          - PROVIDER
                      reason:
                        description: The reason for cancellation
                        allOf:
                          - description: Describes a selectable option
                            type: object
                            additionalProperties: false
                            properties:
                              id:
                                type: string
                              descriptor: *ref_412
                      additional_description:
                        description: >-
                          Any additional information regarding the nature of
                          cancellation
                        allOf:
                          - *ref_412
              cancellation_terms:
                description: Cancellation terms of this item
                type: array
                items: *ref_440
              documents:
                type: array
                items:
                  description: Documnents associated to the order
                  type: object
                  additionalProperties: false
                  properties:
                    descriptor: *ref_412
                    mime_type:
                      description: >-
                        This field indicates the nature and format of the form
                        received by querying the url. MIME types are defined and
                        standardized in IETF's RFC 6838.
                      type: string
                      enum:
                        - text/html
                        - application/html
                        - application/xml
                        - application/pdf
                    url:
                      description: >-
                        The URL from where the form can be fetched. The content
                        fetched from the url must be processed as per the
                        mime_type specified in this object.
                      type: string
                      format: uri
              refund_terms:
                description: Refund terms of this item
                type: array
                items: *ref_441
              replacement_terms:
                description: Replacement terms of this item
                type: array
                items: *ref_442
              return_terms:
                description: Return terms of this item
                type: array
                items: *ref_443
              quote:
                description: The mutually agreed upon quotation for this order.
                allOf:
                  - description: >-
                      Describes a quote. It is the estimated price of products
                      or services from the BPP.<br>This has properties like
                      price, breakup, ttl
                    type: object
                    additionalProperties: false
                    properties:
                      id:
                        description: ID of the quote.
                        type: string
                        format: uuid
                      price:
                        description: The total quoted price
                        allOf:
                          - *ref_432
                      breakup:
                        description: the breakup of the total quoted price
                        type: array
                        items:
                          type: object
                          properties:
                            item: *ref_436
                            title:
                              type: string
                            price: *ref_432
                      ttl: *ref_414
              payments:
                description: The terms of settlement for this order
                type: array
                items: *ref_444
              created_at:
                description: The date-time of creation of this order
                type: string
                format: date-time
              updated_at:
                description: The date-time of updated of this order
                type: string
                format: date-time
              xinput:
                description: >-
                  Additional input required from the customer to confirm this
                  order
                allOf:
                  - *ref_435
              tags:
                type: array
                items: *ref_418
        required:
          - order
      error:
        description: >-
          Describes an error object that is returned by a BAP, BPP or BG as a
          response or callback to an action by another network participant. This
          object is sent when any request received by a network participant is
          unacceptable. This object can be sent either during Ack or with the
          callback.
        type: object
        additionalProperties: false
        properties:
          code:
            type: string
            description: >-
              Standard error code. For full list of error codes, refer to
              docs/protocol-drafts/BECKN-005-ERROR-CODES-DRAFT-01.md of this
              repo"
          paths:
            type: string
            description: >-
              Path to json schema generating the error. Used only during json
              schema validation errors
          message:
            type: string
            description: >-
              Human readable message describing the error. Used mainly for
              logging. Not recommended to be shown to the user.
    required:
      - context
attributes:
  intracity-flow-1:
    search:
      context:
        location:
          country:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: IND
              description: Describes country code as per ISO 3166-1 and ISO 3166-2 format
          city:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: '*'
              description: Describes the city code this location is, or is located within
        domain:
          required: mandatory
          type: string
          owner: BAP
          usage: ONDC:FIS13
          description: Describes domain code that is relevant to this transaction context
        timestamp:
          required: mandatory
          type: string
          owner: BAP
          usage: '2023-03-23T04:41:16Z'
          description: Describes tme of request generation in RFC3339 format
        bap_id:
          required: mandatory
          type: string
          owner: BAP
          usage: fis.test.bap.io
          description: Describes subscriber ID of the BAP
        transaction_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 6743e9e2
          description: Describes  a unique value which persists across all API calls
        message_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 13ba8018f176
          description: >-
            Describes a unique value which persists during a request / callback
            cycle.
        version:
          required: mandatory
          type: integer
          owner: BAP
          usage: 2.0.0
          description: >-
            Describes the version of transaction protocol being used by the
            sender.
        action:
          required: mandatory
          type: string
          owner: BAP
          usage: search
          description: >-
            Describes the Beckn protocol method being called by the sender and
            executed at the receiver.
        bap_uri:
          required: mandatory
          type: string
          owner: BAP
          usage: https://fis.test.bap.io/
          description: >-
            Describes subscriber URL of the BAP for accepting callbacks from
            BPPs.
        ttl:
          required: mandatory
          type: string
          owner: BAP
          usage: PT30S
          description: >-
            Describes the duration in ISO8601 format after timestamp for which
            this message holds valid
        bpp_id:
          required: optional
          type: string
          owner: BPP
          usage: fis.test.bpp.io
          description: Describes subscriber ID of the BPP
        bpp_uri:
          required: optional
          type: string
          owner: BPP
          usage: https://fis.test.bpp.io/
          description: Describes subscriber URL of the BPP for accepting calls from BAPs.
      message:
        intent:
          fulfillment:
            stops:
              type:
                required: optional
                type: string
                owner: BAP
                usage: START
                description: >-
                  A logical point in space and time during the fulfillment of an
                  order.
              location:
                gps:
                  required: optional
                  type: string
                  owner: BAP
                  usage: 28.666576, 77.233332
                  description: Describes a GPS coordinate
                descriptor:
                  code:
                    required: optional
                    type: string
                    owner: BAP
                    usage: KASHMERE_GATE
                    description: Physical description of code.
            vehicle:
              category:
                required: mandatory
                type: string
                owner: BAP
                usage: BUS
                description: Describes category of a vehicle
          payment:
            tags:
              BUYER_FINDER_FEES:
                required: Mandatory
                type: string
                owner: BAP
                usage: '--'
                description: Describes Buyer finder fee
                list:
                  BUYER_FINDER_FEES_TYPE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes Buyer finder fee type
                  BUYER_FINDER_FEES_PERCENTAGE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes Buyer finder fee percentage
              SETTLEMENT_TERMS:
                required: Mandatory
                type: string
                owner: BAP
                usage: '--'
                description: Describes settlement terms
                list:
                  SETTLEMENT_WINDOW:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement window
                  SETTLEMENT_BASIS:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement basis
                  DELAY_INTEREST:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes delay interest
                  STATIC_TERMS:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes static terms
    on_search:
      context:
        location:
          country:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: IND
              description: Describes country code as per ISO 3166-1 and ISO 3166-2 format
          city:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: '*'
              description: Describes the city code this location is, or is located within
        domain:
          required: mandatory
          type: string
          owner: BAP
          usage: ONDC:FIS13
          description: Describes domain code that is relevant to this transaction context
        timestamp:
          required: mandatory
          type: string
          owner: BAP
          usage: '2023-03-23T04:41:16Z'
          description: Describes tme of request generation in RFC3339 format
        bap_id:
          required: mandatory
          type: string
          owner: BAP
          usage: fis.test.bap.io
          description: Describes subscriber ID of the BAP
        transaction_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 6743e9e2
          description: Describes  a unique value which persists across all API calls
        message_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 13ba8018f176
          description: >-
            Describes a unique value which persists during a request / callback
            cycle.
        version:
          required: mandatory
          type: integer
          owner: BAP
          usage: 2.0.0
          description: >-
            Describes the version of transaction protocol being used by the
            sender.
        action:
          required: mandatory
          type: string
          owner: BAP
          usage: on_search
          description: >-
            Describes the Beckn protocol method being called by the sender and
            executed at the receiver.
        bap_uri:
          required: mandatory
          type: string
          owner: BAP
          usage: https://fis.test.bap.io/
          description: >-
            Describes subscriber URL of the BAP for accepting callbacks from
            BPPs.
        ttl:
          required: mandatory
          type: string
          owner: BAP
          usage: PT30S
          description: >-
            Describes the duration in ISO8601 format after timestamp for which
            this message holds valid
        bpp_id:
          required: mandatory
          type: string
          owner: BPP
          usage: fis.test.bpp.io
          description: Describes subscriber ID of the BPP
        bpp_uri:
          required: mandatory
          type: string
          owner: BPP
          usage: https://fis.test.bpp.io/
          description: Describes subscriber URL of the BPP for accepting calls from BAPs.
      message:
        catalog:
          descriptor:
            name:
              required: mandatory
              type: string
              owner: BPP
              usage: Transit Solutions
              description: Physical description of something.
            images:
              url:
                required: optional
                type: string
                owner: BPP
                usage: https://transitsolutions.in/logos/logo.ico
                description: URL to the image. This can be a data url or an remote url
              size_type:
                required: optional
                type: string
                owner: BPP
                usage: xs
                description: Size type of URL image
          providers:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: I1
              description: Id of the provider
            descriptor:
              name:
                required: mandatory
                type: string
                owner: BPP
                usage: Delhi Transport Corporation
                description: Physical description of something.
              images:
                url:
                  required: optional
                  type: string
                  owner: BPP
                  usage: >-
                    https://dtc.delhi.gov.in/sites/default/files/DTC/logo/dtc_logo_2.png
                  description: URL to the image. This can be a data url or an remote url
                size_type:
                  required: optional
                  type: string
                  owner: BPP
                  usage: xs
                  description: Size type of URL image
            fulfillments:
              id:
                required: mandatory
                type: string
                owner: BPP
                usage: F1
                description: Unique reference ID to the fulfillment of an order
              type:
                required: mandatory
                type: string
                owner: BPP
                usage: F1
                description: >-
                  A code that describes the mode of fulfillment. This is
                  typically set when there are multiple ways an order can be
                  fulfilled.
              stops:
                type:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: INTERMEDIATE_STOP
                  description: >-
                    The type of stop. Allowed values of this property can be
                    defined by the network policy.
                instructions:
                  name:
                    required: optional
                    type: string
                    owner: BPP
                    usage: Stop 1
                    description: Instructions name that need to be followed at the stop
                location:
                  descriptor:
                    code:
                      required: mandatory
                      type: string
                      owner: BPP
                      usage: INDIRA_GANDHI_TECHNICAL_UNIV
                      description: Physical description of something.
                    name:
                      required: mandatory
                      type: string
                      owner: BPP
                      usage: Indira Gandhi Technical Unviversity
                      description: Physical description of something.
                  gps:
                    required: mandatory
                    type: string
                    owner: BPP
                    usage: 28.624097, 77.204991
                    description: The GPS co-ordinates of this location.
                id:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: 2
                  description: Unique reference ID for individual stop
                parent_stop_id:
                  required: optional
                  type: string
                  owner: BPP
                  usage: 1
                  description: Unique ID for referencing parent stop
              vehicle:
                category:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: BUS
                  description: Describes category of a vehicle
              tags:
                ROUTE_INFO:
                  required: Mandatory
                  type: string
                  owner: BPP
                  usage: '--'
                  description: Describes route info
                  ROUTE_ID:
                    required: Mandatory
                    type: string
                    owner: BPP
                    usage: '--'
                    description: Describes route id
                  ROUTE_DIRECTION:
                    required: Mandatory
                    type: string
                    owner: BPP
                    usage: '--'
                    description: Describes route direction
                  OPERATIONAL_START_TIME:
                    required: optional
                    type: string
                    owner: BPP
                    usage: '--'
                    description: Describes route operational times
                  OPERATIONAL_END_TIME:
                    required: optional
                    type: string
                    owner: BPP
                    usage: '--'
                    description: Describes route operational end times
            items:
              id:
                required: optional
                type: string
                owner: BPP
                usage: I1
                description: ID of the item.
              descriptor:
                code:
                  required: optional
                  type: string
                  owner: BPP
                  usage: SJT
                  description: Physical description of something.
                name:
                  required: optional
                  type: string
                  owner: BPP
                  usage: Single Journey Ticket
                  description: Physical description of something.
                images:
                  url:
                    required: optional
                    type: string
                    owner: BPP
                    usage: >-
                      https://dtc.delhi.gov.in/sites/default/files/DTC/logo/dtc_logo_2.png
                    description: URL to the image. This can be a data url or an remote url
                  size_type:
                    required: optional
                    type: string
                    owner: BPP
                    usage: xs
                    description: Size type of URL image
              price:
                currency:
                  required: optional
                  type: string
                  owner: BPP
                  usage: INR
                  description: Describes the price of a product or service
                value:
                  required: optional
                  type: integer
                  owner: BPP
                  usage: 35
                  description: Describes the currency of a product or service
              quantity:
                maximum:
                  count:
                    required: optional
                    type: integer
                    owner: BPP
                    usage: 6
                    description: >-
                      This represents the maximum quantity allowed for purchase
                      of the item
                minimum:
                  count:
                    required: optional
                    type: integer
                    owner: BPP
                    usage: 1
                    description: >-
                      This represents the minimum quantity allowed for purchase
                      of the item
              fulfillment_ids:
                required: optional
                type: string
                owner: BPP
                usage: F1
                description: Unique reference ID to the fulfillment of an order
              time:
                duration:
                  required: optional
                  type: string
                  owner: BPP
                  usage: PT2D
                  description: Time duration for servicibility
                label:
                  required: optional
                  type: string
                  owner: BPP
                  usage: Validity
                  description: label for time
              tags:
                FARE_POLICY:
                  required: Mandatory
                  type: string
                  owner: BPP
                  usage: '--'
                  description: Describes fair policy
                  list:
                    RESTRICTED_PERSON:
                      required: Mandatory
                      type: string
                      owner: BPP
                      usage: '--'
                      description: Describes fair policy tags
                    RESTRICTION_PROOF:
                      required: Mandatory
                      type: string
                      owner: BPP
                      usage: '--'
                      description: Describes fair policy tags
            payments:
              tags:
                BUYER_FINDER_FEES:
                  required: Mandatory
                  type: string
                  owner: BAP
                  usage: '--'
                  description: Describes Buyer finder fee
                  list:
                    BUYER_FINDER_FEES_TYPE:
                      required: Mandatory
                      type: string
                      owner: BAP
                      usage: '--'
                      description: Describes Buyer finder fee type
                    BUYER_FINDER_FEES_PERCENTAGE:
                      required: Mandatory
                      type: string
                      owner: BAP
                      usage: '--'
                      description: Describes Buyer finder fee percentage
                SETTLEMENT_TERMS:
                  required: Mandatory
                  type: string
                  owner: BAP
                  usage: '--'
                  description: Describes settlement terms
                  list:
                    SETTLEMENT_WINDOW:
                      required: Mandatory
                      type: string
                      owner: BAP
                      usage: '--'
                      description: Describes settlement window
                    SETTLEMENT_BASIS:
                      required: Mandatory
                      type: string
                      owner: BAP
                      usage: '--'
                      description: Describes settlement basis
                    DELAY_INTEREST:
                      required: Mandatory
                      type: string
                      owner: BAP
                      usage: '--'
                      description: Describes delay interest
                    STATIC_TERMS:
                      required: Mandatory
                      type: string
                      owner: BAP
                      usage: '--'
                      description: Describes static terms
                    MANDATORY_ARBITRATION:
                      required: Mandatory
                      type: string
                      owner: BPP
                      usage: '--'
                      description: Describes mandatory arbitration
                    COURT_JURISDICTION:
                      required: Mandatory
                      type: string
                      owner: BPP
                      usage: '--'
                      description: Describes court jurisdiction
    select:
      context:
        location:
          country:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: IND
              description: Describes country code as per ISO 3166-1 and ISO 3166-2 format
          city:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: '*'
              description: Describes the city code this location is, or is located within
        domain:
          required: mandatory
          type: string
          owner: BAP
          usage: ONDC:FIS13
          description: Describes domain code that is relevant to this transaction context
        timestamp:
          required: mandatory
          type: string
          owner: BAP
          usage: '2023-03-23T04:41:16Z'
          description: Describes tme of request generation in RFC3339 format
        bap_id:
          required: mandatory
          type: string
          owner: BAP
          usage: fis.test.bap.io
          description: Describes subscriber ID of the BAP
        transaction_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 6743e9e2
          description: Describes  a unique value which persists across all API calls
        message_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 13ba8018f176
          description: >-
            Describes a unique value which persists during a request / callback
            cycle.
        version:
          required: mandatory
          type: integer
          owner: BAP
          usage: 2.0.0
          description: >-
            Describes the version of transaction protocol being used by the
            sender.
        action:
          required: mandatory
          type: string
          owner: BAP
          usage: select
          description: >-
            Describes the Beckn protocol method being called by the sender and
            executed at the receiver.
        bap_uri:
          required: mandatory
          type: string
          owner: BAP
          usage: https://fis.test.bap.io/
          description: >-
            Describes subscriber URL of the BAP for accepting callbacks from
            BPPs.
        ttl:
          required: mandatory
          type: string
          owner: BAP
          usage: PT30S
          description: >-
            Describes the duration in ISO8601 format after timestamp for which
            this message holds valid
        bpp_id:
          required: mandatory
          type: string
          owner: BPP
          usage: fis.test.bpp.io
          description: Describes subscriber ID of the BPP
        bpp_uri:
          required: mandatory
          type: string
          owner: BPP
          usage: https://fis.test.bpp.io/
          description: Describes subscriber URL of the BPP for accepting calls from BAPs.
      message:
        order:
          items:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: I1
              description: 'Human-readable ID of the order. '
            quantity:
              selected:
                count:
                  required: mandatory
                  type: integer
                  owner: BAP
                  usage: 2
                  description: >-
                    This represents the quantity selected for purchase of the
                    item
          provider:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: P1
              description: Id of the provider
    on_select:
      context:
        location:
          country:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: IND
              description: Describes country code as per ISO 3166-1 and ISO 3166-2 format
          city:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: '*'
              description: Describes the city code this location is, or is located within
        domain:
          required: mandatory
          type: string
          owner: BAP
          usage: ONDC:FIS13
          description: Describes domain code that is relevant to this transaction context
        timestamp:
          required: mandatory
          type: string
          owner: BAP
          usage: '2023-03-23T04:41:16Z'
          description: Describes tme of request generation in RFC3339 format
        bap_id:
          required: mandatory
          type: string
          owner: BAP
          usage: fis.test.bap.io
          description: Describes subscriber ID of the BAP
        transaction_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 6743e9e2
          description: Describes  a unique value which persists across all API calls
        message_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 13ba8018f176
          description: >-
            Describes a unique value which persists during a request / callback
            cycle.
        version:
          required: mandatory
          type: integer
          owner: BAP
          usage: 2.0.0
          description: >-
            Describes the version of transaction protocol being used by the
            sender.
        action:
          required: mandatory
          type: string
          owner: BAP
          usage: on_select
          description: >-
            Describes the Beckn protocol method being called by the sender and
            executed at the receiver.
        bap_uri:
          required: mandatory
          type: string
          owner: BAP
          usage: https://fis.test.bap.io/
          description: >-
            Describes subscriber URL of the BAP for accepting callbacks from
            BPPs.
        ttl:
          required: mandatory
          type: string
          owner: BAP
          usage: PT30S
          description: >-
            Describes the duration in ISO8601 format after timestamp for which
            this message holds valid
        bpp_id:
          required: mandatory
          type: string
          owner: BPP
          usage: fis.test.bpp.io
          description: Describes subscriber ID of the BPP
        bpp_uri:
          required: mandatory
          type: string
          owner: BPP
          usage: https://fis.test.bpp.io/
          description: Describes subscriber URL of the BPP for accepting calls from BAPs.
      message:
        order:
          items:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: I1
              description: ID of the item.
            descriptor:
              name:
                required: mandatory
                type: string
                owner: BPP
                usage: Single Journey Ticket
                description: Physical description of something.
              code:
                required: mandatory
                type: string
                owner: BPP
                usage: SJT
                description: Physical description of something.
              images:
                url:
                  required: optional
                  type: string
                  owner: BPP
                  usage: >-
                    https://dtc.delhi.gov.in/sites/default/files/DTC/logo/dtc_logo_2.png
                  description: URL to the image. This can be a data url or an remote url
                size_type:
                  required: optional
                  type: string
                  owner: BPP
                  usage: xs
                  description: Size type of URL image
            price:
              currency:
                required: mandatory
                type: string
                owner: BPP
                usage: INR
                description: Price of the selected item.
              value:
                required: mandatory
                type: integer
                owner: BPP
                usage: 35
                description: Describes a numerical value in decimal form
            quantity:
              selected:
                count:
                  required: mandatory
                  type: integer
                  owner: BAP
                  usage: 2
                  description: >-
                    This represents the quantity selected for purchase of the
                    item
            fulfillment_ids:
              required: mandatory
              type: string
              owner: BPP
              usage: F1
              description: Unique reference ID to the fulfillment of an order
            time:
              label:
                required: mandatory
                type: string
                owner: BPP
                usage: PT2D
                description: Time duration for servicibility
              duration:
                required: mandatory
                type: string
                owner: BPP
                usage: Validity
                description: label for time
          provider:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: P1
              description: Id of the provider
            descriptor:
              name:
                required: mandatory
                type: string
                owner: BPP
                usage: Delhi Transport Corporation
                description: Physical description of something.
              images:
                url:
                  required: optional
                  type: string
                  owner: BPP
                  usage: >-
                    https://dtc.delhi.gov.in/sites/default/files/DTC/logo/dtc_logo_2.png
                  description: URL to the image. This can be a data url or an remote url
          fulfillments:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: F1
              description: Unique reference ID to the fulfillment of an order
            stops:
              type:
                required: mandatory
                type: string
                owner: BPP
                usage: INTERMEDIATE_STOP
                description: >-
                  The type of stop. Allowed values of this property can be
                  defined by the network policy.
              instructions:
                name:
                  required: optional
                  type: string
                  owner: BPP
                  usage: Stop 1
                  description: Physical description of something.
              location:
                descriptor:
                  name:
                    required: mandatory
                    type: string
                    owner: BPP
                    usage: Indira Gandhi Technical Unviversity
                    description: Physical description of something.
                  code:
                    required: mandatory
                    type: string
                    owner: BPP
                    usage: INDIRA_GANDHI_TECHNICAL_UNIV
                    description: Physical description of something.
                gps:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: 28.624097, 77.204991
                  description: Describes a GPS coordinate
              id:
                required: mandatory
                type: string
                owner: BPP
                usage: 2
                description: Unique reference ID for individual stop
              parent_stop_id:
                required: optional
                type: string
                owner: BPP
                usage: 1
                description: Unique ID for referencing parent stop
            vehicle:
              category:
                required: mandatory
                type: string
                owner: BPP
                usage: BUS
                description: Describes vehicle category
            tags:
              ROUTE_INFO:
                required: Mandatory
                type: string
                owner: BPP
                usage: '--'
                description: Describes route info
                ROUTE_ID:
                  required: Mandatory
                  type: string
                  owner: BPP
                  usage: '--'
                  description: Describes route id
                ROUTE_DIRECTION:
                  required: Mandatory
                  type: string
                  owner: BPP
                  usage: '--'
                  description: Describes route direction
          quote:
            price:
              value:
                required: mandatory
                type: string
                owner: BPP
                usage: 70
                description: Describes the price of a product or service
              currency:
                required: mandatory
                type: string
                owner: BPP
                usage: INR
                description: Describes the currency of a product or service
            breakup:
              title:
                required: mandatory
                type: string
                owner: BPP
                usage: Base Fare
                description: false
              item:
                id:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: I1
                  description: false
              price:
                currency:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: INR
                  description: false
                value:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: 35
                  description: false
    init:
      context:
        location:
          country:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: IND
              description: Describes country code as per ISO 3166-1 and ISO 3166-2 format
          city:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: '*'
              description: Describes the city code this location is, or is located within
        domain:
          required: mandatory
          type: string
          owner: BAP
          usage: ONDC:FIS13
          description: Describes domain code that is relevant to this transaction context
        timestamp:
          required: mandatory
          type: string
          owner: BAP
          usage: '2023-03-23T04:41:16Z'
          description: Describes tme of request generation in RFC3339 format
        bap_id:
          required: mandatory
          type: string
          owner: BAP
          usage: fis.test.bap.io
          description: Describes subscriber ID of the BAP
        transaction_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 6743e9e2
          description: Describes  a unique value which persists across all API calls
        message_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 13ba8018f176
          description: >-
            Describes a unique value which persists during a request / callback
            cycle.
        version:
          required: mandatory
          type: integer
          owner: BAP
          usage: 2.0.0
          description: >-
            Describes the version of transaction protocol being used by the
            sender.
        action:
          required: mandatory
          type: string
          owner: BAP
          usage: init
          description: >-
            Describes the Beckn protocol method being called by the sender and
            executed at the receiver.
        bap_uri:
          required: mandatory
          type: string
          owner: BAP
          usage: https://fis.test.bap.io/
          description: >-
            Describes subscriber URL of the BAP for accepting callbacks from
            BPPs.
        ttl:
          required: mandatory
          type: string
          owner: BAP
          usage: PT30S
          description: >-
            Describes the duration in ISO8601 format after timestamp for which
            this message holds valid
        bpp_id:
          required: mandatory
          type: string
          owner: BPP
          usage: fis.test.bpp.io
          description: Describes subscriber ID of the BPP
        bpp_uri:
          required: mandatory
          type: string
          owner: BPP
          usage: https://fis.test.bpp.io/
          description: Describes subscriber URL of the BPP for accepting calls from BAPs.
      message:
        order:
          items:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: I1
              description: ID of the item.
            quantity:
              selected:
                count:
                  required: mandatory
                  type: integer
                  owner: BAP
                  usage: 2
                  description: >-
                    This represents the quantity selected for purchase of the
                    item
          provider:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: P1
              description: Id of the provider
          billing:
            name:
              required: optional
              type: string
              owner: BAP
              usage: John Doe
              description: Name of the billable entity
            email:
              required: optional
              type: string
              owner: BAP
              usage: john.doe@example.com
              description: Email address where the bill is sent to
            phone:
              required: optional
              type: string
              owner: BAP
              usage: 9897867564
              description: Phone number of the billable entity
          payments:
            collected_by:
              required: mandatory
              type: string
              owner: BAP
              usage: BAP
              description: 'This field indicates who is the collector of payment. '
            status:
              required: mandatory
              type: string
              owner: BAP
              usage: NOT-PAID
              description: Payment status
            type:
              required: mandatory
              type: string
              owner: BAP
              usage: PRE-ORDER
              description: Payment Type
            tags:
              BUYER_FINDER_FEES:
                required: Mandatory
                type: string
                owner: BAP
                usage: '--'
                description: Describes Buyer finder fee
                list:
                  BUYER_FINDER_FEES_TYPE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes Buyer finder fee type
                  BUYER_FINDER_FEES_PERCENTAGE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes Buyer finder fee percentage
              SETTLEMENT_TERMS:
                required: Mandatory
                type: string
                owner: BAP
                usage: '--'
                description: Describes settlement terms
                list:
                  SETTLEMENT_WINDOW:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement window
                  SETTLEMENT_BASIS:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement basis
                  DELAY_INTEREST:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes delay interest
                  STATIC_TERMS:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes static terms
                  SETTLEMENT_AMOUNT:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement amount to counter-party
                  SETTLEMENT_TYPE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement type
    on_init:
      context:
        location:
          country:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: IND
              description: Describes country code as per ISO 3166-1 and ISO 3166-2 format
          city:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: '*'
              description: Describes the city code this location is, or is located within
        domain:
          required: mandatory
          type: string
          owner: BAP
          usage: ONDC:FIS13
          description: Describes domain code that is relevant to this transaction context
        timestamp:
          required: mandatory
          type: string
          owner: BAP
          usage: '2023-03-23T04:41:16Z'
          description: Describes tme of request generation in RFC3339 format
        bap_id:
          required: mandatory
          type: string
          owner: BAP
          usage: fis.test.bap.io
          description: Describes subscriber ID of the BAP
        transaction_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 6743e9e2
          description: Describes  a unique value which persists across all API calls
        message_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 13ba8018f176
          description: >-
            Describes a unique value which persists during a request / callback
            cycle.
        version:
          required: mandatory
          type: integer
          owner: BAP
          usage: 2.0.0
          description: >-
            Describes the version of transaction protocol being used by the
            sender.
        action:
          required: mandatory
          type: string
          owner: BAP
          usage: on_init
          description: >-
            Describes the Beckn protocol method being called by the sender and
            executed at the receiver.
        bap_uri:
          required: mandatory
          type: string
          owner: BAP
          usage: https://fis.test.bap.io/
          description: >-
            Describes subscriber URL of the BAP for accepting callbacks from
            BPPs.
        ttl:
          required: mandatory
          type: string
          owner: BAP
          usage: PT30S
          description: >-
            Describes the duration in ISO8601 format after timestamp for which
            this message holds valid
        bpp_id:
          required: mandatory
          type: string
          owner: BPP
          usage: fis.test.bpp.io
          description: Describes subscriber ID of the BPP
        bpp_uri:
          required: mandatory
          type: string
          owner: BPP
          usage: https://fis.test.bpp.io/
          description: Describes subscriber URL of the BPP for accepting calls from BAPs.
      message:
        order:
          items:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: I1
              description: ID of the item.
            descriptor:
              name:
                required: mandatory
                type: string
                owner: BPP
                usage: Single Journey Ticket
                description: Physical description of something.
              code:
                required: mandatory
                type: string
                owner: BPP
                usage: SJT
                description: Physical description of something.
              images:
                url:
                  required: optional
                  type: string
                  owner: BPP
                  usage: >-
                    https://dtc.delhi.gov.in/sites/default/files/DTC/logo/dtc_logo_2.png
                  description: URL to the image. This can be a data url or an remote url
                size_type:
                  required: optional
                  type: string
                  owner: BPP
                  usage: xs
                  description: Size type of URL image
            price:
              currency:
                required: mandatory
                type: string
                owner: BPP
                usage: INR
                description: Price of the selected item.
              value:
                required: mandatory
                type: integer
                owner: BPP
                usage: 35
                description: Describes a numerical value in decimal form
            quantity:
              selected:
                count:
                  required: mandatory
                  type: integer
                  owner: BAP
                  usage: 2
                  description: >-
                    This represents the quantity selected for purchase of the
                    item
            fulfillment_ids:
              required: mandatory
              type: string
              owner: BPP
              usage: F1
              description: Unique reference ID to the fulfillment of an order
            time:
              label:
                required: mandatory
                type: string
                owner: BPP
                usage: PT2D
                description: Time duration for servicibility
              duration:
                required: mandatory
                type: string
                owner: BPP
                usage: Validity
                description: label for time
          provider:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: P1
              description: Id of the provider
            descriptor:
              name:
                required: mandatory
                type: string
                owner: BPP
                usage: Delhi Metro Rail Limited
                description: Physical description of something.
              images:
                url:
                  required: optional
                  type: string
                  owner: BPP
                  usage: https://delhimetrorail.com/logos/logo.ico
                  description: URL to the image. This can be a data url or an remote url
          fulfillments:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: F1
              description: Unique reference ID to the fulfillment of an order
            stops:
              type:
                required: mandatory
                type: string
                owner: BPP
                usage: INTERMEDIATE_STOP
                description: >-
                  The type of stop. Allowed values of this property can be
                  defined by the network policy.
              instructions:
                name:
                  required: optional
                  type: string
                  owner: BPP
                  usage: Stop 1
                  description: Physical description of something.
              location:
                descriptor:
                  name:
                    required: mandatory
                    type: string
                    owner: BPP
                    usage: kashmere gate
                    description: Physical description of something.
                  code:
                    required: mandatory
                    type: string
                    owner: BPP
                    usage: KASHMERE_GATE
                    description: Physical description of something.
                gps:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: 28.666576, 77.233332
                  description: Describes a GPS coordinate
              id:
                required: mandatory
                type: string
                owner: BPP
                usage: 2
                description: Unique reference ID for individual stop
              parent_stop_id:
                required: optional
                type: string
                owner: BPP
                usage: 1
                description: Unique ID for referencing parent stop
            vehicle:
              category:
                required: mandatory
                type: string
                owner: BPP
                usage: BUS
                description: Describes vehicle category
            tags:
              ROUTE_INFO:
                required: Mandatory
                type: string
                owner: BPP
                usage: '--'
                description: Describes route info
                ROUTE_ID:
                  required: Mandatory
                  type: string
                  owner: BPP
                  usage: '--'
                  description: Describes route id
                ROUTE_DIRECTION:
                  required: Mandatory
                  type: string
                  owner: BPP
                  usage: '--'
                  description: Describes route direction
          billing:
            name:
              required: optional
              type: string
              owner: BAP
              usage: John Doe
              description: Name of the billable entity
            email:
              required: optional
              type: string
              owner: BAP
              usage: john.doe@example.com
              description: Email address where the bill is sent to
            phone:
              required: optional
              type: integer
              owner: BAP
              usage: 9897867564
              description: Phone number of the billable entity
          quote:
            price:
              value:
                required: mandatory
                type: integer
                owner: BPP
                usage: 70
                description: Describes the price of a product or service
              currency:
                required: mandatory
                type: string
                owner: BPP
                usage: INR
                description: Describes the currency of a product or service
            breakup:
              title:
                required: mandatory
                type: string
                owner: BPP
                usage: Base Fare
                description: Breakup title of the total quoted price
              item:
                id:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: I1
                  description: ID of the item.
              price:
                currency:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: INR
                  description: Describes the price of a product or service
                value:
                  required: mandatory
                  type: integer
                  owner: BPP
                  usage: 35
                  description: Describes the currency to be paid in of a product or service
          payments:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: PA1
              description: >-
                ID of the payment term that can be referred at an item or an
                order level in a catalog
            collected_by:
              required: mandatory
              type: string
              owner: BAP
              usage: BAP
              description: 'This field indicates who is the collector of payment. '
            status:
              required: mandatory
              type: string
              owner: BAP
              usage: NOT-PAID
              description: Payment Status
            type:
              required: mandatory
              type: string
              owner: BAP
              usage: PRE-ORDER
              description: Payment type
            params:
              bank_code:
                required: optional
                type: string
                owner: BPP
                usage: XXXXXXXX
                description: Bank code associated with payment activity
              bank_account_number:
                required: optional
                type: string
                owner: BPP
                usage: xxxxxxxxxxxxxx
                description: Bank account number associated with payment activity
              virtual_payment_address:
                required: optional
                type: string
                owner: BPP
                usage: 9988199772@okicici
                description: Virtual payment address associated with payment activity
            tags:
              BUYER_FINDER_FEES:
                required: Mandatory
                type: string
                owner: BAP
                usage: '--'
                description: Describes Buyer finder fee
                list:
                  BUYER_FINDER_FEES_TYPE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes Buyer finder fee type
                  BUYER_FINDER_FEES_PERCENTAGE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes Buyer finder fee percentage
              SETTLEMENT_TERMS:
                required: Mandatory
                type: string
                owner: BAP
                usage: '--'
                description: Describes settlement terms
                list:
                  SETTLEMENT_WINDOW:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement window
                  SETTLEMENT_BASIS:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement basis
                  DELAY_INTEREST:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes delay interest
                  STATIC_TERMS:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes static terms
                  SETTLEMENT_AMOUNT:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement amount to counter-party
                  SETTLEMENT_TYPE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement type
          cancellation_terms:
            cancel_by:
              duration:
                required: optional
                type: string
                owner: BPP
                usage: PT60M
                description: Duration for cancellation of order
            cancellation_fee:
              percentage:
                required: optional
                type: string
                owner: BPP
                usage: false
                description: Fee Percentage for cancellation
    confirm:
      context:
        location:
          country:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: IND
              description: Describes country code as per ISO 3166-1 and ISO 3166-2 format
          city:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: '*'
              description: Describes the city code this location is, or is located within
        domain:
          required: mandatory
          type: string
          owner: BAP
          usage: ONDC:FIS13
          description: Describes domain code that is relevant to this transaction context
        timestamp:
          required: mandatory
          type: string
          owner: BAP
          usage: '2023-03-23T04:41:16Z'
          description: Describes tme of request generation in RFC3339 format
        bap_id:
          required: mandatory
          type: string
          owner: BAP
          usage: fis.test.bap.io
          description: Describes subscriber ID of the BAP
        transaction_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 6743e9e2
          description: Describes  a unique value which persists across all API calls
        message_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 13ba8018f176
          description: >-
            Describes a unique value which persists during a request / callback
            cycle.
        version:
          required: mandatory
          type: integer
          owner: BAP
          usage: 2.0.0
          description: >-
            Describes the version of transaction protocol being used by the
            sender.
        action:
          required: mandatory
          type: string
          owner: BAP
          usage: confirm
          description: >-
            Describes the Beckn protocol method being called by the sender and
            executed at the receiver.
        bap_uri:
          required: mandatory
          type: string
          owner: BAP
          usage: https://fis.test.bap.io/
          description: >-
            Describes subscriber URL of the BAP for accepting callbacks from
            BPPs.
        ttl:
          required: mandatory
          type: string
          owner: BAP
          usage: PT30S
          description: >-
            Describes the duration in ISO8601 format after timestamp for which
            this message holds valid
        bpp_id:
          required: mandatory
          type: string
          owner: BPP
          usage: fis.test.bpp.io
          description: Describes subscriber ID of the BPP
        bpp_uri:
          required: mandatory
          type: string
          owner: BPP
          usage: https://fis.test.bpp.io/
          description: Describes subscriber URL of the BPP for accepting calls from BAPs.
      message:
        order:
          id:
            required: mandatory
            type: string
            owner: BAP
            usage: O1
            description: 'Human-readable ID of the order. '
          items:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: I1
              description: ID of the item.
            quantity:
              selected:
                count:
                  required: mandatory
                  type: integer
                  owner: BAP
                  usage: 2
                  description: >-
                    This represents the quantity selected for purchase of the
                    item
          provider:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: P1
              description: Id of the provider
          billing:
            name:
              required: optional
              type: string
              owner: BAP
              usage: John Doe
              description: Name of the billable entity
            email:
              required: optional
              type: string
              owner: BAP
              usage: john.doe@example.com
              description: Email address where the bill is sent to
            phone:
              required: optional
              type: integer
              owner: BAP
              usage: 9897867564
              description: Phone number of the billable entity
          payments:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: PA1
              description: >-
                ID of the payment term that can be referred at an item or an
                order level in a catalog
            collected_by:
              required: mandatory
              type: string
              owner: BAP
              usage: BAP
              description: 'This field indicates who is the collector of payment. '
            status:
              required: mandatory
              type: string
              owner: BAP
              usage: NOT-PAID
              description: Payment status
            type:
              required: mandatory
              type: string
              owner: BAP
              usage: PRE-ORDER
              description: Payment Type
              params:
                transaction_id:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: XXXXXXXX
                  description: >-
                    The reference transaction ID associated with a payment
                    activity
                currency:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: xxxxxxxxxxxxxx
                  description: Describes currency value in string form
                amount:
                  required: mandatory
                  type: integer
                  owner: BPP
                  usage: 9988199772@okicic
                  description: Describes a numerical value in decimal form
            tags:
              BUYER_FINDER_FEES:
                required: Mandatory
                type: string
                owner: BAP
                usage: '--'
                description: Describes Buyer finder fee
                list:
                  BUYER_FINDER_FEES_TYPE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes Buyer finder fee type
                  BUYER_FINDER_FEES_PERCENTAGE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes Buyer finder fee percentage
              SETTLEMENT_TERMS:
                required: Mandatory
                type: string
                owner: BAP
                usage: '--'
                description: Describes settlement terms
                list:
                  SETTLEMENT_WINDOW:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement window
                  SETTLEMENT_BASIS:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement basis
                  DELAY_INTEREST:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes delay interest
                  STATIC_TERMS:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes static terms
                  SETTLEMENT_AMOUNT:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement amount to counter-party
                  SETTLEMENT_TYPE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement type
    on_confirm:
      context:
        location:
          country:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: IND
              description: Describes country code as per ISO 3166-1 and ISO 3166-2 format
          city:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: '*'
              description: Describes the city code this location is, or is located within
        domain:
          required: mandatory
          type: string
          owner: BAP
          usage: ONDC:FIS13
          description: Describes domain code that is relevant to this transaction context
        timestamp:
          required: mandatory
          type: string
          owner: BAP
          usage: '2023-03-23T04:41:16Z'
          description: Describes tme of request generation in RFC3339 format
        bap_id:
          required: mandatory
          type: string
          owner: BAP
          usage: fis.test.bap.io
          description: Describes subscriber ID of the BAP
        transaction_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 6743e9e2
          description: Describes  a unique value which persists across all API calls
        message_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 13ba8018f176
          description: >-
            Describes a unique value which persists during a request / callback
            cycle.
        version:
          required: mandatory
          type: integer
          owner: BAP
          usage: 2.0.0
          description: >-
            Describes the version of transaction protocol being used by the
            sender.
        action:
          required: mandatory
          type: string
          owner: BAP
          usage: on_confirm
          description: >-
            Describes the Beckn protocol method being called by the sender and
            executed at the receiver.
        bap_uri:
          required: mandatory
          type: string
          owner: BAP
          usage: https://fis.test.bap.io/
          description: >-
            Describes subscriber URL of the BAP for accepting callbacks from
            BPPs.
        ttl:
          required: mandatory
          type: string
          owner: BAP
          usage: PT30S
          description: >-
            Describes the duration in ISO8601 format after timestamp for which
            this message holds valid
        bpp_id:
          required: mandatory
          type: string
          owner: BPP
          usage: fis.test.bpp.io
          description: Describes subscriber ID of the BPP
        bpp_uri:
          required: mandatory
          type: string
          owner: BPP
          usage: https://fis.test.bpp.io/
          description: Describes subscriber URL of the BPP for accepting calls from BAPs.
      message:
        order:
          id:
            required: mandatory
            type: string
            owner: BAP
            usage: O1
            description: 'Human-readable ID of the order. '
          items:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: I1
              description: ID of the item.
            descriptor:
              name:
                required: mandatory
                type: string
                owner: BPP
                usage: Single Journey Ticket
                description: Physical description of something.
              code:
                required: mandatory
                type: string
                owner: BPP
                usage: SJT
                description: Physical description of something.
              images:
                url:
                  required: optional
                  type: string
                  owner: BPP
                  usage: >-
                    https://dtc.delhi.gov.in/sites/default/files/DTC/logo/dtc_logo_2.png
                  description: URL to the image. This can be a data url or an remote url
                size_type:
                  required: optional
                  type: string
                  owner: BPP
                  usage: xs
                  description: Size type of URL image
            price:
              currency:
                required: mandatory
                type: string
                owner: BPP
                usage: INR
                description: Price of the selected item.
              value:
                required: mandatory
                type: integer
                owner: BPP
                usage: 35
                description: Describes a numerical value in decimal form
            quantity:
              selected:
                count:
                  required: mandatory
                  type: integer
                  owner: BAP
                  usage: 2
                  description: >-
                    This represents the quantity selected for purchase of the
                    item
            fulfillment_ids:
              required: mandatory
              type: string
              owner: BPP
              usage: F1
              description: Unique reference ID to the fulfillment of an order
            time:
              label:
                required: mandatory
                type: string
                owner: BPP
                usage: PT2D
                description: Time duration for servicibility
              duration:
                required: mandatory
                type: string
                owner: BPP
                usage: Validity
                description: label for time
          provider:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: P1
              description: Id of the provider
            descriptor:
              name:
                required: mandatory
                type: string
                owner: BPP
                usage: Delhi Metro Rail Limited
                description: Physical description of something.
              images:
                url:
                  required: optional
                  type: string
                  owner: BPP
                  usage: https://delhimetrorail.com/logos/logo.ico
                  description: URL to the image. This can be a data url or an remote url
          fulfillments:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: F1
              description: Unique reference ID to the fulfillment of an order
            stops:
              type:
                required: mandatory
                type: string
                owner: BPP
                usage: START
                description: >-
                  The type of stop. Allowed values of this property can be
                  defined by the network policy.
              instructions:
                name:
                  required: optional
                  type: string
                  owner: BPP
                  usage: Stop 1
                  description: Physical description of something.
              location:
                descriptor:
                  name:
                    required: mandatory
                    type: string
                    owner: BPP
                    usage: kashmere gate
                    description: Physical description of something.
                  code:
                    required: mandatory
                    type: string
                    owner: BPP
                    usage: KASHMERE_GATE
                    description: Physical description of something.
                gps:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: 28.666576, 77.233332
                  description: Describes a GPS coordinate
              authorization:
                type:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: QR
                  description: Describes type of Authorization
                token:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: >-
                    iVBORw0KGgoAAAANSUhEUgAAAH0AAAB9AQAAAACn+1GIAAAApklEQVR4Xu2UMQ4EMQgD/QP+/0vK6zjsvayUMmavWxQpMAUBkwS12wcveAAkgNSCD3rR5Lkgoai3GUCMgWqbAEYR3HxAkZlzU/0MyBisYRsgI1ERFfcpBpA+ze6k56Cj7KTdXNigFWZvSOpsgqLfd18i2aAukXh9TXBNmdWt5gzA/oqzWkkN8HtA7G8CNOwYAiZt3wZixUfkA32OHNQq7Bxs9oI/gC/9fV8AVCkPjQAAAABJRU5ErkJggg==
                  description: Describes authorization token
                valid_to:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: '2021-03-23T23:59:59.999Z'
                  description: Describes validity for authorization token
              id:
                required: mandatory
                type: string
                owner: BPP
                usage: 2
                description: Unique reference ID for individual stop
              parent_stop_id:
                required: optional
                type: string
                owner: BPP
                usage: 1
                description: Unique ID for referencing parent stop
            vehicle:
              category:
                required: mandatory
                type: string
                owner: BPP
                usage: BUS
                description: Describes vehicle category
            tags:
              ROUTE_INFO:
                required: Mandatory
                type: string
                owner: BPP
                usage: '--'
                description: Describes route info
                ROUTE_ID:
                  required: Mandatory
                  type: string
                  owner: BPP
                  usage: '--'
                  description: Describes route id
                ROUTE_DIRECTION:
                  required: Mandatory
                  type: string
                  owner: BPP
                  usage: '--'
                  description: Describes route direction
          billing:
            name:
              required: optional
              type: string
              owner: BAP
              usage: John Doe
              description: Name of the billable entity
            email:
              required: optional
              type: string
              owner: BAP
              usage: john.doe@example.com
              description: Email address where the bill is sent to
            phone:
              required: optional
              type: integer
              owner: BAP
              usage: 9897867564
              description: Phone number of the billable entity
          quote:
            price:
              value:
                required: mandatory
                type: integer
                owner: BPP
                usage: 70
                description: Describes the price of a product or service
              currency:
                required: mandatory
                type: string
                owner: BPP
                usage: INR
                description: Describes the currency of a product or service
            breakup:
              title:
                required: mandatory
                type: string
                owner: BPP
                usage: Base Fare
                description: Breakup title of the total quoted price
              item:
                id:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: I1
                  description: ID of the item.
              price:
                currency:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: INR
                  description: Describes the price of a product or service
                value:
                  required: mandatory
                  type: integer
                  owner: BPP
                  usage: 35
                  description: Describes the currency to be paid in of a product or service
          payments:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: PA1
              description: >-
                ID of the payment term that can be referred at an item or an
                order level in a catalog
            collected_by:
              required: mandatory
              type: string
              owner: BAP
              usage: BAP
              description: 'This field indicates who is the collector of payment. '
            status:
              required: mandatory
              type: string
              owner: BAP
              usage: NOT-PAID
              description: Payment Status
            type:
              required: mandatory
              type: string
              owner: BAP
              usage: PRE-ORDER
              description: Payment type
            params:
              transaction_id:
                required: mandatory
                type: string
                owner: BPP
                usage: 34cc9b0b-6887-4c63-8397-2f4fcf03e50d
                description: >-
                  The reference transaction ID associated with a payment
                  activity
              currency:
                required: mandatory
                type: string
                owner: BPP
                usage: INR
                description: Describes currency value in string form
              amount:
                required: mandatory
                type: string
                owner: BPP
                usage: 70
                description: Describes a numerical value in decimal form
              bank_code:
                required: optional
                type: string
                owner: BPP
                usage: XXXXXXXX
                description: Bank code associated with payment activity
              bank_account_number:
                required: optional
                type: string
                owner: BPP
                usage: xxxxxxxxxxxxxx
                description: Bank account number associated with payment activity
              virtual_payment_address:
                required: optional
                type: string
                owner: BPP
                usage: 9988199772@okicic
                description: Virtual payment address associated with payment activity
            tags:
              BUYER_FINDER_FEES:
                required: Mandatory
                type: string
                owner: BAP
                usage: '--'
                description: Describes Buyer finder fee
                list:
                  BUYER_FINDER_FEES_TYPE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes Buyer finder fee type
                  BUYER_FINDER_FEES_PERCENTAGE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes Buyer finder fee percentage
              SETTLEMENT_TERMS:
                required: Mandatory
                type: string
                owner: BAP
                usage: '--'
                description: Describes settlement terms
                list:
                  SETTLEMENT_WINDOW:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement window
                  SETTLEMENT_BASIS:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement basis
                  DELAY_INTEREST:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes delay interest
                  STATIC_TERMS:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes static terms
                  SETTLEMENT_AMOUNT:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement amount to counter-party
                  SETTLEMENT_TYPE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement type
          cancellation_terms:
            cancel_by:
              duration:
                required: mandatory
                type: string
                owner: BPP
                usage: PT60M
                description: Duration for cancellation of order
            cancellation_fee:
              percentage:
                required: mandatory
                type: string
                owner: BPP
                usage: false
                description: Fee Percentage for cancellation
    status:
      context:
        location:
          country:
            code:
              required: mandatory
              type: string
              owner: BAP
              sample usage: IND
              description: Describes country code as per ISO 3166-1 and ISO 3166-2 format
          city:
            code:
              required: mandatory
              type: string
              owner: BAP
              sample usage: '*'
              description: Describes the city code this location is, or is located within
        domain:
          required: mandatory
          type: string
          owner: BAP
          sample usage: ONDC:FIS13
          description: Describes domain code that is relevant to this transaction context
        timestamp:
          required: mandatory
          type: string
          owner: BAP
          sample usage: '2023-03-23T04:41:16Z'
          description: Describes tme of request generation in RFC3339 format
        bap_id:
          required: mandatory
          type: string
          owner: BAP
          sample usage: fis.test.bap.io
          description: Describes subscriber ID of the BAP
        transaction_id:
          required: mandatory
          type: string
          owner: BAP
          sample usage: 6743e9e2
          description: Describes  a unique value which persists across all API calls
        message_id:
          required: mandatory
          type: string
          owner: BAP
          sample usage: 13ba8018f176
          description: >-
            Describes a unique value which persists during a request / callback
            cycle.
        version:
          required: mandatory
          type: integer
          owner: BAP
          sample usage: 2.0.0
          description: >-
            Describes the version of transaction protocol being used by the
            sender.
        action:
          required: mandatory
          type: string
          owner: BAP
          sample usage: status
          description: >-
            Describes the Beckn protocol method being called by the sender and
            executed at the receiver.
        bap_uri:
          required: mandatory
          type: string
          owner: BAP
          sample usage: https://fis.test.bap.io/
          description: >-
            Describes subscriber URL of the BAP for accepting callbacks from
            BPPs.
        ttl:
          required: mandatory
          type: string
          owner: BAP
          sample usage: PT30S
          description: >-
            Describes the duration in ISO8601 format after timestamp for which
            this message holds valid
        bpp_id:
          required: mandatory
          type: string
          owner: BPP
          sample usage: fis.test.bpp.io
          description: Describes subscriber ID of the BPP
        bpp_uri:
          required: mandatory
          type: string
          owner: BPP
          sample usage: https://fis.test.bpp.io/
          description: Describes subscriber URL of the BPP for accepting calls from BAPs.
      message:
        order_id:
          required: mandatory
          type: string
          owner: BAP
          sample usage: O1
          description: 'Human-readable ID of the order. '
    on_status:
      context:
        location:
          country:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: IND
              description: Describes country code as per ISO 3166-1 and ISO 3166-2 format
          city:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: '*'
              description: Describes the city code this location is, or is located within
        domain:
          required: mandatory
          type: string
          owner: BAP
          usage: ONDC:FIS13
          description: Describes domain code that is relevant to this transaction context
        timestamp:
          required: mandatory
          type: string
          owner: BAP
          usage: '2023-03-23T04:41:16Z'
          description: Describes tme of request generation in RFC3339 format
        bap_id:
          required: mandatory
          type: string
          owner: BAP
          usage: fis.test.bap.io
          description: Describes subscriber ID of the BAP
        transaction_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 6743e9e2
          description: Describes  a unique value which persists across all API calls
        message_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 13ba8018f176
          description: >-
            Describes a unique value which persists during a request / callback
            cycle.
        version:
          required: mandatory
          type: integer
          owner: BAP
          usage: 2.0.0
          description: >-
            Describes the version of transaction protocol being used by the
            sender.
        action:
          required: mandatory
          type: string
          owner: BAP
          usage: on_status
          description: >-
            Describes the Beckn protocol method being called by the sender and
            executed at the receiver.
        bap_uri:
          required: mandatory
          type: string
          owner: BAP
          usage: https://fis.test.bap.io/
          description: >-
            Describes subscriber URL of the BAP for accepting callbacks from
            BPPs.
        ttl:
          required: mandatory
          type: string
          owner: BAP
          usage: PT30S
          description: >-
            Describes the duration in ISO8601 format after timestamp for which
            this message holds valid
        bpp_id:
          required: mandatory
          type: string
          owner: BPP
          usage: fis.test.bpp.io
          description: Describes subscriber ID of the BPP
        bpp_uri:
          required: mandatory
          type: string
          owner: BPP
          usage: https://fis.test.bpp.io/
          description: Describes subscriber URL of the BPP for accepting calls from BAPs.
      message:
        order:
          id:
            required: mandatory
            type: string
            owner: BAP
            usage: O1
            description: 'Human-readable ID of the order. '
          status:
            required: mandatory
            type: string
            owner: BPP
            usage: COMPLETE
            description: Current status of the order.
          items:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: I1
              description: ID of the item.
            descriptor:
              name:
                required: mandatory
                type: string
                owner: BPP
                usage: Single Journey Ticket
                description: Physical description of something.
              code:
                required: mandatory
                type: string
                owner: BPP
                usage: SJT
                description: Physical description of something.
              images:
                url:
                  required: optional
                  type: string
                  owner: BPP
                  usage: >-
                    https://dtc.delhi.gov.in/sites/default/files/DTC/logo/dtc_logo_2.png
                  description: URL to the image. This can be a data url or an remote url
                size_type:
                  required: optional
                  type: string
                  owner: BPP
                  usage: xs
                  description: Size type of URL image
            price:
              currency:
                required: mandatory
                type: string
                owner: BPP
                usage: INR
                description: Price of the selected item.
              value:
                required: mandatory
                type: integer
                owner: BPP
                usage: 35
                description: Describes a numerical value in decimal form
            quantity:
              selected:
                count:
                  required: mandatory
                  type: integer
                  owner: BAP
                  usage: 2
                  description: >-
                    This represents the quantity selected for purchase of the
                    item
            fulfillment_ids:
              required: mandatory
              type: string
              owner: BPP
              usage: F1
              description: Unique reference ID to the fulfillment of an order
            time:
              label:
                required: mandatory
                type: string
                owner: BPP
                usage: PT2D
                description: Time duration for servicibility
              duration:
                required: mandatory
                type: string
                owner: BPP
                usage: Validity
                description: label for time
          provider:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: P1
              description: Id of the provider
            descriptor:
              name:
                required: mandatory
                type: string
                owner: BPP
                usage: Delhi Metro Rail Limited
                description: Physical description of something.
              images:
                url:
                  required: optional
                  type: string
                  owner: BPP
                  usage: https://delhimetrorail.com/logos/logo.ico
                  description: URL to the image. This can be a data url or an remote url
          fulfillments:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: F1
              description: Unique reference ID to the fulfillment of an order
            stops:
              type:
                required: mandatory
                type: string
                owner: BPP
                usage: START
                description: >-
                  The type of stop. Allowed values of this property can be
                  defined by the network policy.
              instructions:
                name:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: Stop 1
                  description: Physical description of something.
              location:
                descriptor:
                  name:
                    required: mandatory
                    type: string
                    owner: BPP
                    usage: kashmere gate
                    description: Physical description of something.
                  code:
                    required: mandatory
                    type: string
                    owner: BPP
                    usage: KASHMERE_GATE
                    description: Physical description of something.
                gps:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: 28.666576, 77.233332
                  description: Describes a GPS coordinate
              authorization:
                type:
                  required: optional
                  type: string
                  owner: BPP
                  usage: QR
                  description: Describes type of Authorization
                token:
                  required: false
                  type: string
                  owner: BPP
                  usage: >-
                    iVBORw0KGgoAAAANSUhEUgAAAH0AAAB9AQAAAACn+1GIAAAApklEQVR4Xu2UMQ4EMQgD/QP+/0vK6zjsvayUMmavWxQpMAUBkwS12wcveAAkgNSCD3rR5Lkgoai3GUCMgWqbAEYR3HxAkZlzU/0MyBisYRsgI1ERFfcpBpA+ze6k56Cj7KTdXNigFWZvSOpsgqLfd18i2aAukXh9TXBNmdWt5gzA/oqzWkkN8HtA7G8CNOwYAiZt3wZixUfkA32OHNQq7Bxs9oI/gC/9fV8AVCkPjQAAAABJRU5ErkJggg==
                  description: Describes authorization token
                valid_to:
                  required: false
                  type: string
                  owner: BPP
                  usage: '2021-03-23T23:59:59.999Z'
                  description: Describes validity for authorization token
              id:
                required: mandatory
                type: string
                owner: BPP
                usage: 2
                description: Unique reference ID for individual stop
              parent_stop_id:
                required: optional
                type: string
                owner: BPP
                usage: 1
                description: Unique ID for referencing parent stop
            vehicle:
              category:
                required: false
                type: string
                owner: BPP
                usage: BUS
                description: Describes vehicle category
            tags:
              ROUTE_INFO:
                required: Mandatory
                type: string
                owner: BPP
                usage: '--'
                description: Describes route info
                ROUTE_ID:
                  required: Mandatory
                  type: string
                  owner: BPP
                  usage: '--'
                  description: Describes route id
                ROUTE_DIRECTION:
                  required: Mandatory
                  type: string
                  owner: BPP
                  usage: '--'
                  description: Describes route direction
          billing:
            name:
              required: optional
              type: string
              owner: BAP
              usage: John Doe
              description: Name of the billable entity
            email:
              required: optional
              type: string
              owner: BAP
              usage: john_doe@example.com
              description: Email address where the bill is sent to
            phone:
              required: optional
              type: integer
              owner: BAP
              usage: 9897867564
              description: Phone number of the billable entity
          quote:
            price:
              value:
                required: mandatory
                type: integer
                owner: BPP
                usage: 70
                description: Describes the price of a product or service
              currency:
                required: mandatory
                type: string
                owner: BPP
                usage: INR
                description: Describes the currency of a product or service
            breakup:
              title:
                required: mandatory
                type: string
                owner: BPP
                usage: Base Fare
                description: Breakup title of the total quoted price
              item:
                id:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: I1
                  description: ID of the item.
              price:
                currency:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: INR
                  description: Describes the price of a product or service
                value:
                  required: mandatory
                  type: integer
                  owner: BPP
                  usage: 35
                  description: Describes the currency to be paid in of a product or service
          payments:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: PA1
              description: >-
                ID of the payment term that can be referred at an item or an
                order level in a catalog
            collected_by:
              required: mandatory
              type: string
              owner: BAP
              usage: BAP
              description: 'This field indicates who is the collector of payment. '
            status:
              required: mandatory
              type: string
              owner: BAP
              usage: NOT-PAID
              description: Payment Status
            type:
              required: mandatory
              type: string
              owner: BAP
              usage: PRE-ORDER
              description: Payment type
            params:
              transaction_id:
                required: mandatory
                type: string
                owner: BPP
                usage: 34cc9b0b-6887-4c63-8397-2f4fcf03e50d
                description: >-
                  The reference transaction ID associated with a payment
                  activity
              currency:
                required: mandatory
                type: string
                owner: BPP
                usage: INR
                description: Describes currency value in string form
              amount:
                required: mandatory
                type: string
                owner: BPP
                usage: 70
                description: Describes a numerical value in decimal form
              bank_code:
                required: optional
                type: string
                owner: BPP
                usage: XXXXXXXX
                description: Bank code associated with payment activity
              bank_account_number:
                required: optional
                type: string
                owner: BPP
                usage: xxxxxxxxxxxxxx
                description: Bank account number associated with payment activity
              virtual_payment_address:
                required: optional
                type: string
                owner: BPP
                usage: 9988199772@okicic
                description: Virtual payment address associated with payment activity
            tags:
              BUYER_FINDER_FEES:
                required: Mandatory
                type: string
                owner: BAP
                usage: '--'
                description: Describes Buyer finder fee
                list:
                  BUYER_FINDER_FEES_TYPE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes Buyer finder fee type
                  BUYER_FINDER_FEES_PERCENTAGE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes Buyer finder fee percentage
              SETTLEMENT_TERMS:
                required: Mandatory
                type: string
                owner: BAP
                usage: '--'
                description: Describes settlement terms
                list:
                  SETTLEMENT_WINDOW:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement window
                  SETTLEMENT_BASIS:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement basis
                  DELAY_INTEREST:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes delay interest
                  STATIC_TERMS:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes static terms
                  SETTLEMENT_AMOUNT:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement amount to counter-party
                  SETTLEMENT_TYPE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement type
          cancellation_terms:
            cancel_by:
              duration:
                required: mandatory
                type: string
                owner: BPP
                usage: PT60M
                description: Duration for cancellation of order
            cancellation_fee:
              percentage:
                required: mandatory
                type: string
                owner: BPP
                usage: false
                description: Fee Percentage for cancellation
    update:
      context:
        location:
          country:
            code:
              required: mandatory
              type: string
              owner: BAP
              sample usage: IND
              description: Describes country code as per ISO 3166-1 and ISO 3166-2 format
          city:
            code:
              required: mandatory
              type: string
              owner: BAP
              sample usage: '*'
              description: Describes the city code this location is, or is located within
        domain:
          required: mandatory
          type: string
          owner: BAP
          sample usage: ONDC:FIS13
          description: Describes domain code that is relevant to this transaction context
        timestamp:
          required: mandatory
          type: string
          owner: BAP
          sample usage: '2023-03-23T04:41:16Z'
          description: Describes tme of request generation in RFC3339 format
        bap_id:
          required: mandatory
          type: string
          owner: BAP
          sample usage: fis.test.bap.io
          description: Describes subscriber ID of the BAP
        transaction_id:
          required: mandatory
          type: string
          owner: BAP
          sample usage: 6743e9e2
          description: Describes  a unique value which persists across all API calls
        message_id:
          required: mandatory
          type: string
          owner: BAP
          sample usage: 13ba8018f176
          description: >-
            Describes a unique value which persists during a request / callback
            cycle.
        version:
          required: mandatory
          type: integer
          owner: BAP
          sample usage: 2.0.0
          description: >-
            Describes the version of transaction protocol being used by the
            sender.
        action:
          required: mandatory
          type: string
          owner: BAP
          sample usage: update
          description: >-
            Describes the Beckn protocol method being called by the sender and
            executed at the receiver.
        bap_uri:
          required: mandatory
          type: string
          owner: BAP
          sample usage: https://fis.test.bap.io/
          description: >-
            Describes subscriber URL of the BAP for accepting callbacks from
            BPPs.
        ttl:
          required: mandatory
          type: string
          owner: BAP
          sample usage: PT30S
          description: >-
            Describes the duration in ISO8601 format after timestamp for which
            this message holds valid
        bpp_id:
          required: mandatory
          type: string
          owner: BPP
          sample usage: fis.test.bpp.io
          description: Describes subscriber ID of the BPP
        bpp_uri:
          required: mandatory
          type: string
          owner: BPP
          sample usage: https://fis.test.bpp.io/
          description: Describes subscriber URL of the BPP for accepting calls from BAPs.
      message:
        update_target:
          required: mandatory
          type: string
          owner: BAP
          sample usage: order.billing
          description: Denotes target to be updated
        order:
          id:
            required: mandatory
            type: string
            owner: BAP
            sample usage: O1
            description: 'Human-readable ID of the order. '
          billing:
            name:
              required: optional
              type: string
              owner: BAP
              sample usage: John Doe
              description: billing name of customer
            email:
              required: optional
              type: string
              owner: BAP
              sample usage: john_doe@example.com
              description: billing email address of customer
            phone:
              required: optional
              type: string
              owner: BAP
              sample usage: 9897867564
              description: billing phone number of customer
    on_update:
      context:
        location:
          country:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: IND
              description: Describes country code as per ISO 3166-1 and ISO 3166-2 format
          city:
            code:
              required: mandatory
              type: string
              owner: BAP
              usage: '*'
              description: Describes the city code this location is, or is located within
        domain:
          required: mandatory
          type: string
          owner: BAP
          usage: ONDC:FIS13
          description: Describes domain code that is relevant to this transaction context
        timestamp:
          required: mandatory
          type: string
          owner: BAP
          usage: '2023-03-23T04:41:16Z'
          description: Describes tme of request generation in RFC3339 format
        bap_id:
          required: mandatory
          type: string
          owner: BAP
          usage: fis.test.bap.io
          description: Describes subscriber ID of the BAP
        transaction_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 6743e9e2
          description: Describes  a unique value which persists across all API calls
        message_id:
          required: mandatory
          type: string
          owner: BAP
          usage: 13ba8018f176
          description: >-
            Describes a unique value which persists during a request / callback
            cycle.
        version:
          required: mandatory
          type: integer
          owner: BAP
          usage: 2.0.0
          description: >-
            Describes the version of transaction protocol being used by the
            sender.
        action:
          required: mandatory
          type: string
          owner: BAP
          usage: on_update
          description: >-
            Describes the Beckn protocol method being called by the sender and
            executed at the receiver.
        bap_uri:
          required: mandatory
          type: string
          owner: BAP
          usage: https://fis.test.bap.io/
          description: >-
            Describes subscriber URL of the BAP for accepting callbacks from
            BPPs.
        ttl:
          required: mandatory
          type: string
          owner: BAP
          usage: PT30S
          description: >-
            Describes the duration in ISO8601 format after timestamp for which
            this message holds valid
        bpp_id:
          required: mandatory
          type: string
          owner: BPP
          usage: fis.test.bpp.io
          description: Describes subscriber ID of the BPP
        bpp_uri:
          required: mandatory
          type: string
          owner: BPP
          usage: https://fis.test.bpp.io/
          description: Describes subscriber URL of the BPP for accepting calls from BAPs.
      message:
        order:
          id:
            required: mandatory
            type: string
            owner: BAP
            usage: O1
            description: 'Human-readable ID of the order. '
          items:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: I1
              description: ID of the item.
            descriptor:
              name:
                required: mandatory
                type: string
                owner: BPP
                usage: Single Journey Ticket
                description: Physical description of something.
              code:
                required: mandatory
                type: string
                owner: BPP
                usage: SJT
                description: Physical description of something.
              images:
                url:
                  required: optional
                  type: string
                  owner: BPP
                  usage: >-
                    https://dtc.delhi.gov.in/sites/default/files/DTC/logo/dtc_logo_2.png
                  description: URL to the image. This can be a data url or an remote url
                size_type:
                  required: optional
                  type: string
                  owner: BPP
                  usage: xs
                  description: Size type of URL image
            price:
              currency:
                required: mandatory
                type: string
                owner: BPP
                usage: INR
                description: Price of the selected item.
              value:
                required: mandatory
                type: integer
                owner: BPP
                usage: 35
                description: Describes a numerical value in decimal form
            quantity:
              selected:
                count:
                  required: mandatory
                  type: integer
                  owner: BAP
                  usage: 2
                  description: >-
                    This represents the quantity selected for purchase of the
                    item
            fulfillment_ids:
              required: mandatory
              type: string
              owner: BPP
              usage: F1
              description: Unique reference ID to the fulfillment of an order
            time:
              label:
                required: mandatory
                type: string
                owner: BPP
                usage: PT2D
                description: Time duration for servicibility
              duration:
                required: mandatory
                type: string
                owner: BPP
                usage: Validity
                description: label for time
          provider:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: P1
              description: Id of the provider
            descriptor:
              name:
                required: mandatory
                type: string
                owner: BPP
                usage: Delhi Metro Rail Limited
                description: Physical description of something.
              images:
                url:
                  required: optional
                  type: string
                  owner: BPP
                  usage: https://delhimetrorail.com/logos/logo.ico
                  description: URL to the image. This can be a data url or an remote url
          fulfillments:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: F1
              description: Unique reference ID to the fulfillment of an order
            stops:
              type:
                required: mandatory
                type: string
                owner: BPP
                usage: START
                description: >-
                  The type of stop. Allowed values of this property can be
                  defined by the network policy.
              instructions:
                name:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: Stop 1
                  description: Physical description of something.
              location:
                descriptor:
                  name:
                    required: mandatory
                    type: string
                    owner: BPP
                    usage: kashmere gate
                    description: Physical description of something.
                  code:
                    required: mandatory
                    type: string
                    owner: BPP
                    usage: KASHMERE_GATE
                    description: Physical description of something.
                gps:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: 28.666576, 77.233332
                  description: Describes a GPS coordinate
              authorization:
                type:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: QR
                  description: Describes type of Authorization
                token:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: >-
                    iVBORw0KGgoAAAANSUhEUgAAAH0AAAB9AQAAAACn+1GIAAAApklEQVR4Xu2UMQ4EMQgD/QP+/0vK6zjsvayUMmavWxQpMAUBkwS12wcveAAkgNSCD3rR5Lkgoai3GUCMgWqbAEYR3HxAkZlzU/0MyBisYRsgI1ERFfcpBpA+ze6k56Cj7KTdXNigFWZvSOpsgqLfd18i2aAukXh9TXBNmdWt5gzA/oqzWkkN8HtA7G8CNOwYAiZt3wZixUfkA32OHNQq7Bxs9oI/gC/9fV8AVCkPjQAAAABJRU5ErkJggg==
                  description: Describes authorization token
                valid_to:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: '2021-03-23T23:59:59.999Z'
                  description: Describes validity for authorization token
              id:
                required: mandatory
                type: string
                owner: BPP
                usage: 2
                description: Unique reference ID for individual stop
              parent_stop_id:
                required: optional
                type: string
                owner: BPP
                usage: 1
                description: Unique ID for referencing parent stop
            vehicle:
              category:
                required: mandatory
                type: string
                owner: BPP
                usage: BUS
                description: Describes vehicle category
            tags:
              ROUTE_INFO:
                required: Mandatory
                type: string
                owner: BPP
                usage: '--'
                description: Describes route info
                ROUTE_ID:
                  required: Mandatory
                  type: string
                  owner: BPP
                  usage: '--'
                  description: Describes route id
                ROUTE_DIRECTION:
                  required: Mandatory
                  type: string
                  owner: BPP
                  usage: '--'
                  description: Describes route direction
          billing:
            name:
              required: optional
              type: string
              owner: BAP
              usage: John Doe
              description: Name of the billable entity
            email:
              required: optional
              type: string
              owner: BAP
              usage: john_doe@example.com
              description: Email address where the bill is sent to
            phone:
              required: optional
              type: integer
              owner: BAP
              usage: 9897867564
              description: Phone number of the billable entity
          quote:
            price:
              value:
                required: mandatory
                type: integer
                owner: BPP
                usage: 70
                description: Describes the price of a product or service
              currency:
                required: mandatory
                type: string
                owner: BPP
                usage: INR
                description: Describes the currency of a product or service
            breakup:
              title:
                required: mandatory
                type: string
                owner: BPP
                usage: Base Fare
                description: Breakup title of the total quoted price
              item:
                id:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: I1
                  description: ID of the item.
              price:
                currency:
                  required: mandatory
                  type: string
                  owner: BPP
                  usage: INR
                  description: Describes the price of a product or service
                value:
                  required: mandatory
                  type: integer
                  owner: BPP
                  usage: 35
                  description: Describes the currency to be paid in of a product or service
          payments:
            id:
              required: mandatory
              type: string
              owner: BPP
              usage: PA1
              description: >-
                ID of the payment term that can be referred at an item or an
                order level in a catalog
            collected_by:
              required: mandatory
              type: string
              owner: BAP
              usage: BAP
              description: 'This field indicates who is the collector of payment. '
            status:
              required: mandatory
              type: string
              owner: BAP
              usage: NOT-PAID
              description: Payment Status
            type:
              required: mandatory
              type: string
              owner: BAP
              usage: PRE-ORDER
              description: Payment type
            params:
              transaction_id:
                required: mandatory
                type: string
                owner: BPP
                usage: 34cc9b0b-6887-4c63-8397-2f4fcf03e50d
                description: >-
                  The reference transaction ID associated with a payment
                  activity
              currency:
                required: mandatory
                type: string
                owner: BPP
                usage: INR
                description: Describes currency value in string form
              amount:
                required: mandatory
                type: string
                owner: BPP
                usage: 70
                description: Describes a numerical value in decimal form
              bank_code:
                required: optional
                type: string
                owner: BPP
                usage: XXXXXXXX
                description: Bank code associated with payment activity
              bank_account_number:
                required: optional
                type: string
                owner: BPP
                usage: xxxxxxxxxxxxxx
                description: Bank account number associated with payment activity
              virtual_payment_address:
                required: optional
                type: string
                owner: BPP
                usage: 9988199772@okicic
                description: Virtual payment address associated with payment activity
            tags:
              BUYER_FINDER_FEES:
                required: Mandatory
                type: string
                owner: BAP
                usage: '--'
                description: Describes Buyer finder fee
                list:
                  BUYER_FINDER_FEES_TYPE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes Buyer finder fee type
                  BUYER_FINDER_FEES_PERCENTAGE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes Buyer finder fee percentage
              SETTLEMENT_TERMS:
                required: Mandatory
                type: string
                owner: BAP
                usage: '--'
                description: Describes settlement terms
                list:
                  SETTLEMENT_WINDOW:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement window
                  SETTLEMENT_BASIS:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement basis
                  DELAY_INTEREST:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes delay interest
                  STATIC_TERMS:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes static terms
                  SETTLEMENT_AMOUNT:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement amount to counter-party
                  SETTLEMENT_TYPE:
                    required: Mandatory
                    type: string
                    owner: BAP
                    usage: '--'
                    description: Describes settlement type
          cancellation_terms:
            cancel_by:
              duration:
                required: mandatory
                type: string
                owner: BPP
                usage: PT60M
                description: Duration for cancellation of order
            cancellation_fee:
              percentage:
                required: mandatory
                type: string
                owner: BPP
                usage: false
                description: Fee Percentage for cancellation
